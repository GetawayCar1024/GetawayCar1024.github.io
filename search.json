[{"title":"2025 年日祭","url":"/article/2025-%E5%B9%B4%E6%97%A5%E7%A5%AD/","content":"本文将同步发表于洛谷（暂无法访问）、CSDN 与 Github 个人博客。\n2025.12025.1.4 新的一年今日歌曲：New Year’s Day\n去年停课的时候是有记日祭的，但是有一些是手写的，一直都还没有整理好。今天看到一个简单的trick，想记下来。于是，就又开始写日祭了。\n\n[洛谷 P2831] [NOIP2016 提高组] 愤怒的小鸟\n一道远古状压题了。（一是指题目本身远古，二是指这道题是好久之前就该做的题。）看到第一篇题解的trick，想起去年暑假集训的时候也有这样一个trick，但是忘了是哪道题。这个trick挺简单的，但也挺好用：状压时，如果目标状态是全0或全1，并且转移顺序不影响结果，那么可以直接从最低位的1或0转移，因为最低位最终一定会被转移，而顺序又不影响结果，所以这样做可以优化掉  的复杂度。其他的按正常状压即可。\n\n[Atcoder ARC100E] Or Plus Max\n今天学了 SOSDP，挺神奇的一种 DP。这个题算是板子题吧。只用维护子集的最大值与次大值即可。\n\n\n今天下午给初二机房的办了一场比赛，整体比较顺利。（所以没做什么题。）比赛链接：CWOI ER 1 &amp; NYR。\n今天感觉要掉橙了，但是Rated的比赛还要等一周。想着把之前那篇被打回的题解改了交了，但是晚上写给初二机房的的题解了，没空。看明天改吧。\n2025.1.10 新的开始今日歌曲：Castles Crumbling\n今天考完期末，回来一看，天塌了，掉橙了。明天打一场比赛。\n现在终于确定15班后续的各种事项了。又是一个新的开始。\n另外，我就莫名奇妙地进省选了（尽管是体验名额）。还有一个有趣的事实：\n\n我没有提高组一等奖，然而我进了NOIP（体验名额）；我没有NOIP一等奖，但我进了省选（体验名额）。\n\n期待人生中的第一场SCOI（希望不要爆零）。\n2025.1.12 言而无信今日歌曲：Back To December （好吧其实是存货）\n我果然是一个言而无信的人。踩一脚前天的日祭，昨天还是没打比赛。\n今天%你赛，除了暴力的B和C，其它全挂了分。至于A，调试的时候把模数写掉了。被暴扣70分呜呜呜。\n最终荣获  的高分。\n\nA - 括号序列\n题目：给一个由左右括号构成的字符串 ，对于每一个位置 ，输出有多少个子串，满足这个子串是一个合法的括号序列，并且  这个位置在子串中。\n题解：简单维护前缀与后缀的括号数量即可。（忘写该死的模数暴扣70pts。）\n\nC - 矩阵删除\n题目：给一个  的 01 矩阵，我们想在每一行删除一个元素，得到一个  的矩阵。其中删除的元素的位置 ，满足 。请问最后能得到多少种不同的矩阵。两个矩阵如果删除的元素位置不同，但最后得到的结果相同，我们认为是相同的。由于答案很大，输出答案对  取模的值。\n题解：比较板的DP，但是赛时思路没那么清晰，也没去推式子。分别维护对于每一个位置的方案数以及与旁边位置重合的方案数，推出式子后发现全都是求和，于是用前缀和维护即可。\n\n\n2025.1.13 乐极生悲今日歌曲：Wonderland\n今天期末考试考完了，整体还行，语文更是考到了惊人的 ，要知道我之前最高的一次也就  左右，而且还经常上不了 ，这次简直是超常发挥。听到成绩的时候直接喜极而泣了。\n下午体育课，刚好初一体锻放歌，放得全是霉霉的歌，我还去点了几首。开心。\n然而下课要集合的时候，我小跑了一下，而这下就恰好被足球爆头，眼镜镜架直接断掉，箍牙的铁丝直接断掉，嘴皮直接被铁钉磨得烂掉，鼻子被眼镜压了一个印子，还在流鼻血。\n真是乐极生悲。\n2025.1.17 傻子游戏今日歌曲：Foolish One\n今天开始上课六天。\n昨天听说 jmr 拿了清华一等约。祝贺他。\n这周二（1.14）已经回到15班了。\n昨天晚上玩梗发癫，还玩了离谱的傻子游戏。达成成就：在5.5h里睡够8h。\n上午%你赛，T1忘了判零挂了10pts，T3是之前做过的一道原题，于是赛时死磕，最后没调出来。赛时的思路基本上是对的，但是没想到容斥；又因为我钦定的一个条件有问题，导致正确性略有问题，最后没调出来。\n喜提  分。\n\nA - 串\n题目：在虱子王国，一句话由  个词组成，其中恰好有  个词是怪的，其它的词都不是怪的。众所周知，负负得正，我们定义一句话的一个区间是怪的，当且仅当其中含有奇数个怪词。请构造一句符合条件的话，使得其中怪的区间数量最多。\n题解：发现答案为奇数块乘上偶数块。构造即可。\n\nB - 艺术家\n题目：给定一个长度为 n 的颜色序列 。再给出  个区间，第  个区间为 ，保证任何两个区间都是不相交或包含的关系。在接下来的  个单位时间内，第  个时间会给定 ，表示将  变为 。请对于每一个区间求出，最早的其中所有颜色都互不相同的时间。\n题解：\n\n保证任何两个区间都是不相交或包含的关系。\n\n所以可以把区间建成一棵树。当一个子区间合法，其父区间才有可能合法。在原数轴上维护  表示  之前第一个颜色与  相同的点，则一个区间内部颜色互不相同等价于 。使用线段树维护。对于  的更新，用 set 维护。即可。（难写死了，还没写完。）\n\nC - 黑白树 （[Atcoder ARC108F] Paint Tree）\n题解：画一个直径上吊着节点的图，讨论一个节点在什么时候可以带来贡献。容斥计算即可。\n\n\n晚上打了入门赛，可以加咕值了。\n晚自习最后10分钟，记一些话。\n\n我的信竞，在进步么？看起来好像是的。要是拿现在的我和一年前的我对比，那已足以  倍杀。但……补过的题还是不会做，码量大一点的又不愿意写，一到晚自习就写不动了，于是写一会儿又开始划水。我倒有一个优点，就是一般不会去刷水题（除了入门赛）。但是，难一些的题……绿题效率低，蓝题想不全于是又看题解，紫题几乎无法独立完成。\n最终做了的题似乎是白做。\n……\n终究还是人的问题。\n\n2025.1.18 正难则反今日歌曲：Wildest Dream\n这两天换了头像。\n今天上午VP CodeForces Round 997 (Div. 2)。\n\n[CodeForces 2056A] Shape Perimeter\n计算重叠部分即可。\n\n[CodeForces 2056B] Find the Permutation\n我们总是建从小节点到大节点的有向边，对这个DAG进行拓扑排序。因为我们有时并不想让一个小节点往大节点连边，所以用堆维护入度为零的点即可。（可恶，赛时多测不清空卡了我一发。）\n\n[CodeForces 2056C] Palindromic Subsequences\n挺玄学的构造题。我们希望大概长这样的结构：\n个个\n这样构造出的答案有  个，可以通过。稍微分讨一下即可。\n赛后看了一下题解，发现自己好唐：\n\n\n[CodeForces 2056D] Unique Median\n又是一道正难则反，计算坏的序列的个数。这道题的trick挺巧妙的，但没接触过，确实想不出来。发现长度为奇数的序列一定不是坏的，所以只考虑偶数长度序列。对于一个序列的中位数 ，将序列中  的数化为 ，其它的化为 。若最终区间和为 ，那么这个序列就是坏的。另外要注意去重。维护前缀和即可。\n\n[CodeForces 2056E] Nested Segments\n组合数学。这个包含或不交的关系恰好和昨天的B差不多。我们想要尽可能多的节点数量，那么需要构造成二叉树。（这里具体不想证明。）对于某一个节点，设其儿子数量为 ，则计算 （卡特兰数）即可。\n\n\n下午先把E题改了，学习了一下吉司机线段树。这东西挺好理解的，写起来也很爽，但就是又臭又长又难调。\n\n[洛谷 P10639] [BZOJ4695] 最佳女选手\n这道题本来是第二道模板题的，但因为第一题相当于第二题的子问题，所以直接冲着这道题来了。写板子即可。（啊啊啊终于还是讨厌上吉司机线段树了啊。）\n\n\n今天整理了一些去年的日祭。还没把手写的整理上去。\n2025.1.19 简直糖丸今日歌曲：All You Have To Do Was Stay\n今天上午%你赛，T1爆零了，简直糖丸。一共得了  分的高分。\n下午给初二讲题，讲得……简直糖丸。\n烦球，今天最后几乎啥都没干。\n啊不是为什么T1爆炸啊。\n2025.1.20 简直乐丸今日歌曲：Daylight\n昨晚又是在5.5h内睡满8h的一晚。\n今天上午VP CodeForces Round 998 (Div. 3)。才做四道，糖丸了。\n\n[CodeForces 2060E] Graph Composition\n赛时就很唐。并查集查连通并算连通块即可。\n\n[CodeForces 2060F] Multiplicative Arrays\n一道很好的DP+组合数学题。赛时推式子感觉推出来了，结果赛后再一看伪了。很容易发现，，所以DP计算非  元素的情况，再用组合数学即可。\n\n[CodeForces 2060G] Bugged Sort\n这个题就挺有意思的。这篇题解感觉讲得比官方题解还要清晰。可以观察到，当 ，我们可以任意（正常）交换两组的位置。因此，我们可以将两组数进行翻转。换而言之，进行翻转的次数必须是偶数次。这里记翻转次数为 。我们把较小的数放在 ，较大的放在 。若按  排序后  有序，那么该组数据有解，当且仅当满足这三个条件之一：\n\n\n，此时可以选择交换奇数组数翻转以改变  的奇偶性，处于“无敌”状态。\n，此时可以翻转全部以改变  的奇偶性。\n\n否则无解。判断即可。\n\n\n今天下午看了一个2025年度第一个乐子（原帖，内部帖），简直乐丸。\n又一个新梗诞生了：\n\n@chen_zhe 管理制度错了就要改，不能让无辜的人以泪洗面，如果管理制度还是这样的话，洛谷将会越来越腐败！！，我大不了就棕名，我要让洛谷知道瞎诬陷的严重性！\n\n2025.1.21 反则难证今日歌曲：deja vu\n今天上午VP CodeForces Round 999 (Div. 1 + Div. 2)，状态还好。\n\n[CodeForces 2061C] Kevin and Puzzle\n有点思维的DP，题目挺好的。\n\n[CodeForces 2061D] Kevin and Numbers\n又是一道正难则反。我们很难将  合并，那就把  中不合法的进行拆分。用 map 维护即可。其实这道题也好证 ，只是想凑一个小标题罢了。\n\n[CodeForces 2061E] Kevin and And\n这题有点……难评。为什么字典树过不了啊……\n因为  很小，所以对  进行状压，再将  的变化量压进堆里选最大的  个即可。（好吧其实不是特别理解。）\n\n\nF 听不懂。\n附一张梗图。\n\n（这里声明一下，不是 jmr 讲得不好，而是实在听不懂。）\n2025.1.22 比特塞特今日歌曲：Maroon\n年前最后一天了。\n上午%你赛 。T3没用 bitset 优化暴扣了  分。可恶。\n\nA - bins （[洛谷 P6807] [BalticOI 2010 Day2] Matching Bins）\n差分即可。\n\nC - candies（[洛谷 P6808] [BalticOI 2010 Day2] Candies）\n题解。\n\n\n2025.22025.2.8 水讨论区今日歌曲：Bigger Than The Whole Sky\n今天洛谷讨论区关闭了。（以后不能水讨论区了。）\n这个寒假，什么也没干。一看进度，已经和初二的差不多。但是他们第一遍拉得挺快，估计效果不大。\n我如果现在回去，在那边又吃不饱。于是，就只有多肝一肝，把之前的进度补上来。\n晚上打ABC392。\n\n[Atcoder ABC392E] Cables and Servers\n略考细节的题。先找连通块，之后再找每个连通块中的返祖边（即无用的边），再把连通块连通即可。\n（可是这题我赛时AC，后来突然想到一个hack。还没改，烦死了。）\n\n\n2025.2.9 终于战胜今日歌曲：Holyground\n综合题1。\n\n[Gym 103466I] Space Station\n神奇搜索题，暴搜+剪枝+略微组合数学即可。\n神奇卡常题目，拼尽全力，2700ms+，终于冲进3s。\n\n[Gym 101982D] Count The Bits\n很普通的一道DP题，可是赛时都在想组合数学。\n 表示到第  位模  的值为  的数中  的数量， 表示到第  位模  的值为  的数的数量，直接转移即可。\n\n[Gym 102428F] Fabricating Sculptures\n神奇DP题。最开始看题解都没看懂，一是自己确实不理解是怎么算的，二是题解写得比较简略，看了好久才看懂。\n设  表示从上往下一层层放，当前一共放了  个，最下面一层放了  个的方案数。有方程 （希望没写错）。将这个式子拆开再维护前缀和即可。（开了long long见祖宗。）\n\n[Gym 104172F] Sum of Numbers\n很有趣的一道题。很容易发现，两个相邻字符串长度之差（的绝对值）为  或 。暴搜即可。\n赛时的想法是，将原字符串平均分，再给  或  的偏移。可是偏移少了一些，虽然没 TLE 但一直 WA，拼尽全力无法战胜。\n赛后再改一改，拼尽全力终于战胜。\n\n\n今天本来说再补补昨天的 F，改改昨天的 E，结果今天的第三题看半天看不懂，昨天的 E 和 F 都没做。\n最终今天做了四道题。\n感觉心态有点崩。（尤其是看第三题的时候。）\n……\n2025.2.10 放弃即可今日歌曲：Peace\n综合题2。\n今天还做出了一道题。\n\n[Gym 100861E] Extreme Programming\n看了题解真的好简单。首先我们先确定这些问题的顺序。推推式子，排序即可。现在，我们不用考虑顺序，只用直接背包，找出最大的  与最小的  即可。\n可是这道题不知道哪里写挂了，WA on test 15。**放弃即可**。\n\n[Gym 100217I] Sharing the Sweets\n分拆数板子题。（可是我不会。）写板子即可。\n分拆数 OI Wiki。\n\n[Gym 100202A] Little Brackets\n这题着实简单。设  表示放了  个括号，当前高度为 ，是否到过最高点（深度为 ）的方案数。直接转移即可。\n可是赛时想多了，一直在想组合数学。或许先设方程再推会好一些。\n赛时还因为多测不清空挂了四发。\n\n\n今天还举办了 CWOI ER 2 &amp; 1 &gt; 2 Round，感觉对于他们还是太难了。\n（今天字符数破  了。）\n2025.2.11 放弃即可今日歌曲：Pink Pony Club\n模拟赛 。\n\nB - 刀言刀语 （[洛谷 P6864] [RC-03] 记忆）\n今天给的题解以及同学讲解的都是非矩阵做法，可是听得迷迷糊糊。一下午尝试乱搞做法，结果没搞出来，最后，一道题都没改出来，**放弃即可**。晚上终于学习了矩阵，基本学懂了，这才发现矩阵有多好用。之后又看了这道题的矩阵+线段树做法，终于基本懂了。\n将这些数据打包成矩阵：。对于操作一，等同于 。对于操作二，等同于 。对于操作三，若是恢复某个操作，则与操作一二相同；若是删除某个操作，则将这个操作设为单位矩阵（），不会对答案产生影响。用线段树维护每个操作对应的矩阵，区间求和（求积）即可。\n这道题记得比较详细，毕竟是第一次接触矩阵。\n\nC - 刀妙构造\n题目：给定一个长度为  的排列 ，通过尽可能少的操作，使得 。判断是否有解。若有解，输出具体的操作。操作的定义：选择  满足 ，交换  与 。\n题解：原本就满足  的位置将原数组分割成若干个块。对于每个块，若是目标的一种排列则有解。设当前块为 ，则依次把数  移到位置 。要注意的是，在移动的过程中，可能会使得其它的  成立。所以我们将这些即将成立的位置先进行偏移，再将当前的数移到目标位置即可。\n扩展：尝试在  的时间复杂度内求出有解的排列个数，对  取模。\n\n\n这几天强度还是比较高，因为跟进度跟得有点吃力了。今天晚上眼睛疼，难受。\n2025.2.12 罚时吃饱今日歌曲：two years\n今天上午VP Codeforces Round 1004 (Div. 2)，下午改Codeforces Round 1004 (Div. 1)。上午C题因为少判了一个条件，罚时吃饱了。\n\n[Codeforces 2066A &amp; 2067D] Object Identification\n神奇交互题。观察到一个性质：对象  的答案可能是 ，但对象  的答案不可能是 。\n若  不是  的一个排列，一定可以找到一个不在  中的数 ，对其与另一个不同的数询问。若是对象 ，因为  没有向任何点连边，所以答案一定为 。若答案不为 ，则是对象 。\n若  是  的一个排列，那么找到满足  的 。询问  与 。若是对象 ，那么两个答案应该是相等的，并且都 （因为 ）。然而如果是对象 ，那么当 ，不可能同时存在一条长度至少为  的  到  的路径与一条长度至少为  的  到  的路径（因为 ）。综上所述，若两个答案相等并且都 ，则是对象 ，否则是对象 。\n按照题解模拟即可。\n\n[Codeforces 2066B &amp; 2067E] White Magic\n这题似乎挺简单的，只是赛时看了一眼但是没多想。\n首先可以注意到，没有  的子序列一定是合法的，有两个及以上的  的子序列一定是非法的。所以要么选所有非零元素，要么选所有非零元素与一个 。\n若是选一个 ，显而易见，选最左侧的  是最优的。于是判断这么选是否合法即可。\n\n[Codeforces 2066C &amp; 2067F] Bitwise Slides\n很有意思的 DP 题。\n我们根据题意可以得出，对于时刻 ，记 ，有 。于是对于某个时刻，有这三种状态：。设  表示这三种状态的情况数，经过推导（具体过程略），可以得出 。发现可以滚动。由于值域较大，用 map 维护 DP 即可。\n\n[Codeforces 2066D1] Club of Young Aircraft Builders (easy version)\n有趣的组合数学题。\n因为下面的楼层并不会影响上面的楼层，所以从下往上考虑。对于某一个高度，丢飞机的次数最多为 ，假设它实际丢  个，则有  种情况。所以设  表示到了第  层楼，已经丢了  个飞机的情况数。有转移方程 。\n答案为 。直接 DP 即可。\n扩展：求证答案为 。\n\n\n今天晚上略水……没做题。但是今天一天综合下来……还将就吧。\n2025.2.13 笑点解析今日歌曲：evermore\n今天 jmr 终于回来了。\n今天学习了李超线段树。\n\n[洛谷 P4097] 【模板】李超线段树 &amp; [HEOI2013] Segment\n刚开始学李超线段树，觉得挺简单的。其实它跟吉司机线段树有点像，只是维护的东西要少一些，并且代码更好写。\n对于每个节点，考虑维护在它中点处的最高线段编号，那么用类似于吉司机线段树区间取 ：若当前线段完全优于原有线段，那么直接替换；若当前线段完全劣于原有线段，那么直接舍弃；若当前线段与原有线段有交点，那么递归更新当前线段较大的那一段。对于查询，直接把路径上所有的线段取  即可。时间复杂度 \n\n[洛谷 P4069] [SDOI2016] 游戏\n纯堆码量的题。首先这题一眼树链剖分，一眼李超线段树。这题算是很基础的树剖，只是套的是李超线段树。\n于是 LCA + 树剖 + 李超线段树 就算是码量炸弹了。也许树剖都这样，只是我没怎么写过。所以……先把模板题写了再说。\n\n[洛谷 P3384] 【模板】重链剖分/树链剖分\n第一道真正意义上的树剖。之前倒是写过一个有点树剖思想的贪心（但那个好像是长链剖分）。\n一共交了四发，笑点解析：前三发线段树没 pushup。由于当时另外没找到问题，于是我严重怀疑是线段树的问题。然后用那个线段树，写了一个线段树的板子，一测挂了，才发现是没写 pushup，糖丸了。\n第一次写树剖，稍微参考了一下题解代码，但整体还是自己在写。树剖其实挺好理解的。\n\n\n写完模板题，该写这道题了。这道题从下午就开始写，一直调到晚上都没调出来，只有明天再补了。\n\n\n今天  把  给  了。适度阻止竞赛低龄化是有道理的，没必要小学就开始竞赛，而且有些  真的很没数值；但另一方面，以后的分数线会有所上升。\n今天晚上  让我们帮他帮另一个人验初赛题。那题……一言难尽。\n2025.2.14 绝世好题今日歌曲：Red Wine Supernova\n今天%你赛，。\n\nB - permutation （[Codeforces 1827B2] [加强版] Range Sorting (Hard Version)）\n绝世好题之神秘计数（？）题。\n又是一道正难则反。容易发现，答案为：\n\n考虑枚举  满足 ，那么 。显而易见， 是  右侧第一个比它大的数，那么 ，其中  满足  是  左侧第一个比它大的数， 是  右侧第一个比  小的数。维护即可。\n这题……题解给的用 set 维护，可惜常数太大，被  卡掉了。他又给了个链表的实现，不想看，于是自己开始研究。\n由于要求的值都是最近的最大/最小值，所以考虑使用单调栈维护。 与  都非常好求，可是如何求  是个问题。\n当时做这道题的时候自己没想出来，后来看原题题解区才懂。做法是，对于前文所提到的 ，维护  个集合 ，满足 。接下来倒序遍历 ，对于每个 ，顺序枚举 ，将单调栈中  的数弹出，栈顶元素即为 。在将每个  操作完后，将  加入单调栈。正确性证明如下（部分摘自原题题解）：\n记  表示查询  右侧第一个比  小的数。（ 含义同上。）若这个询问弹出了 ，那么  的答案显然不为 。现在需要证明  的答案不为 。\n\n若 ，因为 ，所以  可以作为答案，答案不可能是 。\n\n若 ，因为 ，所以答案不可能是 。\n\n若 ，那么 ，否则  右侧第一个比它的的数不可能是 ，所以 ，答案不可能是 。\n\n\n终于证完了。按上述步骤维护即可。\n这题本来就有一定的思维难度。如果用单调栈，这道题的思维难度就更高了。如果用有的数据结构（比如 set），倒是好想好写，可是  卡常。\n\n\n因为今天一下午加晚上一直苦攻 T2，所以昨天的题还没来得及补。\n今天写得很晚了，准确来说已经第二天凌晨了。今天就到这里。\n2025.2.18 无处不在今日歌曲：I Forgot You Existed\n\n“我无处不在。”——\n\n今天在改游戏那道题，最终决定重构！\n2025.2.20 笑点解析今日歌曲：The Archer\n今天还是在改游戏，最后终于还是改出来了。笑点解析又来了。\n\n在  里计算了 。\n\n 在线段树中的编号与实际编号混淆了。\n\n另外还有一些很糖的低级错误，比如右儿子写成  之类的。\n\n\n2025.2.22 显而易见今日歌曲：wish you were gay\n。\n\nA - 怎么又是先增后减 （[Atcoder joisc2014_b] [JOI Day2 T2] たのしい家庭菜園）\n论赛时代码只与正解相差两行，赛时是有多糖。\n显而易见，一个数要么放左边，要么放右边。若放左边，则需要交换当前数与左边逆序对的个数，右边同理。显而易见，取较小的一侧的答案。用数据结构维护即可。\n\n\n2025.2.25 数组开小今日歌曲：mirrorball\n\n[Codeforces 241E] Flights\n神秘又简单的差分约束。显而易见，我们只关注在  到  路径上的点，并且  到路径上每个点的距离都是唯一的。那么有 。差分约束即可。\n做的时候由于数组开小了，挂了若干发，也是糖丸了。\n\n[洛谷 P1993] 小 K 的农场\n模板题。\n\n\n2025.2.27 联合省选今日歌曲：It’s Nice To Have A Friend\n今天写了一点联合省选 2025 游记。\n\n[洛谷 P4926] 倍杀测量者\n模板题。\n\n[洛谷 P2474] [SCOI2008] 天平\n不怎么板但码量极小的题。\n我们要求的是满足  的无序二元组  的个数。由于我们并不知道  中的具体数值，只知道部分大小关系，又发现我们可以把上述和式转化为差式，所以维护两个数的差的范围即可。\n\n\n2025.32025.3.1&amp;2 正常说话这两天参加省选。这里用正常的说话方式补充一些有关考试题目的内容。\n\n[洛谷 P11830] [省选联考 2025] 幸运数字\n钦定中位数为 ，设可重集中小于  的数的个数为 ，等于的是 ，大于的是 ，那么有 ，所以 。为了让  尽量成为中位数，那么考虑让  尽可能大，即能取  的都取 。同时可以得到  的范围，便可判断。用差分维护即可。\n\n[洛谷 P11833] [省选联考 2025] 推箱子\n先考虑打一个暴力，随后发现是区间覆盖（覆盖成 ，其中  是给定值， 是下标。）与区间查询。线段树维护即可。（可是我不会告诉你我写的双  可能要挂分。）\n\n\n2025.3.4 难度偏高今日歌曲：The Lucky One\n今天补了一下 USACO25JAN，铜组难度感觉偏高啊。\n\n[洛谷 P11667] [USACO25JAN] Astral Superposition B\n思维题。先处理 B，这两颗星星一定一颗在当前位置，一颗在左上方对应的位置。接下来处理 G，如果当前位置能够由已有的星星移动而来，则忽略；否则当前位置需要一个星星。即可。\n\n[洛谷 P11672] [USACO25JAN] Table Recovery S\n这题一直没改，今天终于改了。先统计出每个数出现了多少次，仅出现了一次的两个数中的一个便是第一个数。又由于第一个数所在的行/列中的每个数的出现次数是不重复的，于是就可以根据第一个数推出整个表格。比较两个答案中更小的一个输出即可。\n\n\n2025.3.6 正难则反今日歌曲：Naked In Manhattan\n今天中午 C 老师请吃饭，回来就出省选成绩了。省选总分 ，折合 ，。（其实一共也就  个初中生。）\n今天略水。\n\n[洛谷 P11672] [USACO25JAN] Reachable Pairs G\n有趣的正难则反。对于  操作，相当于把当前点换成一个超级原点并不参与计数。所以考虑倒推，先建边（并查集合并）再加贡献。具体地，对于一条边 ，若：\n\n：由于两个点都是超级原点，直接合并  所在的块。\n\n：当枚举到  时合并  所在的块。\n\n：当枚举到  时合并  所在的块。\n\n\n枚举到一个点再加入贡献即可。\n\n\n2025.3.8 打表可得今日歌曲：Starlight\n。\n\nA - 114514\n题目：定义函数 ，其中  是一个长度为  的序列。这个函数的值  满足：\n\n 的长度为 。\n\n 中的元素互不相同。\n\n。\n\n 是满足上述条件的序列中，字典序最小的。\n\n\n现给定 ，求有多少个序列  使得 。\n题解：__打表可得_，每个位置可能的值是独立的，即对于任意一个位置 ， 的取值集合不会随其他值的改变而改变。设  表示值  是否出现过，那么对于  的取值范围就是 ，其中  满足  且 $vis{l - 1} = 0$。并查集维护即可。\n\nC - 深黯「军团」\n题目：给定  与一个长度为  排列 。计算从  开始的接下来  个排列的逆序对个数之和。\n题解：神秘数位 DP。这题赛时还是想到了许多，但是考试时误认为  的较高位不会改变，所以挂成  分（数据好水）。\n赛时想到了通过求一个排列的逆序对来算排名，也想到了要求的就是排名在一个区间内的排列的逆序对数之和，还**通过打表**想到了全排列的逆序对个数的 DP，甚至还想到了类似于阶乘进制的东西，可是因为不会康托展开而没写出来。\n具体地，将  与排列  康托展开。由于康托展开的值的数位之和就是逆序对个数，所以答案为 ，其中  表示  的数位之和。对于重复的部分，直接 DP 即可。\n\n\n2025.3.11 观察样例今日歌曲：Getaway Car\n要改名了。今天 VP Codeforces Round 1008 (Div. 2)，打得烂的一匹，最开始只做了 A 和 B，不过幸好在 2:28 把 E AC 了，不然今天晚上整个人都不好了。\n\n[CodeForces 2077A &amp; 2078C] Breach of Faith\n赛时一直在求 ，然后就被卡死了。\n事实上，发现  更好求一些。。显而易见，把最大值作为  即可不重复。排序即可。\n\n[CodeForces 2077B &amp; 2078E] Finding OR Sum\n神秘交互题。以下均讨论八位整数。观察样例发现，询问  似乎比较有用，可以直接得到 。再根据直觉，考虑询问 ，将得到的答案  再减去  就可以得到  的贡献。为了不让每一位的贡献重叠，我们便想到空一个位置放一个 。这样，我们就可以根据这些数位的贡献来算出这些数位的和（指  对应数位之和）。剩下未知的数位也便可以根据  与已知的数位求出。显而易见，求答案时我们并不在意当前数位具体的值，只在意数位和。所以对于  的每一位只用分讨  或  即可。\n这种题确实挺直觉的，个人觉得也比较靠运气。比如我 C 想了半天就是想不到，这题基本是看一眼就有点想法而且就对了，甚至还是一发入魂。\n\n\n2025.3.15 嗨克数据今日歌曲：This Is Why We Can’t Have Nice Things\n。\n\nD - 完美的答卷\n题目：给定长度为  的数组 ，设 ，求 。\n题解：本题数据过水，以至于赛时对拍拍出了问题但是交到 OJ 上过了。赛时这题也想到了许多，可是逻辑并不清晰，最后还是看了题解并与 dpfs 讨论才想出了以下的解法。\n钦定  是一个区间的最大值， 是这个区间的最小值，且 。设  表示  左侧第一个比  大的位置，则 ，且  在  的单调（递增）栈中，单调栈 + 01trie 维护即可。可是，上述两个集合的交集不一定从  开始，所以对于 trie 树中的一个节点 ，维护  表示经过该点的数的下标的最大值，便可以解决。可是删除又成为了一个问题。考虑用 vector 暴力维护每个  的历史值，理论上时间复杂度不变，只是常数巨大。\n改完之后，就开始造 hack 数据了。似乎有用但不多。\n\n\n2025.3.18 极限 AC今日歌曲：Paper Rings\n今天 VP Codeforces Edu Round 176。由于准备 VP 时 CF 还在系统测试，所以并不算严格意义上的 VP。最后一共做了 4 道，而 D 是在 VP 1:54 时才 AC，此前还有 3 发罚时。也是极限 AC。\n\n[CodeForces 2075C] Two Colors\n先将  排序。发现对于某一种颜色，能够与其搭配的颜色都是连续的一段。所以前缀和并动态维护能够搭配的区间即可。注意略特判  的情况。\n\n[CodeForces 2075D] Equalization\n注意到花费不能重复，所以考虑背包 DP。设  表示将  右移  位、将  右移  位的最小代价，转移十分显然，即可  无脑做。然而由于我赛时太有脑了，非要写 ，最后调了好久才过。下次再也不长脑子了。\n\n\n2025.3.20 疑似双休今日歌曲：I Hate It Here\n后天不用上课，这周疑似可以双休了！\n今天在补好题推荐。\n\n[CodeForces 2078D] Scammy Game Ad\n很符合“时下流行”的题目了。\n考虑 DP，设  表示从第  个左/右门开始，到最后一个门的最大倍率。转移也是十分显然的。对于第  对门通过加法新产生的人数 ，将答案加上  即可。注意最初还有  个人。\n\n\n2025.3.22并不是双休，在家里 VP 模拟赛。\n2025.3.25打 USACO，菜得银组一道都不会。\n2025.3.27\n[CodeForces 2077C] Binary Subsequence Value Sum\n极其有趣的题目了。\n显而易见，，所以一个字符串的权值 。把  换 ，那么 。继续将这个式子化简即可，这里不再赘述。\n\n[CodeForces 2082B] Floor or Ceil\n从二进制角度思考，向上取整等同于先加一再右移一位，向下取整则是直接向右移一位。所以，若一个向上取整操作后还有一个向下取整操作，那么这个向上取整操作相当于是无效的。又有在  次操作之后，最大值最多比最小值大一。所以对于最小值，先向上取整再向下取整即可，最大值反之。\n\n[CodeForces 2081A] Math Division\n考虑多操作一次的期望。多操作一次，则代表在第  位上产生了进位，又因为 ，所以前  位产生了进位（第  位是最高位）。设  表示前  位进位的期望，则：\n\n直接 DP 即可。\n\n\n2025.42025.4.1 愚人节今日歌曲：Forever Winter\n我的日祭之前断更了一段时间，今天终于补上了。\n今天改不动题，于是在出题。\n2025.4.6 水讨论区今日歌曲：Guilty Pleasure\n讨论区居然真的回来了，又可以水讨论区了（。\n今天 VP Codeforces Round 1015, Div. 1 + Div. 2，赛后结算时，发现机房网络得了 MVP。详见犇犇。\n前四题都是沟槽构造，不再赘述。\n\n[Atcoder ABC400F] Happy Birthday! 3\n考虑正难则反。问题转化为：\n\n一个环上有  个物品，颜色分别为 ，每次操作选择两个数  使得 ，对  进行“漂白”，即将颜色都设为 。一次操作的代价为 。求将整个环漂白的最小总代价。\n\n先断环为链。设  表示将  漂白的最小代价，那么显然有 。\n设  表示使  能够漂白的最小代价，那么显然有 。当  时，有 。\n答案即为 。\n\n[Codeforces 2086E] Zebra-like Numbers\n确简单的啊，可是自己就是想不到。\n考虑计算一个数的斑马值。贪心地，尽量选大的斑马数减即可。\n考虑记搜，设  表示  中斑马值为  的数的个数。那么显然有 ，其中  是不大于  的最大的斑马数。具体地， 表示  中斑马值为  的数的个数， 表示  中斑马值为  的数的个数。\n\n\n2025.4.8 过水了今日歌曲：it’s time to go\n过水了今天。\n2025.4.10 证明略今日歌曲：The Albatross\n\n[Atcoder ARC196A] Adjacent Delete\n唐题啊，可是和我相比还是我更唐。\n假设  是偶数。如果我们忽略删除相邻数的条件，即可以任选两个数相减，那么答案应该是前  大的数（记作“较大数”）的和减去前  小的数（记作“较小数”）的和。\n容易发现，当我们只能选相邻数相减时，依然可以达到这个答案，因为在任意时刻，总存在至少一对较大数与较小数相邻。\n当  是奇数，那么一定有一个元素不被选，且这个元素一定在奇数位，这样才能把数组分成长度为偶数的两段。枚举不被选的位置，用对顶堆维护前后两段的答案即可。\n\n[Atcoder パ研合宿2024 第3日 E] Roller Coaster\n人类智慧啊。选高度差最大的边即可。证明略。\n\n[Atcoder パ研合宿2024 第3日 G] Bracket Sequence\n极一眼啊，大概十分钟切了吧。跟翻转括号序列的一个区间那题差不多，这题还简单一点。\n注意到位置  可由  与跟  位置高度相同的位置转移而来。拿一个桶维护后者即可，遇到右括号时记得清零。\n\n\n2025.4.12 写了跟写了一样今日歌曲：august\n模拟赛。\n\nA - 倒水\n题目：有三个容量分别为  的杯子与一个容量为  的一个桶，每次可以：\n\n把一个杯子灌满；\n把一个杯子的水倒出去；\n把一个杯子的水倒到另一个杯子直到这个杯子空了或另一个杯子满了；\n把一个杯子的水倒到桶里。\n\n对于  中的每一个 ，求要使桶装满水，最少的操作次数。\n题解： 发的题解写了跟写了一样。\n容易发现，经过转化，可以得到两种操作：向桶里加  单位水与从桶里舀出  单位水回到对应的杯子（后者是操作一与操作三的结合），每次操作的代价都为二。注意到，对于某一个水杯，若我们用它进行的最后一个操作是操作二，那么代价为一，因为不用把舀出来的水倒出去。设  表示桶里有  单位水的最小代价， 表示三个水杯是否最后用于操作二，那么先正着 DP 一遍，即全部使用操作一，再反着 DP 即可。统计答案时应统计 。\n\nB - 让他们连通 （[Codeforces 1706E] Qpwoeirut and Vertices）\n居然能场切 。\n要让区间  连通，等价于 ， 与  连通。设  表示  与  连通的时间，则答案为 ，可以用 ST 表维护，常数又小又好写。\n对于 ，考虑启发式合并。在合并时，枚举较小的集合的元素，并判断它是否与另一个集合中的元素相邻即可。赛时因为没判  被硬控了半个小时。\n\n\n2025.4.15 不想证明今日歌曲：cardigan\n\n[Atcoder パ研合宿2024 第3日 G] 門松\n无脑做啊，不想证明。\n\n[Atcoder パ研合宿2024 第3日 H] Big XOR Game\n这题评分比括号序列还要低。\n从高到低讨论，对于每一位，设当前位上是  的数的个数是 ，那么有：\nif(((cnt + 1) / 2) &amp; 1 and (cnt / 2) &amp; 1 ^ 1) Alice;if(((cnt + 1) / 2) &amp; 1 ^ 1 and (cnt / 2) &amp; 1) {  if(n &amp; 1) Bob;  else Alice;}\n\n不想详细说明。\n\n\n2025.4.19 输入挂了今日歌曲：Sad Beautiful Tragic\nTTPD 一周年了。\n今天模拟赛因为输入挂了 ，机房 rating 暴涨暴跌。\n\nA - 说唱入门教学\n题目：给定一首歌的歌词（以拼音形式），每两句话一一匹配，，求出  押的个数。\n题解：题面好唐。先把韵母处理出来，然后 trie 树即可。常数极大。\n\nB - 画画入门教学\n构造题，手动推一推小样例即可。\n\n\n2025.52025.5.5 了跟了一样今日歌曲：Fifteen\n又断更了半个月。\n前几周学了一下 AC 自动机，但是学了跟学了一样。\n前几天终于把那套题出完了，但是出了跟出了一样。\n昨天考试，听了评讲，但是改了跟改了一样。\n晚上打 ARC，但是打了跟打了一样。\n\n[Atcoder ARC197C] Removal of Multiples\n唐题啊，但是赛时一直在想整除分块之类的，结果没想出来。\n但是这题也就真纯唐，用线段树维护区间内留下的数的数量即可。需要证个上界。\n\n[Atcoder ARC197D] Ancestor Relation\n好题啊好题。记  表示矩阵的第  行的内容（用 bitset 维护）。\n考虑什么时候有 。因为与孩子有关系的节点一定与祖先有关系，但与祖先有关系的节点不一定与孩子有关系。所以有  或 ，前者对应  是  的祖先，后者则对应  是  的祖先。容易证明这是一个充要条件，那么若 ，则一定不存在  与 。\n接下来考虑一种特殊情况：，此时  在一条没有任何分岔的一条“链”上，那么这条链上的节点的位置就可以互换。设一组  相同的点的数量为 ，那么这一组点可以带来  的贡献。\n此外，，显然需要有 。那么我们就总结出以下三条条件或贡献：\n\n。\n 或 ，当且仅当 。（等价于：，当且仅当  或 。）\n对于极多的  个  相同的数，可以带来  的贡献。\n\n于是按以上三点计算即可。\n\n\n2025.5.18 宇宙射线由于宇宙射线的影响，这里遗失了一篇日祭。主播不想补日祭了。\n前几天又断更了，应该是在补 CQ CCPC 的题吧。主播不想补日祭了。\n（我明明写了的，可不知道这篇日祭怎么就消失了。）\n2025.5.22 主播不想补日祭今日歌曲：High Infidelity\n前天又学了一下 exgcd。主播不想补日祭了。\n今天考试。\n\nA - 三重移位 （[Atcoder ARC136B] Triple Shift）\n略为神秘。观察到，进行一次操作后，逆序对个数的变化量一定是偶数，所以  与  的逆序对个数的差值必须是偶数。另外，当  中存在重复的元素，那么相当于可以造一对逆序对出来，此时一定有解。\n\nB - 最小差分和 （[Atcoder ARC147C] Min Diff Sum）\n题解。\n更好的做法如下：假设当前  有序，那么可以拆贡献。拆下来是 。于是让  尽量小， 尽量大。将  降序排序，将  升序排序即可。（主播不想写了，看不懂就去看原题题解吧。）\n\nC - 前缀与后缀 （[洛谷 P9180] [COCI 2022/2023 #5] Slastičarnica）\n[To do]\n\nD - 贪吃蛇 （[洛谷 P7078] [CSP-S2020] 贪吃蛇）\n[To do]\n\n\n2025.5.24 竟然草过去了今日歌曲：You’re on Your Own, Kid\n今天叕考试。\n\nA - 红魔乡 （[TopCoder 15693] Fixed Point Reversals）\n显然好做。把翻转区间看成交换元素即可，唯一的限制是当交换的两个元素在  的两侧时，这两个元素需要关于  对称。\n\nB - 妖妖梦 （[洛谷 P4576] [CQOI2013] 棋盘游戏）\n当且仅当黑棋和白棋出生在一起时，白棋能赢，否则赢家一定是黑棋。那么黑棋就尽量快速解决战斗，白棋就尽量多拖延，所以白棋转移状态时取最大值，黑棋选择状态时取最小值即可。\n\nC - 永夜抄 （[TopCoder 10945] Rectangular Island）\nlong double 还是太玄学了，竟然草过去了。发现左右移动和上下移动其实是相对独立的，所以单独处理即可。设  表示在左右方向上移动了  步，还在格子里的概率， 同理，它们是可以  处理出来的。接下来枚举  表示左右方向上移动的次数，那么此时的贡献应该是 。 显然容易维护，可是发现  这东西容易炸掉，又发现在计算  和  时一共恰好迭代了  次，所以在计算  和  时每迭代一次时乘上  即可。\n\nD - 花映冢\n题目：给定一个图，点数和边数都是  级别的，可能有环、自环和重边，求是否存在一条从  出发的路径可以经过所有点至少一次。（可以重复经过边或点）。\n题解：显然先把自环和重边判了，接下来 Tarjan 缩点，再拓扑排序即可。\n\n\n2025.5.26今天补题。见 5.22 与 5.24。\n2025.5.29今日歌曲：Cruel Summer\n今天继续补题。见 5.22。\n2025.62025.6.2 问我怎么挂的今天做题。\n\n[洛谷 P2833] 等式 &amp; [SGU 106] The equation\n板子题啊，可是改了好久。主要死在向下、向上取整时没用 double（因为有负数）。\n\n[SPOJ NWERC11A] Binomial coefficients\n这道题自己想到了枚举 ，二分 ，也想到了会爆 long long，可是没想到枚举。\n对于 ，进行二分；对于 ，枚举即可。\n做的时候因为各种小问题挂了  发。\n\n[洛谷 P2421] [NOI2002] 荒岛野人\n挺简单的呀。问我怎么挂的，其实是把  写成  了。还有另外一些小错。（比如步长写错了，还有负数导致的一些奇怪的问题。）\n枚举  与每一对人，解  即可。\n\n[SGU 107] 987654321 problem\n没想到是打表题。打表发现满足要求的九位数有  个，十位数自然就有  个。（原有基础上在开头加一个数。）十位数以上，每多一位，答案自然就 。九位数以下答案为 。\n\n\n2025.6.3\n[SGU 126] Boxes\n神秘结论题。设 。模拟一个倒推的过程，容易发现，当且仅当  时有解，其中  是奇数， 是整数。若有解，模拟即可。\n\n\n2025.6.27也是莫名其妙断更了一个月。\n也是终于把别样的 whk 草过去了。\n今天补日祭。\n欧拉函数、欧拉定理与线性筛专题\n\n欧拉函数 \n欧拉定理 \n满足  的数的个数  满足  的个数 。\n\n\n利用以上结论即可完成：\n\n[HDU 2588] GCD\n[51Nod 1040] 最大公约数之和\n[UVA 11426] GCD - Extreme (II)\n[洛谷 P1891] 疯狂 LCM\n\n\n\n[Codeforces 1149D] Abandoning Roads\nCF 3000* 远古题，洛谷黑，所以也算是首黑吗。\n这题复杂度鬼能想出来。\n首先先把重边断掉，这样就会形成若干个连通块。将这些连通块“缩点”之后，用 dij 做新图的最小生成树即可。具体地，设  表示当前在第  个点，已经到达的连通块为  的最短路径。显然每个连通块只会被访问一次，所以复杂度是  的。注意到当一个连通块的大小  时，若先离开这个连通块再回到这个连通块，至少要经过  条重边，而走连通块内部只需要最多  条轻边，所以显然不需要考虑这个连通块，因为跑 dij 的时候显然会选择走连通块内部而不会重复经过。那么连通块数量被优化到了 ，时间复杂度 。\n\n\n2025.6.30今日歌曲：Down Bad\n昨天终于也是稳 1= 了。\n这高中语文老师还是非常正常，但是这高中英语老师是比我还抽象。\n今天补题。\n\n[Atcoder ARC180D] Division into 3\n很久之前一场模拟赛的题了。\n一件显然的事情，就是一个区间的最大值  一定会做出贡献。若  放在第二段，那么当第一段与第三段的长度为  时可以取到最小值，用 ST 表维护即可。若  放在第一段，那么当第二段长度为  可以取到最小值。设 ，那么答案即为 。将询问离线再用单调栈与线段树维护  即可。若  放在第三段，则与放在第一段类似。\n\n[洛谷 P6864] [RC-03] 记忆\n这道题显然是之前记过的，今天终于补了。\n\n\n2025.72025.7.1 好的标题\n为什么你不写标题了呀？——@O_v_O\n因为没想到好的标题。——@Getaway_Car\n\n另外，注意到，我一月到六月的日祭数量如下：\n\n\n\n月份\n数量\n有标题数量\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n我们的日祭正在蒸蒸日下！\n\n\n[Codeforces 1610G] AmShZ Wins a Bet\nCF 3300* 远古题，洛谷黑，所以也算是第二道黑吗。\n赛时想到了每次删除的是一段合法的括号序列，可是竟然连最基本的 DP 都没想到，how sweet！\n考虑倒序做，设  表示  的答案，那么它可以由  与  转移而来，其中  是能与  匹配的第一个位置。时间复杂度 。\n发现比较字符串还是太慢了，所以考虑使用倍增与哈希实现字符串比较，具体实现类似于树上跳 LCA，一直跳直到  跳到边界或者 ，即可知道两者的大小关系。\n\n\n2025.7.2\n[CS Academy] Sugarel in Love\n我还是太唐了，这样的唐题都不会。\n设  表示  的子树中， 目前度为  的最大答案。直接转移即可。\n\n[CS Academy] Divided Kingdom\n对于任意两条相邻的边  与 ，答案不会超过 ，因此可以初步确定答案上界 。另外，看到最小值的最大值，很容易想到二分。二分答案 ，那么有对于任意在同一集合内的 ，满足 。转化一下，即对于任意  满足 ，都有  不在同一集合内。那么我们可以把所有满足  的边  建出来，当且仅当新图是一个二分图， 合法。此时时间复杂度为 。又注意到，对于新图中两个点 ，存在关系 ，由于  是原图中相邻两条边权值和的最小值，而 ，这意味着  一定在原图就已经相连。所以只需要从原图上把满足  的边拿出来建为新图即可。时间复杂度 。\n\n\n2025.7.3\n[Codeforces 407D] Largest Submatrix 3\n一道唐题，可是竟然不会。\n设  表示下界为 、左界为 、右界为  的最小上界。注意到 ，发现在这基础上，还需要满足 。维护  表示第  列中  最后一次出现的位置即可。注意要特判一下 。\n\n[Atcoder ABC176F] Brave CHAIN\n第一眼感觉这个题好像来财啊。我们把每次操作剩下的左侧的两张牌叫做手牌。考虑什么时候能够产生贡献。\n\n三张新牌相同。此时手牌状态不变。\n\n有两张新牌相同，且手牌中有一张与它们相同。此时会将手牌中的相同的那张打出，并换来新牌中不同的那张。\n\n两张手牌相同，且新牌中有一张与它们相同。此时会打出两张手牌，并换来新牌中不同的两张牌。\n\n\n上面三项对应的状态更新如下。（ 默认取 ）\n\n直接全局 。\n（假定 ）\n（假定  与两张手牌相同）\n\n引入通配符 ，表示 。以下是无贡献的状态更新。（ 可相互替换。）\n\n\n\n\n容易发现每一轮一共只有  级别的状态更新，所以我们只需要在当前状态的基础上修改即可。另外注意，以上所有操作都是同时进行，所以需要提前存储操作信息。时间复杂度 。\n\n\n2025.7.4\n[洛谷 P2568] GCD\n推式子即可。并不想打公式，详见原题题解。\n\n[Codeforces 1114F] Please, another Queries on Array?\n看题的时候没看到 ，所以想了一会儿直接去看题解了。\n要维护区间乘与区间积的欧拉函数，发现区间积可能很大，不能直接分解质因数。所以考虑维护原数的质因子，发现  的质数个数恰好是 ，可以用 long long 维护。而一些数的乘积的质因子状态，即其中每个乘数的质因子状态的或和。区间修改也是类似的道理。\n\n\n2025.7.6 蒸蒸日上这已经是七月的第  篇日祭了，我们的日祭正在蒸蒸日上！\n\n[Codeforces 2119D] Token Removing\n神秘 DP。题解。\n\n\n2025.7.7今天 VP Codeforces Round 1036, Div. 1 + Div. 2。\n\n[Codeforces 2124E] Make it Zero\n沟槽的构造题，并不想记严格的证明。大概就是找到一个位置  满足 ，然后分为  三段，设三段的和分别是 ，我们只需要找到一个  使得 ，接下来可以在两步内解决。再把前两步合并，就变为了第一段清空，第二段减去 ，第三段减去 ，剩下的就是第二步。\n\n\n2025.7.8模拟赛挂了 ，不然 。\n第四题不会，所以也没什么题需要改。\n2025.7.9\n[Atcoder JOISC2014J] 電圧\n要使这条边端点颜色相同，且删掉这条边后图形成二分图，那么这条边在所有奇环中，且不在任意一个偶环中。\n考虑建 DFS 树。对于树边，我们可以通过树上差分维护出当前边属于的奇环与偶环数量。对于非树边，根据奇环数量来讨论：若有且仅有一个奇环，则该非树边合法；若有多个奇环，且存在一对奇环没有交集，那么没有树边合法；若有多个奇环，且这些奇环都相交，那么必定会形成更大的偶环，那么没有树边合法。综上所述，只用讨论合法的树边数量，并特判奇环是否只有恰好一个即可。\n\n\n2025.7.10\nB - 树\n题意转化后即动态维护树的直径，具体需要支持向树中加点。\n考虑当两棵树合并的时候直径会怎样。容易发现，新树直径的端点一定由原树直径的端点产生，一一判断即可。考虑使用线段树维护区间直径，支持单点修改即可。\n\n\n2025.7.12线段树合并要把我的左脑和右脑合一起了。\n这篇日祭是线段树合并学习笔记，未来会有补充。\n线段树合并顾名思义，就是把两棵线段树的信息按照特定的规则合并起来，一般与动态开点配合使用。\n线段树合并常用于优化 DP，尤其是树形 DP（与 DAG 上的 DP），用来优化 DP 转移。（或者是一些需要在树 / DAG 上进行信息转移的东西。）\n比如一个树形 DP 的转移方程如下：$$dp_{u, i} \\mathop{\\leftarrow}{v \\in son(u)} dp{v, ?}$$我们需要将儿子的信息转移到父亲上，而每个节点存储的又是一个数组，常规的做法是一一合并，转移的时间复杂度为 。\n而对于一些转移方程，我们会发现合并信息的操作可以用线段树合并来优化。于是我们就将转移的时间复杂度优化为了 （线段树合并的时间复杂度）。\n具体的，假设现有  棵线段树，每颗线段树维护的是 ，那么对于 ，转移操作就是将  合并到  上。\n可这时我们会发现，开  棵线段树空间显然不够，又发现在 DP 过程中其实有很多空节点（），这些空节点是无用的。所以自然地会想到动态开点。\n于是你就写出了线段树合并。\n\n\n[Vani有约会] 雨天的尾巴 /【模板】线段树合并\n首先可以把区间修改通过差分变成单点修改。\n对于 ，我们需要维护它每种救济粮的数量与最多的救济粮的种类，显然使用线段树维护。因为我们做了树上差分，所以 DFS 的时候要做一次树上前缀和，即将  和  合并起来。\n于是就做完了。时间复杂度 ，但常数极大。\n\n另外记一种树链剖分的做法，其实就是离线的树剖。\n先正常树剖一下，然后你就会得到  个 dfn 序连续的区间。\n由于是离线，所以可以用差分标记这些区间。\n所有操作结束后，用权值线段树进行一次前缀和即可。\n时间复杂度 ，常数极小。\n\n\n【TBD】\n\n\n2025.7.13\nA - [UVA 12170] Easy Climb &amp; [SPOJ CCROSS] Cross Mountain Climb\n赛时基本想到了但是没做出来。\n显然有  的朴素 DP（单调队列优化）。\n可以感知到，。（我也不知道我赛时是怎么感知到的，总之就是感知到了。）\n即，，那么有效的值的个数就来到了 。（为什么我想到了又没做出来呢？因为我思考的时候把  取到  了，然后就不会了。）\n进行一下离散化再 DP 即可。\n\nB - [黑暗爆炸 4160] Exclusive Access 2\n赛时写了一个没有正确性的乱搞做法，得了 70 pts。\n我们可以把原题转化一下，看成把原图分成若干层（若干部，更严格的说法是用反链覆盖原图，即 dilworth 定理），使得每一层内两个点互不直接相连，求最小层数。发现就是求图的色数。先  预处理一个子集是否有直接相连的元素，再  做 DP 即可。\n\n\n2025.7.14\n[洛谷 P3623] [APIO2008] 免费道路\n一个做法是直接取  条鹅卵石路。\n可是发现这么做没有正确性。\n因为容易发现有一些鹅卵石路是必选的。\n那么我们可以先做一次 kruskal，并且先选水泥路，再选鹅卵石路。第一次被选中的鹅卵石路就一定包含了必选的鹅卵石路。\n所以接下来只用再做一次 kruskal，先取够  条鹅卵石路，再取水泥路。\n\n[洛谷 P8386] [PA 2021] Od deski do deski\n看了题解觉得很简单但是自己就是做不起的 DP。\n首先容易发现一个合法的序列一定可以表示为若干个首尾相同的串相连。\n换句话说，我们可以在一个合法的序列后面再加上一个首尾相同的串以得到一个新序列。\n再换句话说，对于任意一个序列，我们可以通过在末尾增加一个特定的元素，让它与原序列中的某个相同元素匹配成一个区间，以让新序列合法。\n考虑 DP，设  表示考虑了 ，当前有  个左端点（新数与它们匹配后能使新序列合法，并且它们被匹配一次后依旧可以被匹配），当前序列是否合法的方案数。那么有四种 DP 转移。\n\n，新加的元素与左端点匹配，原本合法的序列现在依旧合法。\n，原本合法且有  个左端点，现在增加一个无法匹配的元素使它不合法，但增加了一个左端点。\n，原本的序列不合法，现在增加了一个可以匹配的元素，使新序列合法。\n，原本不合法的序列，现在加一个无法匹配的元素，依旧不合法。\n\n答案是 。注意到 ，所以时间复杂度是 。\n\nHJJOI Day2 A 堆\n先转化一下题意，看成先插入元素再删除元素。注意到，如果插入的元素是当前的最大元素，那么直接删除它；在这样的条件下，其它被删除的元素一定是单调不增的。所以只需要一个桶与一个指针维护当前的最大元素即可。\n\n[洛谷 P3960] [NOIP 2017 提高组] 列队\n题解。\n\n[LOJ 6029] [雅礼集训 2017 Day1] 市场\n挺有趣的势能线段树。\n看到取模、开根这一类运算容易想到势能线段树，除法也是。但这道题的难点就在于难以看出是哪个数据最终会趋于不变。\n动用人类智慧，发现是极差。对于加法操作，并不会改变极差，而除法至少可以让极差减半，即在  次内变为 。\n先写一个正常的线段树，然后单独实现除法操作。\n注意到，当一个区间的极差为  即所有元素相同时，区间除法相当于区间加法，所以直接做一个区间加标记即可。\n另一个可以像上面这样处理的情况是，最初极差为 ，操作后极差依然为 ，此时区间除法与区间加法也是等价的。\n单独讨论一下上述两种情况并直接返回，其它情况继续递归下去即可。\n时间复杂度是 ，不会证。\n\n在 sjx 的讲义中，还讨论了最初极差为 ，操作后极差为  的情况，此时区间除法等价于区间覆盖，所以似乎还要单独实现区间覆盖，导致代码更屎，所以干脆不讨论这种情况，直接暴力递归即可。（甚至可能会赢过两个 lazy tag 的常数。）\n\n\n\n2025.7.15\n[洛谷 P8990] [北大集训 2021] 小明的树\n终于也是洛谷首黑了。这题的转化好妙啊。\n美丽的定义的转化如下：对于任意一个白点，它的子树中都是白点  对于任意一个黑点，它的父亲一定是黑点  所有的黑点构成一个连通块  黑点个数减去黑边个数等于 。当一棵树是美丽的，因为所有黑点构成一个连通块，所以白色连通块的数量等于黑白边的数量。于是我们就可以用一棵线段树维护每个时刻的黑色连通块数量（即黑点个数减去黑边数量）与白色连通块数量（即黑白边数量）。对于每一条边，容易处理出它在哪个时间段是一条黑边（可以给黑色连通块数量带来  的贡献），在哪个时间段是一条黑白边（可以给白色连通块数量带来  的贡献），当然改边也是容易处理的，实际就是撤销一条边再加一条新边。\n这个时候还缺了一步。我们要求的并不是每个时刻的白色连通块数量之和，而是黑色连通块数量为  时的白色连通块数量之和。我们可以通过维护黑色连通块数量的  与当黑色连通块数量取到  时对应时刻的白色连通块数量之和  来解决这个问题。修改白色连通块数量时，我们只需要将  加上  即可。由于在第  个时刻（与第  个时刻）黑色连通块数量一定为 ，所以  一定为 。\n\n[QOJ 7980] 区间切割\n这不是人类智慧是什么？\n先考虑离线下来，记  表示位置  被切割的时间，那么依次处理区间 ，就可以做到实时记录 。对于一个区间，发现它在随机数据下，长度会快速减小，且最多被切割  次，所以可以每次直接找到当前区间内  的最小值，然后从最小值对应位置处切割。但是对于非随机数据，一个区间可能会被切割  次（从左往右切），显然不能沿用上面的做法。区间被切割的次数多的原因是有许多切割的位置都很靠近端点，导致长度减小缓慢。所以我们充分发扬人类智慧，对于一些靠近端点的切割操作，直接更新端点；对于一些处于区间中部的切割操作，再沿用上述做法。\n可是“靠近端点”具体又应该是处于区间的什么位置呢（比如前 ）？或者说“区间中部”的长度应该取到多少，才能既保证正确性又保证时间复杂度呢？\n若中间块太长，则会导致区间长度减小依然缓慢，而当中间块较短时则可保证区间长度较快减小。所以我们要尽可能最小化中间块长度。若中间块太短，在进行一系列对区间两端的切割操作后，我们并不能保证中间块一定会被保留下来；而当中间块长度大于两侧长度时，在进行一系列对区间两端的切割操作后，我们一定可以保证中间块被保留。综上所述，我们只需要将区间三分即可。\n具体实现上，我们需要一棵线段树维护 ，它需要支持单点修改、区间查询（查询区间中间段的最小值）、查询给定位置左 / 右侧第一个小于给定值的位置（查询两端的切割情况）。对于第二类查询，需要使用线段树二分。对于区间的迭代，只需要按题解模拟即可，先直接更新左右端点，再进行区间切割。时间复杂度 。\n\n[Codeforces 461B] Appleman and Tree\n设  表示考虑到第  个点，当前点是否与黑点在一个连通块的方案数。转移时直接考虑是否删除当前边即可。\n\n[洛谷 P3177] [HAOI2015] 树上染色\n直接考虑染色对答案的贡献。设  表示考虑到第  个点，以当前点位根的子树中有  个黑点的贡献。做一个树上背包，价值是以儿子为根的子树与其他节点能产生的匹配次数（即经过当前边的次数）乘以当前边的权值。注意转移时要控制好变量的上下界，否则会被卡成 。\n\n\n2025.7.16踩一脚 2025.1.17，现在比那时候还是有了一些进步。（现在很难想象之前有段时间天天都只考几十分，接近垫底，但是竟然没觉得什么。）\n怎么说呢，教练和家长也都给我聊了好多次了，也是该到努力的时候了。我之前确实学习就没有真正用过全力，所以今天教练说我潜力很足，我也这么认为。只是说面临的困难也挺多的，比如我心理上的一些问题。我无法解决，所以只有尝试不想那些事情，尝试逃避问题。\n\n今天上午考试，一道不会。下午应该是因为天气比较热，所以人有些浮躁，状态不是特别好，效率很低，听课也没怎么听进去，一天只做了一道题，也是成为了 HJJOI 集训期间的前缀最小值。\n\n[Codeforces 1967D] Long Way to be Non-decreasing\n就当是学习基环树了。\n赛时看出来这题与基环树有关，可是居然没看出来是二分（打脸）。\n二分答案 ，转化为判定性问题，我们需要对  中每个元素操作最多  次使其单调不降。由于目标是单调不降，所以只需要使用一个变量  表示当前  中的最后一个元素，那么一个新元素就需要在  次操作以内变为一个不小于  的数。将  从小到大枚举，找到最小的  满足这个新元素可以在  次操作以内变为 ，若  则无解，否则有解。\n那么现在就转化为了计算一个数在几次操作后能变为另一个数。对于所有  建图，此时会形成一个内向基环树森林，我们只需要计算基环树上两点的距离，就是一个数转化至另一个数的操作次数。\n对于基环树的处理，可以使用并查集维护连通性，形成环时忽略当前边，使其形成一棵树。计算两点距离时需要分讨一下两点的位置关系。\n\n\n2025.7.17这两天状态不好，所以 7.17 和 7.18 都没做什么题，日祭也是 7.19 才补的。\n\n[洛谷 P5903] 【模板】树上 K 级祖先\n长链剖分的主要用法就是求树上  级祖先和优化 DP。优化 DP 就类似于 dsu on tree，只是一个与树的大小有关，一个与树的深度有关。\n求树上  级祖先的方法如下：树剖时对于长度为  的链，需要预处理出链顶的  级祖先与  级儿子（即链中元素）。另外还需要预处理出  级祖先。对于每组询问，先向上跳 ，此时当前点所在长链的长度至少为 。接下来再跳到当前链链顶，再向下或向上把剩下的跳了。\n\n\n2025.7.18\n[P4719] 【模板】动态 DP &amp; [P4751] 【模板】动态 DP（加强版） &amp; [P5024] [NOIP 2018 提高组] 保卫王国\n三倍经验是个好东西。\n并不想记具体的过程，所以就大概记一下。\n对于 P4719，可以先写一个朴素的 DP。对于每一次修改，就需要更新从当前点到根路径上的每个点。因为是路径更改，所有考虑熟练剖粪树链剖分。尝试把原来的 DP 方程写成一种神秘的矩乘形式，然后对于每一次修改就变成了修改路径上轻边的转移方程（矩阵），答案就是整棵树重链上的矩阵的乘积。\n对于 P4751，我们只需要使用动态开点线段树，对于每一条重链单独开线段树，这样可以减少线段树的查询次数，可以优化至少  的常数。\n对于 P5024，容易注意到最小覆盖集 = 全集 - 最大独立集，那么就可以直接做了。对于修改操作，若要强制选则将权值设为极小值，否则将权值设为极大值。注意算出来的答案是改变权值后的答案，所以输出时还要稍微处理一下。\n\n\n2025.7.21\n[洛谷 P8352] [SDOI/SXOI2022] 小 N 的独立集\nDP 套 DP 板子。设  表示考虑到点 ，强制不选的答案为 ，不强制不选的答案为 ，直接转移即可。（其实是我不想写。）\n\n[洛谷 P5904] [POI 2014] HOT-Hotels 加强版\n长链剖分优化 DP 板子。\n对于原题，容易写出一个  的 DP，发现 DP 数组的大小与深度有关，所以进行长链剖分即可。\n\n\n2025.8这个月的日祭直接写一起了，基本都在补题。\n注意到 7 月份后来状态不好。\n\n[洛谷 P4198] 楼房重建\n考虑用一棵普通线段树维护，每个节点维护区间的最大值与区间内好的序列的长度，push up 的时候需要写一个类似于线段树二分的东西，时间复杂度 。\n\n[洛谷 P9824] [ICPC 2020 Shanghai R] Fountains\n复杂度好神秘的一道题。自己写写不清楚，所以干脆看题解吧。\n\n[洛谷 P6189] [NOI Online #1 入门组] 跑步\n显然可以 oeis。\n本题就是正整数拆分问题。考虑正整数拆分的做法。一种 DP 是设  表示用了 ，当前和为  的方案数，转移是 。另一种 DP 是设  表示选了  个数，当前和为  的方案数，转移是 。发现第一种 DP 与拆分的数的值域有关，第二种与拆分的数的数量有关。所以考虑根号分治，对于  的数进行第一种 DP，其它的进行第二种 DP。\n\n[CWOI 0819 B组] C - 盲盒流水线\n注意到这场因为 B 屎一样的题面搞乱了节奏？（不要给自己找借口了。）不过要是 JDS 不提醒我 A 可能要挂完。\n题意是区间背包。因为是区间，容易想到用数据结构维护。注意到背包可以  合并，那么写一个普通线段树的时间复杂度是 ，空间复杂度是 。慢的原因是合并次数太多，所以考虑减少合并次数。发现这个过程是静态的，所以选择猫树。可是发现直接猫树的空间复杂度是 ，所以需要把询问离线下来，每个区间单独处理即可。\n\nP13736 [JOIGST 2025] 日本浮现 / Japan Emerges\n气死我了怎么绿题都场切不了。（注意到可能是做提高组模拟赛有点膨胀导致的。）\n看到连通立马想到并查集（为啥我没立马想到），看到最小立马想到二分答案转化为判定性问题，判定的时候按题意模拟即可，如果两个块会相连就合并起来。\n\n[洛谷 P13680] [IAMOI R2] 未送出的花\n注意到祖先的盛开度一定比孩子大，因为如果交换两个点的盛开度会导致答案不增。所以对于每个点，它的美丽度取的点的位置是固定的，所以可以统计对于每个点，它的盛开度会被作为多少个点的美丽度（记作 ）。若我们选择  朵花送出，相当于要选若干个点使得 ，最大化 ，发现  一定是一个包含根的连通块，所以直接树上背包即可。\n\n[CWOI 0822 B组] B - 美丽值\n题意略。容易想到拆贡献，考虑  一段会被计算多少次。设  中有  个数 ，剩下的  个数 ，那么  会被计算  次。接下来考虑有多少个序列满足上述条件。首先从  个数中选  个数钦定为 ，那么  个数就可以任意在  中生成，剩下  个数同理。所以总答案是 。\n\n[Atcoder ARC101C] Ribbons on Tree\n考虑容斥（？，注意到我不会容斥，是怎么考虑到的），答案为 ，其中  表示强制断开的边集为  的方案数。注意到断开若干条边后，形成了若干个独立的连通块，那么每个连通块的方案数就是 （当  是偶数时）。所以直接树上背包即可。\n\n[Atcoder ARC153D] Sum of Sum of Digits\n好神秘的 DP。\n发现难点主要在于进位。设  表示考虑到第  位，上一位有  个数向这一位进了位，目前答案的最小值（不包含当前这一位）。对于每一位，先对  按当前这一位从大到小排序，那么进位的数字一定是  的一个前缀。接下来就是直接转移，枚举进位个数、 当前这一位的值，然后统计当前数位的和与进位个数，再转移到下一位即可。\n\n[CWOI 0824 B组] A - town\n题意是将树分为若干个连通块，要求每个连通块的权值的异或和为 ，求方案数。\n显然容易想到做树上背包，并且记录当前未闭合连通块的异或和。发现未闭合的连通块的异或和一定是  或 ，所以只用设两个状态。需要特判 （赛时被这个 Corner Case 创飞了。）\n\n[CWOI 0824 B组] B - str\n很显然的 DP，处理 LCP 即可。但是赛时写的什么 KMP 处理 LCP？什么东西？\n\n[CWOI 0824 B组] C - perm\n什么惊人的注意力。\n显然与置换环有关。把每个置换环拿出来，设大小为 ，那么答案就是 ，其中  表示大小为  的置换环的解数，然后出题人注意到 ，特别地，。\n\n\nCodeforces Round 1044 (Div. 2)Link\n\nD - Chicken Jockey\nSolution.\n\nE - I Yearned For The Mines\n发现当树是一条链时是容易的（废话），所以考虑先使用最多  次  类操作把树分为若干条链，再用  次操作检查每一条链。考虑如何在限定次数内将树分为链。我们尝试对树上的点分为以下三类：\n\n链的端点；\n链的中间点；\n执行  类操作的点。\n\n我们可以通过一次 dfs 来确定点的类型。具体地，对于点 ：\n\n若  的儿子中存在一个中间点，或存在至少  个端点，那么  是操作点；\n否则，若  的儿子中恰好存在两个端点（且不存在中间点），那么  是中间点；\n否则， 是端点。\n\n于是我们就找出了需要执行  类操作的点集。\n\nF - Flint and Steel\n令 。容易想到一个朴素 DP：设  表示炸死  的苦力怕最少需要引燃多少只苦力怕，有转移 ，时间复杂度 。考虑优化，设  表示炸死  的苦力怕最少需要引燃多少只苦力怕，那么 DP 转移就可以通过线段树来优化，实际复杂度 。\n\n\nCodeforces Round 1045 (Div. 2)Link\n\nD - Sliding Tree\n在 CF Div. 2 D 放极弱的样例的出题人，愿你们的母亲在天堂相遇。\n根据直觉容易想到与直径有关，然后就会自然地想到移动直径上的每一棵子树，然而这样是错误的。正确的做法应该是把直径的一端移到子树上，那么操作次数就应该是 ，其中  为直径的长度。至于为什么这样是最优的应该口胡一下可以怔出来，但是不想怔了。\n\nE - Power Boxes\n实则并不难，只是赛时死磕 D 去了。赛后自己补出来了，虽然用时有点久。\n设从  开始的弹跳次数为 ，那么显然有 ，初始值是 。显然会倒着询问。对于 ，若 ，那么我们询问  即可得到  的值。否则，我们可以直接推出 ，但并不知道  的值。注意到，若 ，因为 ，我们一定可以通过一次询问直接确定 。接下来，我们只需要交换  与 ，原来的第  个盒子现在成为了第  个盒子，又有 ，所以我们可以通过一次询问直接确定 。若 ，交换  与  即可。根据上述过程易证需要  次询问。\n\n\nCodeforces Round 1046 (Div. 1, Div. 2)Link\n\nB - For the Champion\n被随机区分导致掉大分了呜呜呜。\n注意到赛时就想到了移到角落，然后就不会了，男蹦。\n移到两个角落就可以得到  与  了，然后就做完了。\n\nC - By the Assignment\n发现一个图是好的的充要条件是，每个环上所有点的点权都应该相同，这等价于每个边双中的点的点权应该相同。特别地，奇环上所有点的点权都应该是 。所以我们只用找出每个边双联通分量，判断其中已确定点的点权是否全部相同，并且是否存在奇环即可。\n\nD1 &amp; D2 - From the Unknown\n注意到我赛时基本会 D1 了，然后饭堂了以为自己是错的？然后开始考虑优化，想到了 D2 正解的 ？然后最后 D1 &amp; D2 都没做出来？啊？\n设 。对于 D1，容易想到的是第一次询问  个 ，得到  的大致范围 ，满足 （好像赛时就是  推错了，导致没推出 ？）。接下来要确定  的具体值，于是考虑询问 l 1 l 2 l 3 ... l (r - l)，有 。\n对于 D2，考虑优化。（以下是赛时想法）发现我们没有把  利用起来。于是考虑利用根号分治与数论分块的思想，第一次询问  个 ，若  则说明 ，否则 。若 ，则考虑询问  个 ，此时每个  都对应一个互不相同的 ；否则，沿用 D1 的思想即可。但是发现这样的询问次数依然可以达到 ……（以下是正解）发现以上有些数值取到  时不一定最优，于是重新设常量  表示：第一次询问  个 ，若  则第二次询问  个 。通过暴力可以求出，当  时询问次数可以控制在  以内。若精细实现，询问次数还可以再少一点。\n\n\n2025.9\n    鲜花 (2025.9.1) \n    \n      注意到我停课了。\n另外注意到我今天上午做了三道题，下午也许是在尝试改上一场 CF 的 Div. 1 E，顺便学习了一下反射容斥。学了之后发现改不出来，于是放弃了，并开始补日祭。总之就是下午一道题都没做？啊？什么效率？但是我不是挺认真的吗？啊？\n\n    \n  \n\nMX NOIP 3Link\n\nA - Novelist\n略。\n\nB - Bicycle Tour\n根据部分分容易想到从小到大一条条加边，并在形成环时做一个链上的 to min。于是先建出原图的最小生成树，然后树剖即可。\n\nC - 数列色ぬり\n题解。\n\nD - DequeQL\n改不动。\n\n\n多校杂题选讲 20250905Link\n\nA - [NOISG 2025 Prelim] Itinerary\n考虑直接把  的路径描到树上，计算每一条边会被经过几次，这一步可以用树上差分解决。接下来，若  是起点，我们只用关注  到  的路径，如果在  的基础上加上这一条路径，每条边的经过次数依然  则合法。实现上，从  开始 dfs，记录  到每个点的路径上的每条边的经过次数的最大值即可。\n\nB - [USACO24DEC] 2D Conveyer Belt S\n考虑哪些位置是不合法的，显然是环形传送带及其内部。环形传送带是容易找的，但是内部并不好找。于是正难则反，考虑从边缘开始洪水填充，能走到的位置就是合法的位置，剩下的就是不合法的位置。不过对于每个询问都搜索一遍显然会挂，所以考虑倒着处理询问，每次删掉一个传送带，若当前位置原本不合法但四连通有合法的位置，那么从当前位置再次开始洪水填充即可。\n\nC - [NOISG 2025 Finals] 机器人\n首先有结论，若机器人  与机器人  最终停在第  行，那么区间  的机器人一定都可以停在第  行，因为机器人  到第  行的过程中一定会经过第  到第  行， 同理。所以可以停在第  行的机器人一定是连续的一个区间。于是考虑对于每个 ，求出可以到达第  行的机器人的区间，于是问题就转化为了用最少的给定区间覆盖询问区间，这个问题可以用 ST 表实现。具体地，设  表示从  开始，使用  个区间，能达到的最右侧的位置。\n\nD - [NOISG 2023 Finals] Curtains\n将询问  转化为，判断是否有 。考虑先离线下来并且按  排序，这样就少了一个限制。考虑使用线段树维护从每个位置  能够完整覆盖到的最右侧的位置 ，那么回答询问就变为了单点查询，增加幕布  是对于  区间修改。具体地，对于所有  的位置 ，执行 。发现这个操作难以实现，但是发现多个这样的操作可以合并（具体过程略），所以使用一棵维护 lz tag 的线段树即可。\n\nE - From the Unknown (Hard Version)\n略。\n\nG - [HEOI2013] SAO\n好神秘的树形 DP。设  表示考虑到  子树，且  在子树中的拓扑序为  时的方案数。转移时根据  关系分讨，再推推式子就可以得到一个  的 DP，然后发现可以前缀和优化，就变成  的了。\n\nH - Range Reachability Query\n发现问题类似于传递闭包，并且似乎也只能用类似于传递闭包的做法解决。不过先考虑暴力，显然是从  开始 bfs，发现这样反复 bfs 太浪费了，于是考虑用一次 bfs 解决所有问题。设  表示对于点 ， 能否通过  的边到达它，这显然可以用 bitset 维护，考虑转移，发现还需要定义辅助数组  表示边  是否属于 ，它同样可以用 bitset 维护，并且可以通过差分预处理。此时对于边  就有 。时间复杂度 ，空间复杂度 ，后者无法接受。于是考虑把  个询问分  次处理（或每次固定处理  个询问），理论上时间复杂度不变，只是增加了一些常数，并且空间复杂度变为了原来的 。 取一个小常数即可。\n\n\nMX NOIP 4Link\n炼屎计划。\n\nA - xorseg\n被 Ad-hoc 了一会儿，原因是认为满足第二个条件的区间数量是  级别的，后来才反应过来应该是  或者  级别的，具体的也没证。\n\nB - heap\n什么屎题，手写堆。\n\nC - toptrees\n什么唐题（虽然我更唐，赛时没写出来），直接回退背包即可。\n\nD - lca\n什么不可做题，不会。\n\n\n多校联考 20250906Link\n\nA - string\n唐题。\n\nB - ball\n我好唐。发现计算答案时  需要升序，但是乱序时严格更劣，所以考虑 DP，设  表示考虑了 ，当前已选的数组成的集合是  的最大美观度，转移是容易的，但是需要高精度。\n\nC - tree\n我好唐，65 分部分分都不会写。显然合法的连通块需要满足大小是偶数并且每种权值出现次数不超过一半，后者转化一下就是众数出现次数不超过一半。设权值  出现了  次。考虑枚举众数 ，并将众数的权值设为 ，其余的数的权值设为 ，那么上述条件就又转化为了连通块的权值和应该为非正偶数，这容易用树形 DP 做出来。可是发现直接这样统计是没有正确性的，因为当枚举的众数并不是实际的众数时，连通块的权值也可能是非正偶数。于是考虑反过来，先计算大小是偶数的连通块个数，再减去其中众数出现次数超过一半的连通块个数，即权值和为正偶数的连通块个数，这样才有了正确性。又发现树形 DP 的第二维只用取到 ，所以时间复杂度是  的。\n\n\n\n    鲜花 (2025.9.7) \n    \n      虽然前几天看着还有那么多日祭没写，但其实一写起来还是挺快的。（这句话好人机，好唐，但是不管了。）\n另外把一个月的日祭写在一起不就不叫日祭了么，应该叫月祭（？）。\n\n    \n  \n\nAtcoder Regular Contest 205 (Div. 2)Link\n\nD - Non-Ancestor Matching\nSolution。\n\nE - Subset Product Problem\n好妙的一道题。如果直接用桶统计有着优秀的  的时间复杂度。考虑优化。首先把  写成  的形式，使得  都是 10 位整数。接下来，设 ，其中  都是 10 位整数，表示 ，那么答案就是 。代码极其好写，时间复杂度 。\n\n\nAtcoder Beginner Contest 422Link\n\nF - Eat and Ride\n我好唐，只想出了一个伪的做法。容易想到拆贡献，那么设  表示从  走到了 ，还剩  步没走的最小花费，转移显然，答案是 。\n\nG - Balls and Boxes\n问题一原来就是背包啊，有点难绷，自己只想到了扩欧。\n你说得对，问题二是生成函数，但是根号分治是个好东西。\n考虑暴力，枚举 ，计算 ，时间复杂度 ，支持 。于是现在需要一种  的暴力。设  表示  的方案数，直接转移即可，支持 。\n\n\nCodeforces Round 1047 (Div. 3)Link\n\nG - Cry Me a River\n设  同阶。首先容易写出  的简单 DP。容易发现，如果 A 或 B 从某个点开始游戏，最终会来到一个红色点，那么我们可以认为当前点在 A 或 B 操作的时候也是红色的。将一个点染红之后，我们并不用全部重新 DP，只需要考虑它对入边的影响，如果有新的点被染红，那么再递归考虑它的影响即可。发现每个点在每种状态下只会被染红一次，所以时间复杂度 。\n\n\n多校杂题选讲 20250912Link\n\nA - Towers\n容易想到把最高的节点作为根，那么有权值的位置一定是叶子，且有两个叶子的权值恰好等于高度的最大值。对于每个子树，一定存在一个权值为最大值的节点不在这个子树内，所以我们只需要这个子树内存在一个叶子节点的权值大于等于这个子树内高度的最大值即可。选择权值大于等于这个子树内高度的叶子节点时，贪心地选择当前权值最大的叶子节点即可。对于根也类似，只需要选择前两大的叶子节点，将它们的权值设为高度最大值即可。\n\nB - Fairy\n见 電圧。\n\nC - Flip Row or Col 2\n才做完就升紫了。因为这题自己写得完全没有题解清楚，并且也达不到总结的目的，所以就不记了。\n\nD - 01 on Tree\n神秘贪心。容易发现，如果我们选了一个点，那么会贪心地把它孩子中所有的  选完，这样一定不劣。那么就可以理解为这些孩子与父亲“捆绑”在一起，形成了一个连通块。那么同理，我们可以用并查集维护当前的连通块，并且把所有连通块放进优先队列中，如果交换两项顺序之后逆序对个数更少则贪心地交换，这么做是有正确性的。每次取出最靠前的连通块并与父亲合并，边合并边计算贡献，直到只剩一个连通块。做完后答案就算出来了。\n\nE - Wine Thief\n发现直接拆贡献不好做，考虑其他做法。发现链上的独立集没什么有用的性质，然而如果是在环上，每个点的贡献次数都是相同的。于是先假定此时是在环上，但是发现会算漏  与  都被选的情况。为了补上这种情况，钦定  被选，那么此时要在  里面选  个，加上对应的贡献，再递归解决子问题即可。\n\nF - Interesting Problem (Hard Version)\n困难的题目。同样感觉记起来没什么用，也写不清楚，所以就不记了。\n\nG - Family Photos\n不想记。\n\n\nCodeforces Round 1048 (Div. 2)Link\n第一次 Div. 2 打进第一页，虽然是 VP，而且这场 unrated。\n\nC - Cake Assignment\n想到了 SGU 126。这道题正难则反。\n\nD - Antiamuny Wants to Learn Swap\n似乎有线性做法，但是不管了，线段树和 ST 表一样草过去。发现一个序列是好的的充要条件是不存在长度为  的下降子序列，那么记  表示以  结尾，长度为  的子序列中，子序列的第一个数的下标的最大值，这个显然可以用线段树维护。然后再用 ST 表维护一下  的区间最大值即可。\n\nE1 &amp; E2 - Maple and Tree Beauty\n我好菜，花了 80min+。首先想到答案不会超过所有叶子深度的最小值 ，然后考虑如何让答案达到 。赛时一开始认为答案总是取每个叶子的名字的一段前缀与一段后缀，后来手模  组样例又吃了一发罚时之后才发现只取前缀。那么，我们只需要考虑深度  的节点，并把其中深度相同的节点涂成一种颜色即可，其余节点可以任意涂色。正确性显然，因为如果匹配的位置越深，需要涂色的节点数严格不降。最后，还要判断能否将  层分为黑白两色，这一步可以通过 bitset 优化背包 DP 实现。时间复杂度 。如果用根号分治可以再优化到 。\n\n\nMX NOIP 5Link\n这场是我考成屎了，甚至还垫底了。\n\nA - 阿蛮\n在 NOIP T1 放样例极弱的概期 DP 的出题人，愿你们的母亲的天堂相遇。\n赛时爆零了。因为赛后没有立即发题解，所以甚至还是 GPT-5 给我讲的。\n首先发现题目里面给的带权随机数其实是诈骗，因为当确定了新来的人数  与舞娘获得的总票数 ，是容易求出这种情况的概率的（用其他  个舞者分得  个观众的方案数除以  个舞者分得  个观众的方案数）。设  表示新来的人数为 ，舞娘获得了  票时的加分， 表示概率，那么现在只需要求出  即可。直接计算是  的，但是通过一些组合恒等式就可以将其优化到 。\n\nB - 菟园 &amp; [HNOI2010] 弹飞绵羊\n自从之前有一次把 LCP 当成 KMP 写之后就感觉终于完全理解了 KMP 与 fail 指针等内容。\n容易想到建出 fail 树，那么问题就转化为了在树上支持某点到根路  径修改与单点查询，类似与弹飞绵羊，所以下文介绍弹飞绵羊的做法。\n看起来平衡树与 LCT 这些数据结构的学习成本都挺高的，确实像牢祝说的那样，这些问题都可以用线段树或者暴力数据结构解决。\n对于弹飞绵羊，暴力的做法是  修改  查询。考虑均摊一下，将  个数分为  个块，记  表示从  开始跳父亲，跳到的第一个块外的节点， 表示跳的次数。这样，对于修改，我们只需要对块内节点进行更新，时间复杂度 ；对于查询，我们只需要一个块一个块地跳，时间复杂度 。显然当  取  时最优。时间复杂度 \n\n\nCodeforces Round 1049 (Div. 2)Link\n\nD - A Cruel Segment’s Thesis\n考虑  是偶数的情况。拆一下贡献，答案就是 ，其中 ，再拆一下贡献就变成了 。于是按  排序取较小的一半即可。若  是奇数，那么枚举那个区间不选即可。\n\nE - Prime Gaming\n好题，但是难绷。考虑  的 ez version，发现是容易做的。然后考虑重新定义状态，钦定一个阈值 ，让状态中的  表示  的数， 表示  的数。这样，对于一个状态 ，它可以表示的序列数量就是 ，那么答案  的序列的个数  就应该是 。可以把  按照  归类，即设 ，这样就可以  计算  了。答案即为 。时间复杂度 ，前半部分有小常数。\n\n\nMX NOIP 6Link\n\nA - 句法分析\n唐题。\n\nB - 树上前 k 大菊花\n目前见过的题中，极多个物品中选前  大 / 小的题其实做法挺单一的。容易想到把每个点作为中心，先让菊花的权值取到最大值，并放到优先队列中，然后再将权值调小，把新的菊花放进放进优先队列中，直到取了  个即可。\n\nC - 相关聚类\n根据特殊性质并观察样例发现是偏结论类型的题，并且如果是树形（基环树）DP 显然不可能做到 。手模几个样例就发现只需要计算出环的大小与环上  的数量，根据  的数量分讨一下即可。\n\n\n多校联考 20250915Link\n明明就是没什么辨识度好不好，考了个 CW rk 2 还被表扬了。\n\nC - 发喷山火（CF2119F 加强版）\n对于原题：容易观察到路径结构如下：从  出发，先经过若干个 1 -1 到达一个 1 1，在获得了足够的生命之后再前往某一个终点。赛时没写出 50pts 是因为没有发现：在全程中就算存在多个 1 1，都只会在第一个 1 1 获取到足够的生命。（话说要是发现了这个点，赛时还写出了 50pts，那场切黑也是很难绷了。）根据这几点，我们可以先处理出每个点经过若干个 1 -1 能够到达的最近的 1 1，这可以用多源 bfs。接下来，我们可以从  开始 dfs，再传一些神秘的参数，就做完了。\n\nD - 走路赚钱（JOISC2019E 弱化版）\n对于弱化版：把条件转化一下可以变成当  时，若  或 ，可以获得  的价值。离散化过后用扫描线维护一下即可。\n\n\nAtcoder Beginner Contest 423Link\n质量场。\n\nF - Loud Cicada\n主打一个现学现用。Solution。\n\nG - Small Multiple 2\nSolution。\n\n\nEdu Codeforces Round 182 (Rated for Div. 2)Link\n被降智了呜呜呜。/dk /dk /dk\n\nD - Price Tags\n一眼极其数论分块，然后无脑写了之后被卡了。后来才发现是想复杂了，根本不用对于  去更新 ，直接拿  找对应的  即可。这题显然是不难的，主要是有些诈骗。\n\nE - Looking at Towers\n思维为零的数据结构题。容易写出一个  DP，然后发现可以用加乘线段树优化，然后就做完了。\n\n\nMX NOIP 7Link\n\nA - 地球往事（[Gym105170E] Connected Components）\n唐题。\n\nB - 纪元（[Gym104976E] Period of a String）\n挺有趣的一道题。考虑  与  两个串，发现  对  有一些限制，每个限制形如： 的前  位形成的可重字符集是 。那么同理， 本身也有一些限制，发现  的限制是可以与  对  的限制，合并形成对  的限制的。所以倒序维护当前的每一条限制，根据限制判断是否有解；若有解，再根据限制构造出 ，便可以推出所有  的值。\n\nC - 黑暗森林（[Gym105170A] Eminor Array）\n赛时找规律过了？（实则是很没素质地用了 oeis。）发现答案是：\n\n\nD - 死神永生\n原来我在 7 月 10 日并没有意识到我在那一天算是学会了虚树。\n题目要求是「到每个点距离的最大值最小的点」，发现离一个点最远的点一定是直径的一个端点，而满足条件的点就一定是直径上的一个点。\n于是这道题就做完了。用线段树动态维护虚树的直径即可。时间复杂度 。\n\n\nCodeforces Round 1051 (Div. 2)Link\n难绷主要难绷在我每次在晚上打 CF 都要慌，而太慌了导致 D 没切出来，放弃 D 去看 E 的时候也许 20min 就秒了？具体时长记不到了。\n\nD1 &amp; D2 - Inversion Graph Coloring\n实则挺唐的。设  表示选了 ，其中的最大值是 ，最大的满足  且  的  是  的方案数。转移显然，时间复杂度 。用树状数组维护  与  即可优化到 。赛后补题的时候因为初始化漏了一点导致调了 inf 久。/dk\n\nE - Make Good\n比较一眼的题，与这道题类似的题还有 [ARC203B] Swap If Equal Sum。对于一些通过若干次可逆的操作将初始状态变为目标状态的题，容易想到先将初始状态变为一个相对规则的状态，再变为目标状态。对于本题，容易想到尽量把 ) 都变成 (，但是如果只是将 )) 变为 ((，那么还会留下一些单独的 )。观察操作的性质，发现我们可以交换  与 ，而这样交换是不会改变下标的奇偶性的。于是考虑把奇数位置上的 ) 与偶数位置上的 ) 匹配并变成 ((，此时剩下的 ) 的下标的奇偶性一定相同。接下来，给每个剩下的 ) 匹配一个 (。此时还剩一些 (，再翻转一半的 ( 变成 ) 并与另一半的 ( 匹配即可。边做边判断无解即可。一个 Corner Case 是，如果剩下的 ) 全部在奇数位上，且奇数位上全是 )，此时无解。\n\n\n\n    鲜花 (2025.9.18) \n    \n      前几天还有十几个 To-Do 现在居然补完了。\n虽然动用了一些特殊手段。（好唐）\n虽然今天晚一点又新增了两个 To-Do。\n\n    \n  \n\nMX NOIP 8Link\n\nB - 计树\n赛时写了一个完全没有正确性的 DP。\n发现最后一个节点一定是叶子，那么我们就可以推出倒数第二个节点的几种状态。依此类推，考虑倒着 DP，设  表示考虑了  的节点，还缺  个父亲与  个儿子的方案数，大力分讨转移即可。答案是 。\n\n\nAtcoder Beginner Contest 424Link\n\nG - Set list\nSolution。\n\n\nCodeforces Global Round 29 (Div. 1 + Div. 2)Link\n\nE - Maximum OR Popcount\n显然先把问题转化为达到每个答案至少需要多少次操作。贪心地，我们每次让或和中最后一个  变成 。具体地，选择  个数中的某一个，使得将这一位变成  的代价最小。可是这时，可能低位不再是 。所以对于下一位进行同样的操作，直到后缀变成全  即可。\n\nF - Exchange Queries\n考虑先按  排序，那么交换  也可以转化为交换 。接下来，我们只需要对  建边，并用线段树维护 SCC 即可。\n\n\nCodeforces Round 1052 (Div. 2)Link\n\nD1 &amp; D2 - Max Sum OR\n对于 D1，考虑 ，此时恰好可以两两匹配。那么当  时，就有一段前缀无法匹配。对于这段前缀解决子问题即可。对于 D2 也类似，两两匹配后解决子问题即可。\n\nE - Yet Another MEX Problem\n考虑钦定 ，那么就可以用一棵线段树来维护对于每个钦定的 ，子数组的最大长度，查询就是全局 。发现钦定的  不是实际  时一定不优，所以并不影响。\n\n\n多校杂题选讲 20250926Link\n\nA - Bit Counting Sequence\n发现  即当前的进位位数，根据这一点构造即可。挂了几发一是因为 __builtin_popcount(unsigned int)，二是因为左右移负数位是 UB，洛谷评测机上会 TLE。\n\nB - 一安在？ / Gdzie jest jedynka? 2\n发现  的性质不算特殊，最特殊的是 ，于是考虑把  找出来。考虑对于一个数，询问它与其它每个数的 ，其中的最大值就是它本身，并且能取到最大值的要么是  要么是它的倍数。所以我们把  和它的倍数再单独拿出来，解决子问题，最后最多会剩下两个数，其中一定有一个是 。再拿这两个数去找到  即可。精细实现即可达到题目要求。\n\nC - 健身房 / Siłownia\n有点难绷的贪心。首先容易想到一个天真的 DP，类似于最小点覆盖。然后你发现这样是错的，因为当存在  使得  时，这样会挂掉。发现我们肯定不能延后选，只能提前选，所以令  即可。\n\nD - Letter Stamper\n也许算是第一道独立做出的紫？虽然得知这是 DP 好像是从讨论区得出的，并且调不出来的时候还看了题解，但是最后没看懂，还是自己调出来了？不管了。Solution。\n\nI - Decoration\n题面好唬人的样子，但是其实对这个东西建一个图就是一个基环内向树森林，要求的就是长度为  的简单路径的长度的最小值。倍增即可。\n\n\nCodeforces Round 1053 (Div. 2)Link\n\nB - Incremental Path\n不是有点难绷赛时只要不着急，认真手摸一下，几下就做出来了。\n\nE - Limited Edition Shop\n我写了一个很难写的做法，显然是有更好写的做法的，但是不管了。对物品按 A 的喜好排序，设  表示选了物品 ，B 选到了物品  的最大价值，转移是 。要用线段树维护，即区间（并且是前缀）加，并取前缀 。对于后者，可以用线段树二分与区间覆盖实现。好写的做法的状态定义是一样的，转移略有些不同，但是不管了。写这种数据结构优化 DP 都写烦了。\n\nF - Attraction Theory\n不错的题。手模一下样例可以发现，如果我们关注位置  上最终留下来的人数 ，那么  一定是连续的一段有值，并且除两端之外都应该是奇数。直接计算是不好做的，于是我们用与 Wine Thief 类似的 trick，先把尝试问题转化为对称的。考虑枚举区间长度与端点的奇偶性，于是此时就可以钦定端点为奇数，最后再加上常数项即可。通过一些简单的计算可以得到  的期望与不同的  序列的数量，再利用  的前缀和与二阶前缀和即可计算出答案。\n\nG1 &amp; G2 - Hidden Single\nG1 Soluiton，G2 Solution\n\n\nAtcoder Beginner Contest 425Link\n\nE - Count Sequences 2\n发现这个东西其实有两种算法。记 ，一种是 ，另一种是 。你会发现把第二个化简之后就是第一个，但是第二个显然更好算。其实第一个也能算，但是赛时我饭堂了，只单独处理了每个数的质因数分解，而没处理每个数的阶乘的质因数分解。\n\nG - Sum of Min of XOR\n好简单的 G，赛时没切出来是因为回寝室了，话说这应该是我第一次独立做完一套 ABC。一种暴力是建 01trie 暴力，时间复杂度 。考虑反过来，对于每个 ，有哪些数与  异或能取到最小值，再简单拆贡献计算答案即可。时间复杂度 ，精细实现可以做到 。（感觉做法好抽象，讲不清楚。）\n\n\n2025.10Codeforces Round 1055 (Div. 1 + Div. 2)Link\n我好菜。\n\nD - Division Versus Addition\n赛时比较早就想到了大概的做法，但是没写（？）。首先发现  的数显然没有贡献（操作它则严格不优），而其它数是可以有贡献的。但是观察样例发现  可以没有贡献，即满足  的 ，若 A 先操作一次，那么这个数就没有贡献了；而对于其它数，就算 A 操作了也依然可以有贡献。对于上述这类数，A 可以让其中的一半（向上取整）取消贡献。所以答案就应该是原本的操作次数 + 有贡献的数的数量 - 特殊数的数量的一半向上取整。\n\nE - Monotone Subsequence\n好难绷的题。第一次考虑对于全局询问，如果答案序列的长度  直接返回。然后你发现要是再询问答案序列中的元素好像没什么用，所以下一次就询问除它们以外的元素。于是这样询问  次，如果中途答案序列长度  就直接返回。如果  次之后依然没有答案，那么现在一定还剩下一个元素。考虑构造一个下降子序列。发现对于一个在第  轮中被询问的元素，在它左侧一定存在一个在第  轮中被询问的元素，且这个元素一定比它小。所以从剩下的元素中的一个开始，每次向左找第一个上一轮被询问的元素，即可构造出答案。\n\n\n多校联考 20251007Link\n\nB - 中心极限定理\n我唐。发现难点在于把马吃了怎么处理，于是考虑状压一下当前位置前几步即可。\n\nC - 散步\n将题面稍作转化，变成：给定一个无向联通图与偶数个关键点，要求将关键点两两匹配并选择一条路径，使得任意两条路径（边）不交，构造方案。发现这个问题在树上就可以做。对于一棵子树，它最多有一个点未被匹配。于是对于一个节点，先将它子树中剩下的点与它本身（若有）两两匹配，最后最多剩下一个点，将这个点传递给父亲即可。\n\n\n多校联考 20251008Link\n\nB - 围棋\n赛时死磕导致根本没看 T3 和 T4。以后再死磕我是狗。\n发现难点在于翻转一个白棋，因为翻转后可能会新增一些死的白棋。发现这个东西差不多是割点，于是跑塔尖即可。另外集中情况分讨一下即可。\n\nC - 相互抵消\n化简发现原式至于  与  有关，维护即可。\n\n\n多校杂题选讲 20251010Link\n\nA - 帐篷\n凭啥我只会 。设  表示格子大小为  时的方案数，考虑横着一组占用一行两列，竖着一组占用两行一列，单独一个占用一行一列，直接转移即可。\n\n\n因为一些原因后面的就不写了。\n多校联考 20251011Link\n美好的一天从饭堂开始。\n\nA - 询问\n发现 5 次询问之后就是 ， 了，矩阵快速幂即可。话说我赛时写了个什么神秘  的分块做法？\n\nB - k-绍兴序列\n 分讨一下就做完了，倒着 DP 即可。赛时为啥我要正着 DP？\n\nC - 二次根式\n什么猎奇打表题。发现  所以只用计算 。对于 ，枚举  以内的质数计算贡献即可。发现需要快速阶乘但是又发现模数固定，于是打表即可。\n\n\nCodeforces Round 1058 (Div. 1, Div. 2)Link\nDiv. 2 Rank 8，紫名祭。\n只能说是前一天晚上睡太好了，这天晚上状态好。要是我每次晚上状态都这么好 2200 也不是不可能。\n\nF - Twin Polynomials\n赛时做这题的时候有点飘了，要是我认认真真手模一下样例说不定真能场切。\n容易想到对于  连边并考虑图的性质。发现对于每个点（除  号点外），要么向  号点连边，要么形成自环，要么属于一个二元环。特别地， 号点不能向  号点连边。容易举反例证明这一点。于是考虑先把图建出来，判断一下是否合法。接下来，只需要考虑剩下的点，并进行一个 DP。设有  个点时有  种分配方案，那么 ，初始状态是 。如果是  号点那么需要特判一下。于是就做完了。\n赛时先是认为图是由若干个环组成的（不一定是二元环或自环）于是耽误了好久。后来想到了这一点，可是又没想到可以向  连边，又没有静下心来手模样例，于是 5 题 rk 8 遗憾离场了。\n\nG1 &amp; G2 - Inverse Minimum Partition\n好神的题。Solution。\n值得一提的是，BINYU 自己把这道题改出来了，然后他又给 Zi_Gao 讲了，然后我又参考了他们的代码。直到我写题解的时候，才发现这个做法是假的，然后把我们三个 hack 了。\n\n\n多校联考 20251014Link\n除了之前没有区分度的那场之外考得最好的一场。\n并且获得了 1.25 瓶冰红茶。\n只能说还在稳定开挂吧，之前  的运气还没用完。\n\nA - Happy · Lovely · Everyday!\n每次选择相邻的两个异或听起来比较困难，所以考虑转化一下，将原序列分成若干个子段，让每个子段变成这个子段的异或和。依然感觉不是特别能发现性质，于是考虑如果已知最终状态，如何判断合法，发现是贪心判断，那么这道题的做法就比较显然了。初始状态为 ，每次  可以转移到 ；若存在  使得  是  右侧第一个满足  的位置，那么  还可以转移到 。若  的异或和为零，那么将  累加进答案即可。其实挺唐的，主要还是没改掉赛时喜欢乱猜结论的坏习惯导致耽误了好久。\n\nB - 敬启，致那时的我\n虽然按理来讲这题应该评蓝（因为矩阵快速幂都是绿）但是我觉得 B &lt; A。\n发现斐波那契数列实在是一点性质都没有了，popcount 相同的数对应的斐波那契值也是一点性质都没有，于是想想关于计算斐波那契数列的第  项还有什么做法，于是显然只能想到矩阵加速。你发现矩阵满足结合律与分配律，于是这道题就做完了。设  表示考虑到第  位，填了  个 ，当前值是否等于上界 时的答案。直接转移即可。\n\nC - Lead to shine more\n好奇我赛时是如何切掉这题的。\n先观察一下，发现能走的路只有倍增这一条。一个天真的想法是，设  分别表示初始 ，达到  所需要的步数以及总步长。发现无法转移，需要添加  这一维表示初始 。发现还是无法转移，需要添加  这一维表示每次更新是 。然后就可以转移了。对于每次询问，发现高位是容易处理的，然而低位不容易。所以用倍增处理出高位，留下最后  位直接暴力地推即可。\n值得一提的是，赛时代码中我不小心让下标出现了 ，导致 CWOI 上挂完了。幸运的是，虽然本地测试也用的 Linux，但应该是因为环境不同，本地并没有挂。赛时我其实注意到了那里会出现 ，但是 Windows 上没挂，我也没有意识到它会被作为下标，就忽略了这个问题。总之还是不够严谨导致的，而且在 NOI Linux 上测一下样例也是很有必要的。（这段话好人机。）\n\n\n多校联考 20251015Link\n\nB - 捐赠\n两只  跑得快，甚至  草过了 。\n正解显然是一只  的。你会发现 A 选的个数与 B 没选的个数之和恰好是 B 的个数，下文记作 （废话），那么转化一下，对 B 物品的权值取相反数，那么答案就是选权值前  大的物品，再加上 B 物品的权值和即可。\n\nC - 染色\n不错的树上启发式合并题，可是我并不会。\n然后写日祭的时候发现一车人的启发式合并是假的，包括我。当然如果精细实现也能过，但是我不想改了。\n\n\n多校联考 20251021Link\nBINYU Zi_Gao Rong7 模拟赛，内部提前到了 20251017 考。\nA 是唐，C 的  分只用发现 （ 表示斐波那契数列的第  项），其它不会。\n多校杂题选讲 20251017Link\n不想写。\n多校联考 20251018Link\n不想写。\n并非多校联考 20251021Link\n运动会，没打。\n多校联考 20251022Link\n\nA - 石头人\n因为没判  导致挂分。\n\nB - 炒鱿鱼\n要求在一种特殊图上对图进行三分图染色。\n做法是，直接 dfs 染色，但是优先遍历编号大的点。至于为什么是对的我也不知道\n赛时因为有点细节问题导致挂分。话说这个构造甚至我最后 20min 想出来的。\n\nC - 适格者\n纯唐。\n\n\n多校联考 20251025Link\n\nA - 剖分\n唐氏树形 DP / 贪心。\n\nB - 海啸\n不带修是 ARC201B。\n带修也是好做的，维护一下当前每一“层”中的元素即可。\n\n\n并非多校联考 20251027可是牢祝依然算了这场的成绩。\nLink\n\nA - 大骑士领一瞥\n分讨题。\n\nB - 流放阿卡胡拉\n注意到路径一定是 ，其中  或  是质数。然后你发现，我们只需要关注以  为右下角的一个矩形中的 ，所以在矩形中跑暴力 DP 即可，矩形长宽取到  就行了。虽然不知道哪里来的正确性，但是靠感觉它就是对的。\n\n\n多校联考 20251028Link\n\nA - 排序\n唐。\n\nB - 重排\n唐。\n\n\n多校联考 20251029Link\n\nA - 初恋\n唐。\n\nB - 奥瑟罗\n没我唐。随便乱维护一下即可。\n\n\nCSP-S 2020 并非 VP\nA - 儒略日\n屎。\n\nB - 动物园\n屎。\n\nC - 函数调用\n好。没一眼秒的原因是没有注意到加乘可以转化成加和全局标记乘，也没想到正难则反。我咋这么唐。\n后来一直写挂的原因是，拓扑时理所应当地只加了  号点，也是糖丸了。包括记忆化搜索的时候，应当令初值为 ，因为乘数可能为 。\n\n\nCSP-S 2021 并非 VP\nA - 廊桥分配\n唐。\n\nB - 括号序列\n唐。\n\nC - 回文\n屎。\n\n\nCSP-S 2022 并非 VP\nA - 假期计划\n好。你发现如果我们确定了  和 ，那么就可以贪心地选择  和 ，其中  需要满足从  与  均可达， 同理。于是我们可以  预处理出可达关系，与对于一个确定点，有哪些点可从  与它可达。接下来，枚举  和 ，贪心地选择最优的  和 。发现  和  可能会和其它点重复，于是考虑放缩一下。容易发现我们只关注前  大的  和 ，于是预处理的时候求出前三大的即可。\n\nB - 策略游戏\n唐。\n\n\nCSP-S 2023 并非 VP\nA - 密码锁\n唐。\n\nB - 消消乐\n唐。难点在于证明时间复杂度。\n\nC - 结构体\n屎。\n\n\nCSP-S 2024 并非 VP\nA - 决斗\n唐。\n\nB - 超速检测\n屎。\n\nC - 染色\n唐。这题咋跟 Chicken Jocky 一模一样啊，虽然自己还是瞪了好久，还因为饭堂调了好久。\n\n\n","categories":["ESSAY"],"tags":["记录"]},{"title":"[ABC145F] Laminate 题解","url":"/article/ABC145F-Laminate-%E9%A2%98%E8%A7%A3/","content":"想必大家都会积木大赛。\n若修改 ，考虑如何让它带来的贡献最小。根据积木大赛的结论，只需让 ，这个位置就不会带来任何的贡献，可以认为我们删除了第  个位置。显然，，总存在  满足以上条件。\n那么问题就变成了，原本有  个位置，可以删除最多  个位置，求最小答案。于是自然而然地想到了 DP。\n设  表示现在在第  个位置，删除了  个位置，上一个没有被删除的位置是  的最小答案。转移方程：\n\n时间复杂度 。\n提交记录。\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[ABC400F] Happy Birthday! 3 题解","url":"/article/ABC400F-Happy-Birthday-3-%E9%A2%98%E8%A7%A3/","content":"考虑正难则反。问题转化为：\n\n一个环上有  个物品，颜色分别为 ，每次操作选择两个数  使得 ，将  中的每个物品的颜色都设为 。（下文将这种操作称为“漂白”。）一次操作的代价为 。求将整个环漂白的最小总代价。\n\n先断环为链。设  表示将  漂白的最小代价，那么显然有 。\n设  表示使  能够漂白的最小代价，那么显然有 。当  时，有 。\n答案即为 。\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[ABC407F] Sums of Sliding Window Maximum 题解","url":"/article/ABC407F-Sums-of-Sliding-Window-Maximum-%E9%A2%98%E8%A7%A3/","content":"一眼题啊。设  左侧第一个不比它小的数的位置为 ，它右侧第一个比它大的数的位置为 。（这样可以保证既不漏算又不重复计算。）那么对于 ，它可能作为最大值的极长区间显然是 。这个区间又被  分为左右两段。设两段中较短的一段长度为 ，较长一段长度为 ，总长度为 。那么  可以带来以下贡献：\n\n；\n\n；\n\n。\n\n\n将第三组式子拆为：\n\n。\n\n于是维护两个差分数组即可。第一个差分数组  维护的实际值就是 ，第二个差分数组  维护的实际值是 。\n于是就做完了。\n提交记录。\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[ARC050C] LCM 111 题解","url":"/article/ARC050C-LCM-111-%E9%A2%98%E8%A7%A3/","content":"一句话题解转化两个大数的 ，再用倍增求答案。\n题意题目  \n给你 ，其中 ，让你求  个  拼接起来的数和  个  拼接起来的数的最小公倍数。\n思路我们构造一个函数  表示  个  拼接起来，用数学语言表述就是：  \n  \n同时又有 ，那么我们要求的就转化成了：  \n  \n因为  与  都比较好求，所以此时的问题就转移到了怎么求  上来。\n我们尝试感性理解一下。可以发现：  \n  \n此时答案就变成了：  \n  \n我们把这个式子分成两组：  \n  \n对于每一组单独用倍增计算即可。详见代码。  \n提交记录 | 快得飞起  \nAC Code#include &lt;bits/stdc++.h&gt;#define int long longusing namespace std;int a, b, p, d;int gcd(int a, int b) {    if (b == 0) return a;    return gcd(b, a % b);}int qpow(int x, int y) { // 快速幂    int ans = 1;    while (y) {        if (y &amp; 1) ans = (ans * x) % p;        y &gt;&gt;= 1;        x = (x * x) % p;    }    return ans;}int cal(int x, int y) { // 倍增计算答案    int now = 1, npow = qpow(10, y), ans = 0;    while (x) {        if (x &amp; 1) ans = ((ans * npow) % p + now) % p;        x &gt;&gt;= 1;        now = ((now * npow) % p + now) % p;        npow = (npow * npow) % p;    }    return ans;}void solve() {    cin &gt;&gt; a &gt;&gt; b &gt;&gt; p;    d = gcd(a, b);    cout &lt;&lt; cal(a, 1) * cal(b / d, d) % p &lt;&lt; endl; // 对于第二组，gcd(a, b) 是一个循环节，一共有 b / gcd(a, b) 个循环。    return;}signed main() {    cin.tie(0);    cout.tie(0);    int T = 1;    while (T--) solve();    return 0;}\n\n最后问我为什么不推式子？如果你直接开始推式子，你会推出一个带分母的式子。有分母就要求逆元，但是本题中并未保证模数的性质，所以不能直接求逆元。\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[ARC196A] Adjacent Delete 题解","url":"/article/ARC196A-Adjacent-Delete-%E9%A2%98%E8%A7%A3/","content":"假设  是偶数。如果我们忽略删除相邻数的条件，即可以任选两个数相减，那么答案应该是前  大的数（记作“较大数”）的和减去前  小的数（记作“较小数”）的和。\n容易发现，当我们只能选相邻的数相减时，依然可以达到这个答案，因为在任意时刻，总存在至少一对较大数与较小数相邻。\n当  是奇数，那么一定有一个元素不被选，且这个元素一定在奇数位，这样才能把数组分成长度为偶数的两段。枚举不被选的位置，用对顶堆维护前后两段的答案即可。\n时间复杂度 。\n提交记录\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[ARC147C] Min Diff Sum 题解","url":"/article/ARC147C-Min-Diff-Sum-%E9%A2%98%E8%A7%A3/","content":"本文提供一种另类做法。虽然我的代码从实现以及常数上都更劣一些。\n考虑原式的几何意义，即在数轴上的  个区间内各选一个点使得这  个点两两距离之和最小。\n考虑什么时候距离之和最小，显然是所有点都尽量向某一个位置靠拢时。所以钦定中心点，让其它所有点都尽量向这个点靠拢，再暴力计算贡献。时间复杂度 。\n注意到，中心点取在非端点显然时不会更优，所以可以离散化。时间复杂度  。\n现在考虑优化计算原式的过程。考虑拆贡献。 个点把数轴分成  条线段（以及两条射线）,那么第  条线段就会被计算  次。这是显然的。那么我们可以现将这  个点排序，再按上述过程计算。时间复杂度 。\n容易发现，在中心点移动的过程中，有许多点的位置并不会随着中心点位置的改变而改变，所以考虑动态维护每个点的位置以及贡献。设当前中心点位置为 ，可以把  个点分成  段：\n\n，这些点的位置固定在了 ，不会再改变。\n\n，这些点的位置会随着中心点位置的改变而改变，且它们的位置都是 。\n\n，这些点的位置暂时固定在了 。\n\n\n那么我们可以动态维护这三段的端点。当  遇到了一个左端点时，相当于将一个点从第三段移到第二段；当  遇到了一个右端点时，相当于把一个点从第二段移到了第一段。\n在此同时，动态维护每段内部的贡献。第一三段的贡献只需要在遇到端点时更新，第二段内部显然没有贡献。总贡献第一段的贡献一二段交界处贡献二三段交界处贡献第三段的贡献。\n于是这道题就做完了。\n提交记录。\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[ARC197D] Ancestor Relation 题解","url":"/article/ARC197D-Ancestor-Relation-%E9%A2%98%E8%A7%A3/","content":"好题啊好题。记  表示矩阵的第  行的内容（用 bitset 维护）。\n考虑什么时候有 。因为与孩子有关系的节点一定与祖先有关系，但与祖先有关系的节点不一定与孩子有关系。所以有  或 ，前者对应  是  的祖先，后者则对应  是  的祖先。容易证明这是一个充要条件，那么若 ，则一定不存在  与 。\n接下来考虑一种特殊情况：，此时  在一条没有任何分岔的一条“链”上，那么这条链上的节点的位置就可以互换。设一组  相同的点的数量为 ，那么这一组点可以带来  的贡献。\n此外，，显然需要有 。那么我们就总结出以下三条条件或贡献：\n\n。\n 或 ，当且仅当 。（等价于：，当且仅当  或 。）\n对于极多的  个  相同的数，可以带来  的贡献。\n\n于是按以上三点计算即可。时间复杂度 。\n提交记录。\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[ARC203A] All Winners 题解","url":"/article/ARC203A-All-Winners-%E9%A2%98%E8%A7%A3/","content":"手模几个样例之后，容易发现构造：\n\n对于每个队伍，令其中  个人始终获胜，其中  个人始终战败。\n那么对于每一个始终获胜的人，都可以匹配到  个其他队伍的始终战败的人。同理，对于每一个始终战败的人，都可以匹配到  个其他队伍的始终获胜的人。\n当  是奇数时，每个队还各有  个人未被匹配。此时我们只能令其中一个人始终获胜。\n\n综上所述，答案为 。代码就懒得放了。\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[ARC203B] Swap If Equal Sum 题解","url":"/article/ARC203B-Swap-If-Equal-Sum-%E9%A2%98%E8%A7%A3/","content":"首先，必要条件是两个序列的和相同。\n容易发现，操作是可逆的。所以考虑将  和  变为一种相对规则的形式，比如单调。由于单调不降与单调递增是对称的，所以接下来讨论单调不降。\n现在的问题是，能否将一个序列通过若干次操作变为单调不降的。考虑简化操作，变成：\n\n交换 0 与 0 0\n（或）交换 0 1 与 1\n（或）交换 1 0 与 1\n\n注意到，当序列之和（即  的数量） 时，我们一定可以把所有的  放在序列开头处，从而形成单调不降的序列。具体过程可以手模一下，这里不再展开。\n另外，当序列之和  时显然有解。所以接下来单独讨论序列之和  的情况。即此时序列中有且仅有一个 。\n根据  的位置分类讨论。发现，当  的位置  时，我们可以通过一些操作将它放置到区间  中的任意一个位置；当  的位置是  或  时，那么我们无法改变它的位置。也就是说，当  或  中的  在位置  或  时，当且仅当两个序列相等时才有解；其它情况下均有解。\n代码是好写的，所以这里就不放了。\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[CF2086E] Zebra-like Numbers 题解","url":"/article/CF2086E-Zebra-like-Numbers-%E9%A2%98%E8%A7%A3/","content":"确简单的啊，可是自己就是想不到。\n考虑计算一个数的斑马值。贪心地，尽量选大的斑马数减即可。\n考虑 DP，设  表示  中斑马值为  的数的个数。那么显然有 ，其中  是不大于  的最大的斑马数。具体地， 表示  中斑马值为  的数的个数， 表示  中斑马值为  的数的个数。\n记搜即可。\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[ARC203C] Destruction of Walls 题解","url":"/article/ARC203C-Destruction-of-Walls-%E9%A2%98%E8%A7%A3/","content":"看到  就显然分讨了。\n\nCase 1：\n此时显然无解。\n\nCase 2：\n此时答案即为从  走到  的方案数，即 。\n\nCase 3：\n即在 Case 2 的基础上再选一堵墙拆除。发现对于任意一条从  到  的路径，都可以选择其余任意一堵墙拆除。故答案为 。\n\nCase 4：\n发现此时又产生了两种情况。一种是路径长度依旧为 ，另一种是路径长度为 。\n\nCase 4.1：路径长度为 \n即在 Case 2 的基础上再选两堵墙拆除。尝试延续 Case 3 的做法，答案为 。可是发现此时会重复。具体地，当存在一个位置  满足  四堵墙都被拆除时，这种拆除方案会被路径  与  各计算一次。\n考虑计算被重复计算的方案数。考虑枚举 ，那么这里的答案为 。考虑从路径计数意义上化简。假设  和  是一个点，那么上式相当于在计算  到  的路径数。撤销假设，那么我们要选择路径中的一个点，将它视为 ，插入点 ，并把之后的点向右、向下各移动一个位置。可以选择的点有  个，所以上式化简为 。\n\nCase 4.2：路径长度为 \n此时所有墙恰好用完，所以我们只用计算长度为  的路径数量。当路径长度为  时，一定走了一次回头路，即一定向上走了一步或向左走了一步。\n若向上走了一步，那么在竖直方向上的总步数是 ，而在水平方向上的总步数依然是 。发现，如果有一步是向上的，那么它的上一步和下一步都必须是向右的。由于一定存在一步向上，所以我们可以先提前使用两个向右的行动。此时在水平方向还剩下  步。我们先假设所有竖直方向上的行动都是向下的，那么此时答案为 。接下来，我们可以从竖直方向上的第  步到第  步之间任意选择一步，并将其“反转”，即在这一步前后各加一次向右的行动，并且将这一步修改为向上。所以答案为 。\n同理，若向左走了一步，那么答案为 。\n\n\n综上所述，这一部分的答案为：\n\n\n\n代码是好写的，所以这里就不放了。\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[CF2119D] Token Removing 题解","url":"/article/CF2119D-Token-Removing-%E9%A2%98%E8%A7%A3/","content":"将题意转化一下，即我们要把  个标记中的若干个放到区间  内，且右端点各不相同的方案数。设  表示已经考虑了标记 ，当前还剩  个右端点没有使用的方案数。为什么要倒序遍历呢？因为标记  能使用的右端点，标记  一定能使用。转移分两种情况讨论。\n\n若不选择当前这个标记，那么就多出了一个右端点。此时贡献是 。\n\n若选择当前这个标记，包含它的区间的左端点有  中情况（），区间右端点有  种情况（原本的  个空余的右端点加上位置  新产生的一个）。此时贡献是 。\n\n\n所以 ，初始状态是 ，答案是 。\n提交记录。\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[COCI 2023/2024 #2] Zatopljenje 题解","url":"/article/COCI-2023-2024-2-Zatopljenje-%E9%A2%98%E8%A7%A3/","content":"闲话考前集训，每日一练做到的题，我写挂了五次。自己想到分块的做法，看题解区没有，于是来发一篇。\n思路我们注意到，当海水高度为  时，区间  的小岛的个数可以这么计算：\n\n所以第  个位置产生贡献当且仅当  ，考虑分块并预处理出每个块的答案。由于  ，所以要离散化。时间复杂度  ，虽然比不上线段树或树状数组，但是思路还是比较好想的。\n具体细节见代码实现。\nTip : 不要开long long，不然会MLE。\nCode#include &lt;bits/stdc++.h&gt;#define PII pair&lt;int, int&gt;using namespace std;template &lt;typename _Tp&gt;inline void read(_Tp &amp;x) {\tint neg = 1;\tchar ch;\twhile(ch = getchar(), !isdigit(ch)) if(ch == '-') neg = -1;\tx = ch - '0';\twhile(ch = getchar(), isdigit(ch)) x = (x &lt;&lt; 3) + (x &lt;&lt; 1) + (ch ^ '0');\tx *= neg;\treturn;}// bans[i][j] : 第 i 个块当 x = j 时的答案int n, q, a[200005], blk, cnt, bans[505][200005], x, l, r;PII p[200005];signed main() {\tread(n), read(q);\tfor(int i = 1; i &lt;= n; ++i) read(a[i]);\t// 加一个 0 ，方便离散化\ta[0] = 0, ++n;\t// 离散化\tfor(int i = 0; i &lt; n; ++i) p[i] = {a[i], i};\tsort(p, p + n);\tfor(int i = 0; i &lt; n; ++i) {\t\tif(i == 0) a[p[i].second] = 1;\t\telse {\t\t\tif(p[i].first == p[i - 1].first) a[p[i].second] = a[p[i - 1].second];\t\t\telse a[p[i].second] = a[p[i - 1].second] + 1;\t\t}\t}\t// 分块\tblk = sqrt(n);\tcnt = (n - 1) / blk + 1;\tfor(int i = 0; i &lt; n - 1; ++i) if(a[i] &lt; a[i + 1]) {\t\t\t// 差分计算答案\t\t\t++bans[i / blk][a[i]];\t\t\t--bans[i / blk][a[i + 1]];\t\t}\t// 前缀和\tfor(int i = 0; i &lt; cnt; ++i) for(int j = 1; j &lt;= n; ++j) bans[i][j] += bans[i][j - 1];\twhile(q--) {\t\tread(l), read(r), read(x);\t\t// 对 x 离散化，找到最后一个小于等于 x 的值\t\tint ind = lower_bound(p, p + n, (PII){x + 1, 0}) - p, ans;\t\tx = a[p[ind - 1].second];\t\t// l 点的答案\t\tans = a[l] &gt; x;\t\tif(l / blk == r / blk) {\t\t\t// 在同一个块中\t\t\tfor(int i = l; i &lt; r; ++i) ans += (a[i] &lt;= x &amp;&amp; a[i + 1] &gt; x);\t\t}\t\telse {\t\t\t// 计算 l 所在块的答案\t\t\tfor(int i = l; i &lt; (l / blk + 1) * blk; ++i) ans += (a[i] &lt;= x &amp;&amp; a[i + 1] &gt; x);\t\t\t// 计算 r 所在块的答案\t\t\tfor(int i = r / blk * blk; i &lt; r; ++i) ans += (a[i] &lt;= x &amp;&amp; a[i + 1] &gt; x);\t\t\t// 计算中间块的答案\t\t\tfor(int i = l / blk + 1; i &lt; r / blk; ++i)ans += bans[i][x];\t\t}\t\tprintf(\"%lld\\n\", ans);\t}\treturn 0;}\n\nSubmisson\n\n完结撒花！！！✿✿ヽ(°▽°)ノ✿\n","categories":["ESSAY"],"tags":["题解"]},{"title":"CW 机房规则怪谈","url":"/article/CW-%E6%9C%BA%E6%88%BF%E8%A7%84%E5%88%99%E6%80%AA%E8%B0%88/","content":"原文作者为 ，本文由  补充。\n以下内容如果你认为侵犯了你的隐私或引起了你的不满，请联系我删除；如需修正或投稿，也请私信我。\n另：本文不区分“他”、“她”与“它”。\nCW 机房规则怪谈常规篇\n如果你早上 7:30 以后才到机房并且在路上 or 机房门口遇见一个戴眼镜、板着脸的中年男子。请不要与他对视，并且要尽可能将自己装成是国际部的学生。注意，他 不属于这个机房，请不要让他注意到你是信竞学生。\n\n如果你在早上 7:40 发现机房里有除了上一条所述的中年男子以外的其他成年人在机房，请保持镇定并且快速离开。记住，信竞老师从不在以前到达教室，他 不是你的老师。\n\n如果你看到从门数第四列最靠近讲台的学生  上午没有睡觉，请立即联系祝老师，他不是 。\n\n当你早上十分困时，可以选择在机房睡觉，这样你会体验到  专属叫醒服务。如果他不让你在机房睡，你可以去外面小桌子处睡觉。记住，你无法在困的时候做题，睡眠是最重要的。\n\n记住，每节课间  都会贴在某个人后面，或者待在自己位置上看原神视频。如果他没有这样做，那么你眼前的人绝对不是 。请联系班长解决。\n\n如果你的电脑在开机时没有卡顿，请立即换一台电脑，小心 他 在你写代码写到  时突然蓝屏。时刻记住，没有不卡顿的电脑。\n\n如果有一天中午你发现  比你到机房更晚，请立刻将他驱逐出境，因为他绝对不是 。\n\n\n学习篇\n请不要相信 vjudge 专题上的排行榜，因为有人藏题。请不要藏题，这会使得大家都很愤怒。\n当你听  讲题时，如果你听不懂，必须保持微笑并适当地回应  的问题，可以点头但是频率不能太快。不要被他发现你听不懂，不然会有严重后果。\n\n考试篇\n当你遇见  出的模拟赛时，你可以选择请假，如果无法请假，请提前准备好消遣时间的方式，并且不要让他发现，否则会有可怕的事情发生。 \n考试时，如果发现  四处走动并且询问你的做题情况。请不要理会他，因为他要 【数据删除】 了。此行为会让你的心态大幅下降，并影响你的专注度。\n你可以选择在开考后 1 min 开始猛敲键盘，让大家以为你已经切了一道题。不过，请适当使用该方法，不然有可能被别人真实。\n输出样例是一个好方法。\n当你发现有人 AK 模拟赛时，请立即仔细阅读其代码，并严格比对正解并尝试 hack，记住 模拟赛的频率是位场（ 除外）。\n\n班长篇\n你可以永远相信你的班长，他会帮助你。\n当班长让大家保持安静时，请务必保持安静。不然你会为此付出代价。\n班长会视奸你们每一个人。\n\n机房生物图鉴\n刷新频率：\n有时一整天都在机房，有时几天都不来机房。\n\n属性：敌对，会随时视奸机房里的每一个人\n\n获得好感方式：\n\n认真学习 OI\n在模拟赛 or 正式比赛中取得优异的成绩\n造数据\n讲题\n\n\n可能激怒他的行为：\n\n在机房打游戏（激怒概率 ）\n在上课时段水（激怒概率 ）\n在上课时段说话（激怒概率 ）\n不认真对待模拟赛（激怒概率 ）\n上课睡觉（ 提供叫醒服务）\nwhk 选手 whk 没考好（激怒概率 ）\n\n\n应对方法：\n\n认真学习 OI！\n\n\n\n\n刷新频率：\n经常 disappear 去打球，晚自习经常消失。在机房刷新概率较低，经常说批话。\n\n属性：中立，可能具有攻击性\n\n获得好感方式：\n\n陪他一起打羽毛球\n给他彩虹糖\n听他讲课并且完完全全听懂并且能回答对他的所有问题\n帮他调对NOI模拟赛的代码\n帮他验对他出的题并给出更优做法\n\n\n可能激怒他的行为：\n\n听不懂还装懂（激怒概率 ）\n不听他讲题（激怒概率 ）\n模拟赛分数比他低（ 触发嘲讽技能）\n做不起“唐B题”、“板子题”或询问“很唐的问题”（  概率触发辱骂技能， 概率触发愤怒 ）\n他自己挂分了（会触发红温技能）\n\n\n应对方法：\n\n变得比他更强\n在模拟赛中考得比他高\n在他讲题前将题目 A 掉，这样  就不会找他讲题了（最优解法）\n在听他讲题时全部听懂\n在听他讲题时没听懂，但是仍然笑脸相迎，时不时点头，注意频率不能过快。\n\n\n\n\n刷新频率：\n经常请假，原因是身体不好，实则是自己在家里内卷。\n\n属性：友方，是一位友善的班长\n\n获得好感方式：\n\n？\n\n\n可能激怒他的行为：\n\n在他做题的时候揉他的脸（激怒概率 ）\n莫名奇妙揉他（激怒概率 ）\n上课时段太吵（ 触发管理技能）\n\n\n应对方法：\n\n揉他适可而止，注意察言观色\n在上课时段保持安静\n\n\n\n\n附：机房名单与座位表。\n\n\n\nCol 6\nCol 5\nCol 4\nCol 3\nCol 2\nCol 1\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","categories":["ESSAY"],"tags":["休闲娱乐"]},{"title":"NOIP + 游记（流水帐）","url":"/article/NOIP-%E6%B8%B8%E8%AE%B0/","content":"为什么是NOIP + 游记？因为其实是 NOIP游记 和 环球中心游记 。\nWarning本文纯流水帐，想了解题目做法的请移步。\nDay -34考 CSP-S 了，炸掉了。赛时估分只有120-160pts。\nDay -26出分了，170pts。\nDay -11出分数线了，SC180pts呜呜呜。\nDay -??老师给我们报了NOIP。\nDay -??NOIP线出来了，165pts，好险。\nDay 07：50到嘉祥锦江了。\n8：00在机房门口和同学们玩了一会儿，还上了个厕所（嘉祥的卫生间竟然有坐便。但是，很难评。。。）。\n8：20发现我的键盘空格键回弹不好，找老师换了一个。\n8：30开考了。大概看了一下题，第一眼T2、T3计数，感觉不可做；T1贪心，感觉可做；T4数据结构应该能骗点分。开写T1。\n10：45由于本蒟贪心不好，再加上本来太菜了，T1花了约2.25h（其实中间也有摸鱼）才过大样例。做法：找两个字符串在“连通块”内0和1的个数，再尽量去匹配。又把剩下的题看了一遍，感觉T2是数学题，可做。开写T2。\n??：??写了一下  和特殊性质A，预估35pts。这两个性质是很容易推出式子来的。\n12：30边摸鱼边写迷惑行为边推式子，T2最后蒙猜凑测量斗过大样例了。做法：数学，推式子，这里不（想）详细展开。没时间写其它题了。开颓。\n13：00考完了。赛时预估200pts。\nSummary本初中蒟蒻第一次打NOIP，还是太蒟了，主要在摸鱼或罚坐（还有写迷惑行为），不过感觉发挥比CSP-S要好。\n13：10出考场，和家长、同学沟通，准备找个地方一起玩。最后选择去了JDScript0117家附近的环球中心。另外还有hard_plan和HD0X。\n路上浅浅讨论了一下。hard_plan说了一个关于T4LCA的trick，但是就算我赛时知道这个trick我也做不来（因为我现在还是做不来）。\n13：??到环球中心了。吃的和麦府当捞劳面。它的薯面条都是用土豆做的！\n14：??-15：??吃完了。不知道玩什么。先去喜茶坐着了。考虑剧本杀或桌游之类，最后说去买扑克牌，结果我妈让我16：00就要走，没买扑克牌。无语了。\n15：40喜茶太多人了，到星巴克一人点了一杯拿铁。\n16：00我走了，其他人说是去旁边公园骑车了。\n17：00JDScript0117给我打电话让我立即马上随便发两条朋友圈，原来他们没有骑车，在公园里晒太阳、玩真心话大冒险。我本来以为他们这些大朋友不像我这个小朋友一样喜欢玩真心话大冒险，所以最开始就没提出来，最后一下午啥也没干。烦。\n17：10重新写了T2的代码，洛谷上民间故事数据A了（民间故事-&gt;folklore）。\n18：00yishu2(教练)说第一题是DP，有坑，贪心可能会挂一些。看运气吧。\nDay 1洛谷上四道题的民间数据已经陆续在出了，中午测了T1，过了。最终自测200pts，希望不要写挂。看了一下去年的题和分数线，洛谷上给的难度是今年严格不小于去年，去年SC一等线200pts，今年就看运气了。\nDay 2 - 6Day 6 : 12月6日\n这几天中间不定时地交民间数据（因为害怕数据更改被卡掉，不过事实上并没有），Waiting。\nDay 7今天早上准备去高中的时候恰好碰到LCY，他说出分了。啊？不是12月9日才出分吗？（而且12月9日是我的生日。）结果提前了？这就是住校生的缺点——信息闭塞。于是赶紧跑到机房，查分——爽！没挂！200pts。\n虽然说啊，我还是够蒟的，但是该拿的分还是拿到了，还是比较开心。\n达成成就：  。\n","categories":["ESSAY"],"tags":["游记"]},{"title":"别样的罚时大战","url":"/article/%E5%88%AB%E6%A0%B7%E7%9A%84%E7%BD%9A%E6%97%B6%E5%A4%A7%E6%88%98/","content":"本文是一篇 CQ CCPC 流水帐游记，想了解题目做法的请移步。\nDay 和 qcz, jmr 分到一组了。赛后一结算，jmr 是 MVP，hyc 是躺赢狗。\n队名叫作 grass8cao。\nDay 时间安排出来了，结果是当天坐高铁往返，早上 6:20 就出发呜呜呜。\nDay 0早上 5:50 就起床了。\n9 点左右高铁到达重庆西。\n10点过一点到考场开始比赛。策略是 jmr 和 qcz 轮着写代码，我负责翻译和想点子。\n1:18 AC 了 6 道题，一共吃了整整 4 发罚时。\n接下来的 50 分钟内，jmr 把 E 过了，甚至还是首 A。\n随后又用了半个小时写 D。\n之后 jmr 开始写 DS G 题。写了一个小时，吃了 5 发罚时后，终于在封榜之前过了，还是首 A。这几道题我们的策略是：“赢在过题数上，不赢在罚时上，罚时已经不重要了！”\n在封榜之前，基本都是 Zi_Gao 的队第一，我们以同样的 AC 数与优秀的罚时紧随其后。\n于是 qcz 又继续写前面没写完的 J。在 jmr 的  组 hack 与整整 9 发罚时之后，也是终于调过了。\n此时已经 4:31。我在 jmr 休息的时候告诉他 I 可做，可是最开始我没讲清楚，他也没听。后来他突然会 I 了，相比 K 的 NTT，这道欧拉回路显然更好写。于是 jmr 果断选择 I，20 分钟后 AC。中间吃了一发罚时。\n此时 4:51，基本已经没有悬念了（吗？）。\n可这时我们发现了几个 BYD 藏题哥，于是开始担心。不过算一算，前五是没问题，因为算上 Zi_Gao 一个队在前面，还有大概三队藏题哥。\n比赛结束了，可还没解榜。后来问 Zi_Gao 他们队，结果他们封榜之后就没写了，最终定格在 9 题。\n后来吃了火锅上了大巴不知道过了多久，终于看到榜单了。结果那几队藏题哥的许多题都没过。于是就以 11 道题与优秀的 21 发罚时的成绩成为榜一。\n于是我就真的成为躺赢狗了。躺着拿（成绩等同）金牌与家长老师的各种表扬。\n","categories":["ESSAY"],"tags":["游记"]},{"title":"P6808 Candies 题解","url":"/article/P6808-Candies-%E9%A2%98%E8%A7%A3/","content":"鲜花校内模拟赛T3，赛时想到了正解的 ，所以就得了  分……\n赛后 T 了若干发之后终于过了。\n\n本文提供一种非回退背包的解法。\n在下文中，记 。\nSolution 1假设我们修改 ，设用其他数拼出的方案数为  ，那么当  足够大时，有 。所以问题就转化到了求  与 。\n考虑枚举 ，并对于每个  进行 DP 计算 。求出最大值与最大值位置（即 ）后，需要求 。\n设  表示是否能凑出 。很容易发现，当  时， 合法。暴力枚举即可。\n时间复杂度 ，完全不能接受。\nSolution 2我们发现，在第一种解法中，对于同一个物品，进行了太多次的背包 DP。我们尝试只进行一次DP，并标记为了凑出当前这个数，有哪些位置必须被选取。若不需要选取第  个数，代表当我们修改  时仍然能凑出这个数。\n具体地，设  表示为了凑出 ，是否需要 。转移方程如下。\n$\nDP 完之后统计 ，剩余步骤与解法一相同。\n时间复杂度仍然是 ，但常数好得多，在洛谷上取得了  分的好成绩！（这也是我赛时的做法，个人认为特别符合直觉。）\nSolution 3考虑优化一下求  的过程。前文已推得，当 ， 不合法。设全集（可重集）为 ，此时有可重集  满足 。再正反做一次背包即可。总时间复杂度 ，还是卡。\nSolution 4由于所有状态都是  或 ，所以可以用 bitset 优化。最终复杂度 ，趋近于 ，可以通过。\nCode在代码中，dp[i][0] 代表文中的 ，其余的 dp[i][j] 代表文中的 。\nint n, a[105], sum, cnt[105], mx, p;bitset&lt;105&gt; dp[700005];bitset&lt;1400005&gt; tmp;int main() {\tread(n);\tfor(int i = 1; i &lt;= n; ++i)\t\tread(a[i]), sum += a[i];\t// 初始化 dp 数组\tsort(a + 1, a + 1 + n);\tdp[0] = 1, dp[1][0] = 0;\tfor(int i = 1; i &lt;= n; ++i)\t\tdp[1][i] = 1;\tfor(int i = 2; i &lt;= sum; ++i)\t\tdp[i] = dp[i - 1];\t// 计算 dp 数组\tfor(int i = 1; i &lt;= n; ++i)\t\tfor(int j = sum; j &gt;= a[i]; --j)\t\t\tif(dp[j - a[i]][0]) {\t\t\t\tdp[j] &amp;= dp[j - a[i]];\t\t\t\tif(!dp[j][0]) dp[j][i] = 1;\t\t\t\tdp[j][0] = 1;\t\t\t}\t// 统计 cnt 并计算 p\tfor(int i = 1; i &lt;= sum; ++i)\t\tif(dp[i][0])\t\t\tfor(int j = 1; j &lt;= n; ++j)\t\t\t\tif(!dp[i][j])\t\t\t\t\t++cnt[j];\tmx = p = 0;\tfor(int i = 1; i &lt;= n; ++i)\t\tif(cnt[i] &gt; mx) mx = cnt[i], p = i;\t// 计算 q\ttmp[7000 * n] = 1;\tfor(int i = 1; i &lt;= n; ++i)\t\tif(i != p)\t\t\ttmp = tmp | (tmp &lt;&lt; a[i]) | (tmp &gt;&gt; a[i]);\tfor(int i = 1; i &lt;= sum - a[p] + 1; ++i)\t\tif(!tmp[7000 * n + i])\t\t\treturn printf(\"%d %d\\n\", a[p], i), 0;}\n\n这代码截止发题解当天竟然还跑出了洛谷最优解。（不过做这道题的人少。）\n","categories":["ESSAY"],"tags":["题解"]},{"title":"比亚迪吹气球大战","url":"/article/%E6%AF%94%E4%BA%9A%E8%BF%AA%E5%90%B9%E6%B0%94%E7%90%83%E5%A4%A7%E6%88%98/","content":"SCCPC 游记Day 前两天才打完 CQ CCPC 并被 jmr 带飞并写了游记，今天就听说 SC CCPC 已经分组了。\n太好了，终于不和 jmr 一组了，这次和 Kaka 一组。（甚至还是二人队伍。）上次连上机的机会都没有呜呜呜。\nDay 诶诶诶，初三的那几天要军训，所以不能和 Kaka 一组了。\n最后和 @O_v_O 大佬讨论了一下，和他与 @maichong 大佬一组了。\nDay 取队名了，叫做 rk -1 蒟蒻。\nDay 结果初三的军训可以请假，他们又可以去了。\nDay 今天早上从 CD 出发去 LS，中午去吃了临江鳝丝，下午在酒店写作业，晚上和 @O_v_O 与 @JDScript0117 一起吃饭逛街。\nDay 酒店就在学校旁边可是还开了车。路上因为买包子还被开了罚单，How sweet!\n到了学校，签了到，面积了两个人，入场准备开始。\n本来说好一人看几道题，结果开赛后也是直接开始乱看，我们的 O_v_O 大佬也是在开赛  内贡献了 。接下来 maichong 大佬于  贡献了 。在接下来的  内，我又想了想 ，O_v_O 继续在想 。我在  终于贡献 。\n接下来，O_v_O 觉得 B 及其简单，于是开始写 B，结果挂了。后来 O_v_O 觉得是他的实现太差，然后就又给我讲了做法并让我写。我读了题可依旧没发现这个做法有什么问题，于是就开始写。写完了，交，又挂了。再仔细思考，发现是 O_v_O 看错了题，最终贡献 。\n在这期间，我写了 ，可是中间因为一个小问题与见祖宗去了贡献 。这期间其实 O_v_O 和 maichong 也写了 ，一直没调出来，结果发现题目是单向边，他们写的双向边。\n此时时间是 。我也不知道为什么做得这么慢啊。\n接下来，我们的 O_v_O 和 maichong 继续在写 ，最终贡献 ，依旧没调出来。O_v_O 转战 ，以为是什么玄学时间复杂度的暴力，结果挂了。\n在写完  之后，我发现一个气球极其漏气，于是取下来各种方式吹，各种方式玩。（比如把气球的气放到自己嘴巴里之类的。）后来另一个气球也有点漏气（谴责 LSSFXY 打气球时没绑紧），于是 O_v_O 也加入了我，我们 一 起 吹 气 球！只剩下 maichong 一个人还在专心做题，因为  是调不出来一点。\n 完赛，中间是因为设备原因全场推迟了  结束。于是就真成 CW rk -1 了。\n","categories":["ESSAY"],"tags":["游记"]},{"title":"P3960 [NOIP 2017 提高组] 列队 题解","url":"/article/P3960-NOIP-2017-%E6%8F%90%E9%AB%98%E7%BB%84-%E5%88%97%E9%98%9F-%E9%A2%98%E8%A7%A3/","content":"本文提供一种动态开点线段树做法。\n\n\n这道题写的时候调了很久，原因是 while(q--)，而处理询问时又用到了 。\n\n另外，sjx 在讲义中这样写：\n\n为了解决空间问题，我们可以离线所有查询、删除和追加操作，然后 one by one 用线段树处理每个序列，每一个处理完后回滚到初始状态，再处理下一个。\n\n为了解决空间问题，直接动态开点不就是了。\n\n我们发现，每一行是相对独立的，所以考虑单独处理。对于每一行的前  个元素与最后一列，我们需要维护单点查询、单点删除与末尾插入。暴力的单点删除显然不可取，那么容易想到用线段树标记每个元素是否已被删除，查询时用线段树二分找到被查询元素的真实位置。由于有末尾插入的操作，所以我们可以对每棵线段树先多开  个位置。对于新加入的元素，我们并不把它实际地插入到线段树中，而是放到这一行（或列）对应的一个 vector 里面。\n具体地，对于一次操作，需要进行以下操作（假设 ）：\n\n在第  棵线段树上二分找到  的真实位置，从而得到  的值（并输出）；\n将  插入到第  棵线段树（用于维护最后一列）的末尾；\n从第  棵线段树中删除 ；\n在第  棵线段树上二分找到  的位置，从而得到  的值；\n将  插入到第  棵线段树的末尾；\n从第  棵线段树中删除 。\n\n 时也类似，不再展开阐述。\n时间复杂度 。\n关于线段树节点数量，估算下来理论上限是 ，而实测下来  已经足够了。\n\n在代码实现中，线段树中的 0 指未被删除，1 指已被删除，这样处理的目的是在末尾插入元素时不需要访问线段树元素。\n由于每个询问一定有解，所以线段树二分时没必要判断无解，整个过程也不需要考虑下标越界的问题，没什么细节，个人认为比较好写。\n#include &lt;bits/stdc++.h&gt;#define int long longusing namespace std;int n, m, q, x, y, rt[300005], ps, val;vector&lt;int&gt; num[300005];struct Segtree {    int tr[4000005], ls[4000005], rs[4000005], cnt;    void update(int l, int r, int&amp; p, int s) {        if(!p) p = ++cnt;        if(l == r) return tr[p] = 1, void();        int mid = (l + r) &gt;&gt; 1;        if(s &lt;= mid) update(l, mid, ls[p], s);        else update(mid + 1, r, rs[p], s);        tr[p] = tr[ls[p]] + tr[rs[p]];        return;    }    int query(int l, int r, int&amp; p, int d) {        if(!p) p = ++cnt;        if(l == r) return l;        int mid = (l + r) &gt;&gt; 1, tmp = (mid - l + 1) - tr[ls[p]];        if(d &gt; tmp) return query(mid + 1, r, rs[p], d - tmp);        else return query(l, mid, ls[p], d);    }} tr;signed main() {    scanf(\"%lld %lld %lld\", &amp;n, &amp;m, &amp;q);    for(int _ = 1; _ &lt;= q; ++_) {        scanf(\"%lld %lld\", &amp;x, &amp;y);        if(y &lt; m) {            ps = tr.query(1, m - 1 + q, rt[x], y); // step 1            if(ps &lt; m) val = (x - 1) * m + ps;            else val = num[x][ps - m];            printf(\"%lld\\n\", val);            num[n + 1].push_back(val); // step 2            tr.update(1, m - 1 + q, rt[x], ps); // step 3            ps = tr.query(1, n + q, rt[n + 1], x); // step 4            if(ps &lt;= n) val = ps * m;            else val = num[n + 1][ps - n - 1];            num[x].push_back(val); // step 5            tr.update(1, n + q, rt[n + 1], ps); // step 6        }        else {            ps = tr.query(1, n + q, rt[n + 1], x); // step 1            if(ps &lt;= n) val = ps * m;            else val = num[n + 1][ps - n - 1];            printf(\"%lld\\n\", val);            num[n + 1].push_back(val); // step 2            tr.update(1, n + q, rt[n + 1], ps); // step 3        }    }    return 0;}","categories":["ESSAY"],"tags":["题解"]},{"title":"联合省选 2025 游记","url":"/article/%E8%81%94%E5%90%88%E7%9C%81%E9%80%89-2025-%E6%B8%B8%E8%AE%B0/","content":"感谢 @fan_xiaoyi 提供的部分文本故事。\n作者是初二蒟蒻，实力有限，不喜勿喷。\n\n在遥远的傻子谷，生长着一棵特殊的树，名为二叉树。它以结构规则、枝繁叶茂而闻名，被谷民们视为神树，而神树也庇佑着这片土地。  \n二叉树所结的果实被称为提姆，其颜色从红到黑，颜色越深，价值越高。此外，还存在一种灰色提姆，这类果实尚未成熟，在生长过程中会随机变化，无法预测其最终状态。每颗提姆都包含 100 颗种子，被称为芬书，而谷民们的目标便是收集尽可能多的芬书。  \n然而，在2025年，由莲荷绳玄施加的魔法影响了二叉树，使其结出了六颗灰色提姆。这六颗提姆竟化作六只强大的怪物，若想获得这些提姆中的芬书，便必须先战胜这些怪物。  \n经过谷民们的推选，我被派往迎战这些怪物，试图夺取属于傻子谷的芬书。据智者犊子嘚所言，若能收集到足够的芬书，神树将在恩欧艾的力量影响下，再次结出六颗灰色提姆，并衍生出新的怪物。然而，我深知自己的能力有限，未必能达成这一目标，因此只希望尽力而为。  \n\n第一只怪物名为幸运数字，从外观来看，它属于计数型怪物，体型庞大，似乎难以应对。我仔细思考后，首先运用离散化的方法进行预处理，这一步是必不可少的。随后，我发现该怪物的核心机制是区间加、单点查询，于是决定采用差分进行优化。最后，在  的时间复杂度内，我成功击败了它，并获得 100 颗芬书。  \n尽管最终取得了胜利，但由于思考时间过长，我竟花费了两个半小时才找到合适的策略，这无疑是一个警示——若不能提高效率，接下来的挑战将更加艰难。  \n第二只怪物是追忆，它的特性与前者完全不同，更像是一位擅长语言与文学的文科高手。这只怪物防御极其严密，正面突破几乎不可能。我尝试以  的方式逐步削弱其防御，并借此消灭了部分附属怪物，最终勉强获得 20 颗芬书，但也只能匆匆离开，未能彻底战胜对手。  \n第三只怪物名为图排列，从它出现的瞬间，我便感受到了一股强大的压迫感，甚至无法展开有效的对抗。在尚未理清思路之前，我便被迫撤退，最终一无所获。  \n至此，第一天的战斗结束，我一共收集到了 120 颗芬书。 \n\n第二天的第一只怪物是推箱子。面对它时，我迅速想到了解决方案——线段树维护区间覆盖。这一策略在理论上可行，然而，我的实现方式时间复杂度为 ，或许并不足以完全击败怪物。尽管如此，我仍尽力施展此计，希望能尽可能多地收集芬书。  \n第二只怪物是岁月，又是一只计数类怪物。它似乎拥有深厚的力量，让人难以撼动。我尝试采用暴力方式试图窃取芬书，但也许是法力不足，无论如何努力，都未能战胜它。最终，我只能带着遗憾撤退，未能获得任何芬书。  \n最后一只怪物是封印，依旧是一只计数类怪物。由于时间紧迫，我无法深思熟虑，只能匆忙迎战。在激烈的战斗中，我设法获得了8 颗芬书，随后便匆匆离开。\n最终，我在第二天获得了大约 100 颗芬书。  \n\n所有的战斗已经结束，我也该带着这大约 220 颗芬书回到傻子谷了。而在返回的路途中，我还幸运地捡到了来自岁月的 4 颗芬书，最终我总共获得了 232 个芬书。\n接下来，便又是新一年的征途！\n","categories":["ESSAY"],"tags":["游记"]},{"title":"自述","url":"/article/%E8%87%AA%E8%BF%B0/","content":"本文是我的自述，非常口水话。\n写的时候思绪比较混乱，所以可能有些地方不太清楚。\n我很久之前就想写这种文章了，现在终于写好了。\n这篇文章里我并没有有意针对谁，所以请不要想多了。\n文章比较长，难免会有一些错别字，应该不影响理解。\n除了第一部分的大部分内容与后来更新的内容（用 Upd. 标注），其他都是我在 2025.7.19~20 写的。\nPart. 1 人身攻击与自我怀疑* 第一部分是我前段时间写的，写得过于详细了（？），但是也不想改了，就这样了。\n初一下的时候，我加入了班级合唱，花了很多时间排练。当时本来作业又多，排练又经常占晚自习时间，所以就只有经常熬夜或早起写作业。比赛前后几天，班上考了好几堂试，作业又不少，我在周二（2024.5.21）晚上回家后，就想一口气把作业做完。我做到了凌晨两点，我妈一直陪着我，她也很心疼我（做到那么晚），再加上平时作业一直都不少，我妈就想向班主任反映一下情况。由于我知道给班主任反馈没有好下场，他会各种在班上阴阳或者什么之类的，所以我不让我妈发。后来我妈又想到可以向另一位老师反馈，于是她就编辑了一条信息，发给了那位老师。信息的内容主要是先说明了我的情况，然后询问教学安排。中间有一句原话大概是“想知道教学安排是怎样的，现在搞得那么紧有什么意义。”\n周三（2024.5.22）早上，班主任在班上原封不动地念了我妈发的信息（显然是另外那个老师直接原封不动转发给班主任了），然后质问“是哪个狗屁家长发的”，没问出来，就让昨天晚上熬了夜的人起立，一个一个问。我和另一些同学站了起来，但是我并没有承认那是我妈发的。随后班主任就让家委会的查，是谁发的，后来在 2h 内就查出了是我妈。然后课间操的时候班主任就把我拉到一边，给我讲了一大堆。具体讲了些什么已经记得不是太清楚了，其中有些话也许是说我妈多管闲事，说他很喜欢我，但是我妈太麻烦了，不过不会给我穿小鞋。随后下午小班会的时候他又在班上说了这个事情，说了些什么也记不清了，但应该和上午说的有些重合。\n这件事就过去了吗？在接下来的一段时间，班主任多次在全班说我，说什么“让你爸再找个妈”“你妈更年期”之类的话。怎么说呢，这些事背后还有一个原因。\n\n在初一上的时候，我开学就当了副班长。后来由于各种原因，我实在不想当副班长了，我又不敢给班主任说，所以我爸我妈就去找班主任把我的副班长辞掉了。班主任觉得哪有家长给学生辞班干部的，又因为当时找班主任的时候我妈说的比较多，所以班主任就对我妈有了意见。\n\n\n另外，班主任后来是给我道了歉，但是是怎么道的呢？（我印象中）他在班上问我“我这样说你你没事吧”，然后我只好说没事，随后他又以开玩笑的语气去问另一个同学：“让你爸换一个不？”\n\n接上文，后来我忍了几周，有一周在家里差点崩溃了，但是又没敢把这些事情说出来。第二周，由于班上一些琐碎的事，我在那周周六（2024.6.8）回家后心情不好，然后洗完澡之后和我爸我妈聊天，然后聊着聊着就把上述的那些事情套出来了。当时说出来过后，心里是极其崩溃，具体崩溃的程度难以形容，这里也不再具体描述。后来我爸我妈就决定了给我换班。那天晚上我大概三四点才睡。第二天他们带着我出去玩，可是开心不起来一点。\n后来我爸我妈就找了校长给我转班，中间有些校长以及班主任的言论这里不再展开。\n总而言之，那段时间，我疯狂怀疑我的家长。想象一个班主任在全班面前评价你的家长，真的难以分清到底是谁对。可是现在看来，也不重要了，因为不管谁是对的，又是谁伤害了我呢？显而易见。\n这件事一直在我心中萦绕了许久，也许是直到初二上结束才完全放下吧。用一句歌词就是：\n\nScreamed, ‘f**K you aIMee’ to the night sky as the blood was gushing. But I can’t forget the way you made me heal.\n\nPart. 2 帮助 or 伤害转班之后，倒也不存在什么不适应，唯一就是有些孤独，在新班级找不到有共同话题的人。虽然和原来班级的同学交往依旧很多，但是平时有的时候就会觉得有些空虚。这倒也没什么。\n只是，我当时始终放不下初一下的事情。可能又由于某些原因，我心中似乎一直萦绕着什么不好的东西（我也记不清了）。后来在新班级遇到了一位同学，他简直像有读心术一样，第一次聊天就看透了我的内心，并且把他所看出来的都说出来了。我瞬间崩溃。（其实现在已经不知道当时除了初一下那件事我还放不下什么事。）后来的时间里，他经常和我聊天，想要开导我，把我内心不好的东西驱散开来。\n可是，在他帮助我的过程中，他无意间会点破一些事情，反而会伤害到我。（我这里并不想绞尽脑汁地回忆具体的事情，毕竟这一部分不是重点。）于是，这样，我反而越来越崩溃，直到后来他让我去找心理老师，然后和心理老师聊完之后，他问我说心理老师说了些什么，我告诉了他，然后他在一个纸条上写了一个英语单词（其实他是用词典笔翻译的）：\n\nincurable\n\n然后我就突然意识到，为什么他说我没救了我就没救了？然后我逐渐意识到，有许多事情并不是会像他说的那样发展，反而他还在无意中“引导”我走向崩溃。于是接下来的几周，我和他疏远了许多。等我好了一些之后，我告诉他我后来意识到的事情，他也才意识到他的无意中许多话伤害到了我。后来我们把话说开了，关系也恢复如初。\nPart. 2.5 退役？2024.10，我备考 CSP-S，于是停了一个月课。那段经历倒是也挺有趣的。扯远一点，那段时间我很喜欢听 I Hate It Here，也许冥冥中也注定了初二下的一些事情。停课期间，我还是学了一些新知识，并且也练了许多题。\n考完 CSP-S，炸了，贪心永远是我的噩梦，尽管 T2 还是一个很简单的贪心。赛时我死磕 T2（还没磕出来），导致几乎没有时间思考 T3。晚上和两个同学吃饭，一聊才发现，我反而是考得最差的。\n回家路上，我爸妈给我说了许多。由于初一下的那些事情，我们一直都在做两手准备（直升或跳槽）。他们本来准备用我 CSP-S 的成绩去找其他学校，可是这下考炸了，于是他们让我先把 OI 放一放，准备冲中考。我当时坐在后座，听着挺难受的，想着难道只是因为我初二没拿到 CSP-S 一等奖就要让我“半”退役？（现在看来，要是真的准备中考，放下 OI，高一再学 OI，怎么还来得及。只是当时没想那么远。）挺崩溃的，我已经快要哭出来了，但是还是忍住了。回家之后，我妈还在一直说，我实在受不了，哭着让她先别说了。然后她来了一句：\n\n还学不学嘛！\n\n然后我就崩溃了。当时的状态用一句歌词就是：\n\nWe must know, how did it end?\n\n后来，我爸妈又找教练聊了几次，最终还是让我呆在 CW，继续学 OI。中间我和我爸妈也有一段冷战期，关系很不好，不想展开写了。只是后来，我妈经常拿我 CSP-S 失误作为一个例子，说什么是因为老师表扬多了飘了？我也是无语了。\nPart. 3 青春本来想好好写一下这部分，但是太中二了，并且可能不太合适，所以我就写一下我当时的状态。\n转班之后，可能是太闲了，我渐渐进入了心理上的青春期，也发生了许多中二有趣的事情。具体不方便说，但是总而言之，也只有“青春”一词能形容青春了。那段经历在当时看来：\n\nThat’s the kind of heartbreak time could never mend.\n\n而现在看来，那就是独一无二的青春吧。\nUpd. 但是最后才知道，这一切只是一场骗局？Love Of My Life or Loss Of My Life？\nPart. 3.5 变化2024.12 中下旬，我也不知道我为什么又挺崩溃的，心情忽高忽低。2024.12.31，我得知：原班下学期要换班主任。\n一下子觉得有些难以接受，这一切的变化都来得太快了，当时纠结了好几天，一直在从各方面考虑。当时具体想了些啥我不想再回忆了，总之就是挺忐忑的，因为未来充满了太多的不确定性。而最后，我还是决定回到原班。在新班考完期末拿了一个漂亮但没什么含金量的成绩后就回到了原班。\n但是，这是相对正确的选择吗？我也不知道。\n\n其实前几学期的事情我已经记得不太清楚，也并不想花太多的笔墨写，但总而言之是挺崩溃的。过去的事已经过去了，但那些事情一定程度上也影响了我长期的状态，所以才一并写下来。后面的内容有许多是相互关联的，所以如果你愿意认真读一读，读一遍没读懂可以再多读一读。\n\nPart. 4 孤独与厌世其实就如标题所说，孤独与厌世。回到原班之后，发现原班有些事情其实并没有想象中那么好，具体的不方便展开说，并且发现没什么人能给我提供情绪价值。于是就挺孤独的，经常也很烦躁（因为厌世）。正是因为烦躁，并且又没有什么人能陪伴我，所以有一两周真的非常崩溃，于是：\n\nI hate it here so I will go to secret gardens in my mind.\n\n所以我才说这首歌冥冥中注定了一些事情。\n最崩溃的那段时间，我甚至借同学的螺丝刀把窗户上的钉子都拆了，可是我却没有跳下去的勇气（我很胆小）。后来，我也不知道为什么，我突然就习惯孤独了，觉得一个人很好。但是这也许只是自我保护吧，因为我知道我会一直孤独下去，于是只有让自己接受这个事实，以达到“解决”（实则是逃避）问题的效果。\n只是后来，经常也会有一些莫名其妙的不好的情绪，我也说不出来是什么。然后我就想自残。但是我很胆小，所以我只敢自己咬自己。但是后来连自己咬自己都不敢了，因为淤青要几天才好，我害怕被家长或老师发现。\n这个时候我或许还要再用一次这句歌词：\n\nThat’s the kind of heartbreak time could never mend.\n\n因为崩溃的时候，真的是心上一阵阵绞痛，而非单纯的不开心。\n另外补充一个话题，就是关于我对于“知心朋友”或者说“真正的朋友”的定义。在这学期上半期，我的定义是“能给我提供精神价值的人”。具体地，我的知心朋友需要能和我放开地谈心，或者有着共同的爱好并且愿意相互讨论。这么一来，也许班上就几乎没人了，所以自然感到孤独。也许是太严格了吧，但是这就是我当时对“知心朋友”的定义（或者说要求）。这两周，我对“知心朋友”的定义又发生了一些变化：从心底关心我并且愿意帮助我的人。现在的条件似乎更加严苛了。我与其他人经历的事情不同，所以对朋友的要求不同也很正常。我的要求也许挺严苛的，但是我也接受（逃避）了没有知心朋友的事实。只是说，如果又知心朋友，我会好很多。\nPart. 4.3 文化与 OI我在这学期临近期末的时候有一个想法，就是下学期开学跟新高一一起“补”文化，然后就可以跟他们一起停课。第一，我是为了多争取一些训练时间；第二，停课之后，我就可以远离一些我不喜欢的东西，会轻松很多；第三，我不想学文化了。Upd. 但是我的主教练并没有同意，让我跟着原年级上文化课和竞赛。写这篇文章的时候应该教练已经给我说了，但是不知道为什么我没写上去。\n先说一些题外话。我的家长与许多科任老师（包括竞赛教练）都说我在过去两年其实没有特别努力地学习，仅仅是完成老师的基本任务，这一点我是认同的，因为我确实不怎么努力。可尽管如此，我再也不想学文化课了，已经学厌了，一想到文化课就烦，一想到语数外三科都有暑假作业就烦（指 2025 年暑假）。果然 Waiting for Judging is unbelievable。（翻译：WJ is untrustworthy.）具体什么原因我也不知道，也许努力并不等于辛苦，我已经再也不想那么辛苦了。\n接下来这段话也许并不应该放在这一部分，但是我也不知道应该放在哪里。这段话和第五部分有一些关联，但是比较负面，不想放在第五部分。\n我爸妈一直都不让我打游戏，虽然我前段时间有偷偷打 florr，但是后来打着也没什么意思，所以退了。前段时间，我爸妈不让我刷短视频了，觉得我刷短视频刷太多了。然后昨天（2025.7.19），他们问老师说做作业（或者刷题之类）的时候听歌对效率有没有影响，老师说有，然后我昨天晚上为了稳妥一点就没听歌，然后被我妈表扬了，意思就是说也不让我在做作业或者刷题的时候听歌了，而我在家里的时候整天就在书房里，要么写作业要么刷题要么做一些自己的事情（比如写这篇文章）。现在他们又不让我做自己的事情，所以每次我做自己的事情时，只能跟他们说我在刷题，所以我做自己的事情的时候也不能听歌，所以我在家里的时候不能听歌；他们又害怕我在学校戴耳机太多导致听力下降，所以让我在学校少戴耳机。总而言之，就是他们不让我听歌，虽然我在学校的时候他们管不到，只是要是哪天把我耳机收了就老实了。\n综上所述，我爸妈不让我打游戏不让我刷短视频不让我听歌，并且说“该努力了”。他们说他们也心疼我，但是觉得该冲一冲了。可是他们心疼只是他们心疼而已，甚至从来没想过我的感受。我可以努力学习，可是他们的要求却是想让我成为学习机器。\nPart. 4.6 “就挺抑郁的”前面也写了那么多了，一些重复的内容我也不反复阐述。前两天，有一天晚上，我和一个同学晚上聊了很久，把前面写的许多内容都给他讲了。另外还说了一些，比如说到我对知心朋友的定义的时候，我就提到：我之前的定义是能和我谈心，或者有共同话题并且愿意和我讨论的人，要说共同话题，那么无非就是 OI 和音乐。可是现在看来，我似乎没有之前那么喜欢 OI 了，说不清为什么，但就是没有之前那种热情了。尽管我知道接下来的任务很艰巨，但是我还是经常迷失方向。\n然后同学听完我把所有说完过后，想了一会儿，说：\n\n其实这就显得挺抑郁的。抑郁的一种表现就是对之前喜欢的事物渐渐失去兴趣。\n\n原话也许不是这样，但是是这个意思。然后我又崩溃了。后面他又和我聊了一些，比如有关自残和紫砂的内容。（然后恰好在第二天，我就看到了一篇有关生命教育的文章，我猜测可能我同学在之前就看到了那篇文章，然后恰好就把里面写的一些内容讲给我听了。）\n不过好在，我现在还没有彻底放弃吧。（这是我和他聊完之后得到的结论。）所以还有希望。\nPart. 5 两年之约前面也有提到，我在学习上并不属于努力型。而现在我已经新初三了，想要拿到金牌并保送，其实非常困难。这一个月内，我家长、教练都已经给我鼓气了好几次，我自己也知道，我该努力了。看着洛谷上的 NOI 游记，之前我从未觉得这一切是多么残酷，打完两三天的比赛，该退役的就该退了，没有一点徘徊的余地。而现在，SC 已经成为了弱省，想要在弱省拿 NOI 金牌，真的很难。掰着手指算一算，距离高一参加 NOI，正好还有两年。要是高一拿不到金牌或者银牌高分，退役是必然的。两年有多长呢？回想两年之前发生了什么……小升初早培，这一切似乎还近在眼前。\n我的实力也许确实比 NOI 金牌的（同期）水平差不少，但我现在确实该努力了。就算我水平不够，最后只能回归文化课，我也不希望将来的自己后悔现在没有努力。\n可是客观来讲，前面提到的各种因素却成为了不小的困难，可是我也没有什么办法，只有麻醉自己，忘掉不好的事情吧。\n","categories":["ESSAY"],"tags":["记录"]},{"title":"[CF2133D] Chicken Jockey 题解","url":"/article/CF2133D-Chicken-Jockey-%E9%A2%98%E8%A7%A3/","content":"Upd. 修了一点笔误。\n显然是 DP，并且是稍微想一想就能发现性质的 DP。\n首先攻击的形式一定钦定若干个生物，打死这些生物，使得剩下的生物形成若干个堆叠。对于每个堆叠，我们再从下往上依次一个个打死。容易发现，若  是一个独立的堆叠，需要的攻击次数是 ，减一与加一是因为除了第一个生物都会受到  的跌落伤害。设前缀和数组为 ，那么上式就是 。\n注意到，为了减少攻击次数，我们会尽量增加摔落伤害。要增加摔落伤害，我们会从上往下打死钦定的生物。所以考虑倒着 DP，设  表示  是钦定的生物之一，打死  的生物的最少操作次数。初始状态是 。有转移：\n\n答案是 。上式的具体含义是：打  次把第  个生物打死，第  个生物受到  点跌落伤害后还需要打  次，接下来区间  的生物每个生物都会受到  点跌落伤害，需要打  次。\n这个转移方程漏掉了  的情况，但是发现  时显然不优，所以也不用分讨。\n这个 DP 是  的，考虑优化。发现  与  是互相独立的，所以把  与  拆开变为：\n\n所以实时记录  的  中  的最小值即可。时间复杂度 。\n赛时提交记录，这份代码中答案取的是 ，但并不影响。\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[ABC420G] sqrt(n²+n+X) 题解","url":"/article/ABC420G-sqrt-n%C2%B2-n-X-%E9%A2%98%E8%A7%A3/","content":" 一眼根号复杂度。\n这道题应该有很多做法。我的做法是尝试消掉 ，使得关于  只出现了一次项。\n设\n那么就可以枚举  解出 ，当  是整数是才是合法解。 是根号级别的，但是为了保险， 的值域可以开大一点。\n赛时提交记录，稍微卡了点常，所以写法有点沟槽。应该不卡常就用 set 去重也能过。\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[AT TTPC2015 O] 数列色ぬり 题解","url":"/article/AT-TTPC2015-O-%E6%95%B0%E5%88%97%E8%89%B2%E3%81%AC%E3%82%8A-%E9%A2%98%E8%A7%A3/","content":"\n    鲜花 \n    \n      MX NOIP 模拟赛 T3，补题时只找到了一篇 十年前的日文题解，并且目前洛谷里这道题唯一一个讨论甚至还是提供翻译，并且也是七年前的了。这题真冷门。\n\n    \n  \n\n下文中，最长上升子序列简写为 LIS，最长下降子序列简写为 LDS。\n注意到红色的元素构成了一个单调递增的子序列 ，蓝色的元素构成了一个单调递减的子序列 。在最优情况下，若  恰好是 LIS，且  恰好是 LDS，那么答案为 ；否则，一定是 LIS 与 LDS 共享了一个元素，此时答案为 。\n所以答案一定是  与  中的一个。于是我们只需要找到：是否存在一组 LIS 与 LDS，使得它们的交集为空。若存在，则答案为 ，否则答案为 。\n直接判断是否存在有些困难，正难则反，考虑计算出一共有多少组 LIS 与 LDS，其中又有多少组 LIS 与 LDS，使得它们的交集不为空。如果每组 LIS 与 LDS 的交集都不为空，则说明不存在一组 LIS 与 LDS 交集为空，否则存在。\n计算一共有多少组 LIS 与 LDS 是容易的，将 LIS 的数量与 LDS 的数量相乘即可。要计算交集不为空的 LIS 与 LDS 数量，枚举交集即可。具体地：\n包含的的数量包含的的数量\n如果上式等于 LIS 的数量与 LDS 的数量的乘积，则说明不存在一组 LIS 与 LDS 使得它们的交集为空，答案为 ，否则存在，答案为 。具体的计算过程可以通过权值线段树实现，这里不再展开。\n代码实现上，计算方案数时需要取模，也许是数据不强，单模也可以过。\n#include &lt;bits/stdc++.h&gt;#define rep(i, s, e) for (int i = s; i &lt;= e; ++i)#define _rep(i, s, e) for (int i = s; i &gt;= e; --i)#define int long long#define pii pair&lt;int, int&gt;using namespace std;constexpr int mod = 998244353;struct Segtree {    pii tr[400005];    inline pii upd(pii a, pii b) {        if (a.first &lt; b.first) swap(a, b);        if (a.first == b.first) (a.second += b.second) %= mod;        return a;    }    inline void build(int l, int r, int p) {        tr[p] = {0, 0};        if (l == r) return;        int mid = (l + r) &gt;&gt; 1;        build(l, mid, p &lt;&lt; 1);        build(mid + 1, r, p &lt;&lt; 1 | 1);    }    inline void update(int l, int r, int p, int s, pii d) {        if (l == r) {            tr[p] = d;            return;        }        int mid = (l + r) &gt;&gt; 1;        if (s &lt;= mid) update(l, mid, p &lt;&lt; 1, s, d);        else update(mid + 1, r, p &lt;&lt; 1 | 1, s, d);        tr[p] = upd(tr[p &lt;&lt; 1], tr[p &lt;&lt; 1 | 1]);    }    inline pii query(int l, int r, int p, int s, int t) {        if (s &gt; t) return {0, 0};        if (s &lt;= l &amp;&amp; r &lt;= t) return tr[p];        int mid = (l + r) &gt;&gt; 1;        pii ans = {0, 0};        if (s &lt;= mid) ans = upd(ans, query(l, mid, p &lt;&lt; 1, s, t));        if (t &gt; mid) ans = upd(ans, query(mid + 1, r, p &lt;&lt; 1 | 1, s, t));        return ans;    }} tr;int n, a[100005];int li[100005], ld[100005], ri[100005], rd[100005], len[100005];int lis, lds, tot, sum;pii tmp;/*li[i] : 1 -&gt; i 的 LIS 长度ld[i] : 1 -&gt; i 的 LDS 长度ri[i] : n -&gt; i 的 LIS 长度rd[i] : n -&gt; i 的 LDS 长度len[i] : 经过 a[i] 的 LIS / LDS 长度lis : LIS 总长度lds : LDS 总长度tot : (LIS, LDS) 总数sum : 交集不为空的 (LIS, LDS) 数量*/signed main() {    scanf(\"%lld\", &amp;n);    rep(i, 1, n) scanf(\"%lld\", &amp;a[i]);    // 计算 li[i]    tr.build(1, n, 1);    rep(i, 1, n) {        tmp = tr.query(1, n, 1, 1, a[i] - 1);        (tmp.second += !tmp.first) %= mod;        ++tmp.first;        tr.update(1, n, 1, a[i], tmp);        len[i] = tmp.first;        li[i] = tmp.second;    }    tmp = tr.query(1, n, 1, 1, n);    lis = tmp.first;    tot = tmp.second;    // 计算 rd[i]    tr.build(1, n, 1);    _rep(i, n, 1) {        tmp = tr.query(1, n, 1, a[i] + 1, n);        (tmp.second += !tmp.first) %= mod;        ++tmp.first;        tr.update(1, n, 1, a[i], tmp);        len[i] += tmp.first - 1;        rd[i] = tmp.second;    }    rep(i, 1, n) {        if (len[i] != lis) {            li[i] = rd[i] = 0;        }    }    // 计算 ld[i]    tr.build(1, n, 1);    rep(i, 1, n) {        tmp = tr.query(1, n, 1, a[i] + 1, n);        (tmp.second += !tmp.first) %= mod;        ++tmp.first;        tr.update(1, n, 1, a[i], tmp);        len[i] = tmp.first;        ld[i] = tmp.second;    }    tmp = tr.query(1, n, 1, 1, n);    lds = tmp.first;    (tot *= tmp.second) %= mod;    // 计算 ri[i]    tr.build(1, n, 1);    _rep(i, n, 1) {        tmp = tr.query(1, n, 1, 1, a[i] - 1);        (tmp.second += !tmp.first) %= mod;        ++tmp.first;        tr.update(1, n, 1, a[i], tmp);        len[i] += tmp.first - 1;        ri[i] = tmp.second;    }    rep(i, 1, n) {        if (len[i] != lds) {            ld[i] = ri[i] = 0;        }    }    // 计算 sum    rep(i, 1, n) {        (sum += li[i] * ld[i] % mod * ri[i] % mod * rd[i] % mod) %= mod;    }    printf(\"%lld\\n\", lis + lds - (tot == sum));    return 0;}","categories":["ESSAY"],"tags":["题解"]},{"title":"[ARC205D] Non-Ancestor Matching 题解","url":"/article/ARC205D-Non-Ancestor-Matching-%E9%A2%98%E8%A7%A3/","content":"赛时没打这场 ABC。\n设  的重儿子是 ，以  为根的子树为 ， 的大小是 ， 中最多能选出  个点对。定义点  是好的，当且仅当 。接下来分点  是不是好的分类讨论：\n\n若点  是好的：显然有 。\n若点  不是好的：我们尝试让  成为好的。具体地，我们可以在  中先选取一些点对，并且从  中删去这些点，使得  减小，从而使点  成为好的。在  中最多可以选取  个点对，所以  的最小值是 。若 ，则说明我们可以让  成为好的，；否则 ，含义显然。\n\n答案是 ，时间复杂度 。\n提交记录。\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[ABC423F] Loud Cicada 题解","url":"/article/ABC423F-Loud-Cicada-%E9%A2%98%E8%A7%A3/","content":"\n    赛时 \n    \n      看到这个题先乱写了一个状压，发现显然没有正确性，然后开始乱推容斥，后面发现自己想复杂了，想到了本文的做法，但是因为太慌了在一直在乱写，调半天没过样例，最后在 85 分钟才做出来，菜死了。\n\n    \n  \n\n看到  显然状压。首先容易想到设  表示一定出现的蝉种类形成的集合为  的年份数量（没有被选中的蝉不一定出现）， 表示出现的蝉种类形成的集合为  时的年份数量（没有被选中的蝉一定不出现）， 表示出现的蝉种类形成的集合为  时，每种蝉出现年份的最小倍数，显然有 。若精细实现（ 由  转移而来），可以做到  计算  与 （忽略  的时间复杂度）。\n然而，我们要求的是 。容易发现，有 ，即 。于是考虑倒序枚举 ，再枚举满足  的  进行转移，可是这样是  的，显然不行。不过这个时候你发现，这一部分可以用 [ARC205E] Subset Product Problem 里教的 trick 解决，这里不再详细展开。于是这道题就做完了。\n但是这个东西的时间复杂度是多少呢？如果我们固定  的前  位，枚举后  位的子集，此时的时间复杂度是 。而  的前  一共有  种情况，所以时间复杂度是 。再加上计算  与 ，总时间复杂度是 。状压本身常数小，所以跑起来并不是很卡。\n赛时提交记录，没有精细实现，时间复杂度 。\n\n    关于官方题解 \n    \n      官方题解与本文的区别在于计算  的方式不同。官方题解中，定义「一致条件 」表示  中的蝉出现（没有被选中的蝉一定不出现），「部分条件 」 表示  中的蝉一定出现（没有被选中的蝉不一定出现）。它是这样计算  的（机翻）：\n\n一旦求出满足各个部分条件的元素个数，通过应用零变换的逆变换（也称为梅比乌斯变换），就可以得到满足各个一致条件的元素个数，从而得到答案。简单来说，就是「对于条件  使用一致条件，对于条件  使用部分条件」这样的条件设置方式，并逐步将部分条件中的元素每次增加  转换为一致条件进行计算。\n\n时间复杂度 。\n\n    \n  ","categories":["ESSAY"],"tags":["题解"]},{"title":"[ABC424G] Set list 题解","url":"/article/ABC424G-Set-list-%E9%A2%98%E8%A7%A3/","content":"乍一看感觉很难直接 DP，于是考虑先把限制形式化。设当前选的歌曲形成的集合是 ，因为歌曲的顺序并不影响所选集合的合法性，所以 。考虑简化条件，对于一个固定的 ，要最大化前者，显然只需要取较大的几个 。所以自然想到先将  （连带着 ）降序排序，条件就转化为了 ，记后者为 ，它是可以预处理出来的。可以证明这个条件是充要的，一个感性的理解是，我们取出了原集合的每一个子集并判断其是否合法，具体的证明可以参见 Atcoder 的 官方题解。\n那么接下来就好做了。设  表示前  首歌中选了  首歌，且  的最大价值。转移类似于背包，把  视为当前背包容量，把  视为已用的容量，把  与  视为当前物品的体积与价值。时间复杂度 ，空间复杂度 。\n#include &lt;bits/stdc++.h&gt;#define rep(i, s, e) for(int i = s; i &lt;= e; ++i)#define _rep(i, s, e) for(int i = s; i &gt;= e; --i)using namespace std;int n, m, a[105], mx[105];pair&lt;int, int&gt; b[105];long long dp[105][10005], ans;signed main() {\tscanf(\"%d %d\", &amp;n, &amp;m);\trep(i, 1, n) {\t\tscanf(\"%d\", &amp;a[i]);\t}\trep(i, 1, m) {\t\tscanf(\"%d %d\", &amp;b[i].first, &amp;b[i].second);\t}\tsort(b + 1, b + 1 + m, greater&lt;pair&lt;int, int&gt;&gt;());\trep(i, 1, m) {\t\trep(j, 1, n) {\t\t\tmx[i] += min(a[j], i);\t\t}\t}\trep(j, 0, m) {\t\trep(k, 0, n * m) {\t\t\tdp[j][k] = - (1ll &lt;&lt; 60);\t\t}\t}\tdp[0][0] = 0;\trep(i, 1, m) {\t\t_rep(j, i, 1) {\t\t\t_rep(k, mx[j], b[i].first) {\t\t\t\tdp[j][k] = max(dp[j][k], dp[j - 1][k - b[i].first] + b[i].second);\t\t\t}\t\t}\t}\tans = 0;\trep(j, 0, m) {\t\trep(k, 0, n * m) {\t\t\tans = max(ans, dp[j][k]);\t\t}\t}\tprintf(\"%lld\\n\", ans);\treturn 0;}","categories":["ESSAY"],"tags":["题解"]},{"title":"[CF2150E1] Hidden Single (Version 1) 题解","url":"/article/CF2150E1-Hidden-Single-Version-1-%E9%A2%98%E8%A7%A3/","content":"看到题后似乎只能想到分治，于是想想该怎么分治。\n考虑 ，设中点为 。假定当前区间内存在答案，并且我们知道  中的每个  在这个区间内的出现次数 。特别地，对于答案 ，我们不得不钦定 。对于  中的每个 ，我们尝试找出它在当前区间内的分布情况（左区间或右区间）。于是根据  分讨：\n\n：需要  次询问。直接跳过。\n：需要  次询问。只需要询问左区间，即可得到它属于左区间还是右区间。\n：最多需要  次询问。询问一次左区间，询问一次右区间，即可得到下面三种情况之一：\n两个  均出现在左区间\n两个  均出现在右区间\n两个  分别出现在左区间与右区间\n\n\n\n容易发现，对于当前区间，我们最多进行  次询问，额外加  是因为我们钦定了 。这样，我们可以统计出左区间的元素数量与右区间的元素数量。按理来讲，一个区间的元素数量就应该是这个区间的长度，但是正是因为我们钦定了 ，所以在统计过程中，我们会把  视作两个元素，这就会导致统计的数量与实际冲突，而产生冲突的区间则正是包含  的区间。于是，我们只需要利用不包含  的区间更新 ，再递归处理包含  的区间即可。当区间内有且仅有一个元素时，这个元素就是 。\n因为每次递归区间长度都要减半，所以总询问个数大约是 。由于取整带来的一点误差，题目还贴心地多给了  次询问，比较充足。\n如果你还想在 E1 的基础上稍作优化，那么你可以创建一个随机的映射以实现打乱原数组的效果。这样，对于  的情况，期望询问次数就是  次，但是这优化不大，也过不了 E2。\n代码实现是容易的，按照题解模拟即可。\n猜你喜欢：[CF2150E2] Hidden Single (Version 2) 题解\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[CF2150E2] Hidden Single (Version 2) 题解","url":"/article/CF2150E2-Hidden-Single-Version-2-%E9%A2%98%E8%A7%A3/","content":"好难绷的题。\n你也许需要先会 E1。猜你喜欢：[CF2150E1] Hidden Single (Version 1) 题解\n看到题后似乎只能想到分治，于是想想该怎么分治。\n考虑对于  中的每个 ，判断它是不是答案。考虑 ，设中点为 。我们尝试找出  在当前区间内的分布情况（左区间或右区间）。总共分三类情况：\n\n所有  均出现在左区间：有  的概率，需要询问  次。\n所有  均出现在右区间：有  的概率，需要询问  次。\n两个  分别出现在左区间和右区间：有  的概率，需要询问  次，可以结束递归。\n\n所以一次递归的期望询问次数就是 。若当前区间长度为  则说明  是答案。容易算出，当  比较大时，对于单个  的总期望询问次数是大约 。再剪剪枝，找到答案之后直接返回，总期望询问次数是 ，上限是 。为了尽量达到期望询问次数，你需要创建两个随机的映射，以实现打乱数组并随机离散化的效果。可惜，这还是过不了 E2，甚至连 E1 都过不了。（E1 过不了的原因是，当  较小时，对于单个 ，实际询问次数会较大。）\n不过我们先不讨论 E1，只讨论  较大的情况。考虑优化，发现对于单个 ， 的期望询问次数似乎很难再优化，于是能不能减少需要询问的  的数量呢？又如何减小？\n这个时候你想到，E1 一定是有它存在的意义的。 想想 E1 的一次递归做了些什么，它花了  的期望询问次数。再考虑一次递归后产生的新区间有什么性质，发现新区间中，期望  个数出现了两次。于是考虑对新区间采用上文中提到的做法。因为我们只关注出现了两次的数，而不关注仅出现了一次的数（根据 E1 做法的性质，仅出现了一次的数一定不是答案），所以需要询问的  的期望数量就只剩  了。\n这样，后半部分期望询问次数就是 ，上限是 。前半部分的期望询问次数相对稳定，所以总询问次数的上限就大约是 ，可以通过 E2。\n提交记录\n","categories":["ESSAY"],"tags":["题解"]},{"title":"P13407 [GCJ 2010 Finals] Letter Stamper 题解","url":"/article/P13407-GCJ-2010-Finals-Letter-Stamper-%E9%A2%98%E8%A7%A3/","content":"这篇题解有点魔怔。\n本题应该有很多不同的 DP 方法，但是核心应该都大同小异。\n观察栈中元素的性质，发现显然没有两个距离为一的相同的元素，若有则一定更劣。\n再想想，发现显然没有两个距离为二的相同的元素，若有则一定不优。\n再想想，发现栈中相邻的三个元素一定互不相同（即相邻的三个元素一定是 ABC 的一个排列）。\n再想想，假设我们知道当前栈的大小、栈顶元素与栈顶元素的下一个元素（若有），我们就可以推出整个栈的情况。\n再想想，如果我们刚刚打印完 ，那么栈顶元素一定就是 。\n再想想，如果我们要打印一个非栈顶元素 ，可以选择反复弹出栈顶元素或者反复加入新元素，直到栈顶是 。\n于是你想到了 DP。设栈顶的前三个元素是 。设  表示刚刚打印了 ，当前栈的大小是  且  的最小操作次数。有了 ，自然可以推出 。\n转移是显然的，根据  分类讨论即可。唯一的细节是  的情况，此时会多一种转移，即先把栈清空，再向栈中加入 。另外，当  时，此时没有 ，但是  的取值会影响栈的情况，从而影响后续的 DP。设 ABC 中除  的两个元素分别是  和 ，那么  与  应该互相取 。\n时间复杂度 ，不至于有很大的常数。\n提交记录\n#include &lt;bits/stdc++.h&gt;#define rep(i, s, e) for(int i = s; i &lt;= e; ++i)using namespace std;int n, a[7005], dp[2][7005][3], ans;char s[7005];int solve() {\tscanf(\"%s\", s + 1);\tn = strlen(s + 1);\trep(i, 1, n) {\t\ta[i] = s[i] - 'A';\t}\trep(i, 0, 1) {\t\trep(j, 1, n + 2) {\t\t\trep(y, 0, 2) {\t\t\t\tdp[i][j][y] = 0x3f3f3f3f;\t\t\t}\t\t}\t}\tans = 0;\trep(i, 1, n) {\t\trep(j, 1, i) {\t\t\trep(y, 0, 2) {\t\t\t\tdp[i &amp; 1][j][y] = 0x3f3f3f3f;\t\t\t\tint x = a[i], &amp;f = dp[i &amp; 1][j][y];\t\t\t\tif(x == y) {\t\t\t\t\tcontinue;\t\t\t\t}\t\t\t\tint z = 3 - x - y;\t\t\t\tif(a[i - 1] == x) {\t\t\t\t\tf = min(f, dp[(i &amp; 1) ^ 1][j][y] + 1);\t\t\t\t} else if(a[i - 1] == y) {\t\t\t\t\tif(j &gt; 1) f = min(f, dp[(i &amp; 1) ^ 1][j - 1][z] + 2);\t\t\t\t\tf = min(f, dp[(i &amp; 1) ^ 1][j + 2][z] + 3);\t\t\t\t} else if(a[i - 1] == z) {\t\t\t\t\tf = min(f, dp[(i &amp; 1) ^ 1][j + 1][x] + 2);\t\t\t\t\tif(j &gt; 2) f = min(f, dp[(i &amp; 1) ^ 1][j - 2][x] + 3);\t\t\t\t}\t\t\t}\t\t}\t\tint x = a[i], y = not a[i], z = 3 - x - y;\t\tdp[i &amp; 1][1][y] = dp[i &amp; 1][1][z] = min({dp[i &amp; 1][1][y], dp[i &amp; 1][1][z], ans + 2});\t\tans = 0x3f3f3f3f;\t\trep(j, 1, i) {\t\t\trep(y, 0, 2) {\t\t\t\tans = min(ans, dp[i &amp; 1][j][y] + j);\t\t\t}\t\t}\t}\treturn ans;}int main() {\tint T = 1; scanf(\"%d\", &amp;T);\trep(i, 1, T) {\t\tprintf(\"Case #%d: %d\\n\", i, solve());\t}\treturn 0;}","categories":["ESSAY"],"tags":["题解"]},{"title":"[ABC423G] Small Multiple 2 题解","url":"/article/ABC423G-Small-Multiple-2-%E9%A2%98%E8%A7%A3/","content":"好题。本题解做法与官方题解相同，但将采用类似 CF Hints 的风格。下文中的  均指将两个十进制数进行拼接， 表示  在十进制下的位数，且默认包含前导零。\n\n    提示 1 \n    \n      考虑答案的形式。\n\n    答案 \n    \n      答案一定是  的形式，其中允许  有前导零。\n\n\n  \n\n    \n  \n\n\n    提示 2 \n    \n      考虑  与  的限制。\n\n    答案 \n    \n      最基础地，有 ，即 。同时有 （均包含前导零），因为一定存在一个  满足：\n\n\n\n\n若  则  这一组解严格劣于  这一组解。\n\n\n  \n\n    \n  \n\n\n    提示 3 \n    \n      考虑如何通过暴力枚举找到所有解 。\n\n    尝试与观察 \n    \n      \n考虑枚举  的值，还需要枚举  才能解出 。\n考虑枚举  的值，还需要枚举  才能解出 （因为允许  有前导零）。\n\n于是发现第一维需要枚举 。\n\n\n  \n\n\n    答案 \n    \n      对于第二维，可以枚举  并解出  或者枚举  并解出 ，以下对两种情况都进行讨论。\n\n    枚举  \n    \n      请注意， 表示的是钦定的  的位数，而实际解出的  不一定满足 。\n将  整理一下即可得到 ，可以  解出。注意当且仅当  的有效位数（不包含前导零） 合法。\n\n\n  \n\n\n    枚举  \n    \n      同样整理  可以得到 ，解这个线性同余方程即可得到 。这里把扩欧的时间复杂度视为常数。同样当且仅当  的有效位数  时合法。\n\n\n  \n\n\n  \n\n    \n  \n\n\n    提示 4 \n    \n      考虑如何优化暴力。\n\n    答案 \n    \n      \n若 ，枚举 。\n若 ，枚举 。\n\n\n\n  \n\n    \n  \n\n\n    提示 5 \n    \n      考虑得到所有解  之后，如何比较  的大小。\n\n    答案 \n    \n      对于所有  相同的解 ，显然可以直接比较  的字典序，字典序最小的解对应的答案就是最小的。\n对于  不同的解，暴力比较即可。总共只会比较  次。\n\n\n  \n\n    \n  \n\n\n    提示 6 \n    \n      于是这道题就做完了。时间复杂度 。\n\n    \n  \n\n我的代码写得有点丑，并且写的时候也对照了官方题解代码，所以建议直接去学习官方题解代码。我的代码与官方题解代码实现上唯一的区别是我用了扩欧求解线性同余方程，而官方题解代码用了欧拉定理。\n","categories":["ESSAY"],"tags":["题解"]},{"title":"[CF2159D1 / CF2159D2] Inverse Minimum Partition 题解","url":"/article/CF2159D1-CF2159D2-Inverse-Minimum-Partition-%E9%A2%98%E8%A7%A3/","content":"上大分场，Div. 2 Rank 8，紫名祭。\n不妨设值域为 。首先你需要发现一堆有关  与  的性质。\n\n    性质一 \n    \n      下文中，「 是后缀最小值」当且仅当 。\n我们发现，对于 ，如果存在  满足 ，那么让  作为子段的结尾一定不优。即，当且仅当  是后缀最小值时，位置  才可能作为子段的结尾。同理，当且仅当  是后缀最小值时，位置  才可能作为子段的开头，否则一定不优。\n于是，我们只需要关注原序列中是后缀最小值的元素。\n\n    \n  \n\n\n    性质二 \n    \n      考虑对于一个非空数组，什么时候最优的划分方案是一定其本身（即不进行划分）。\n设  是一个非空数组，我们将其分为两个非空子段 。根据性质一，我们可以认为  均单调递增。容易发现，。要使  的最优的划分方案一定是其本身，那么一定有 。解一下这两个方程，就可以得到 。\n即，在最优划分中，每个子段的代价一定是  中的一个。\n\n    \n  \n\n\n    D1 做法 \n    \n      我们只用关注是后缀最小值的元素。\n设  表示 ，考虑转移。因为每个子段的代价一定是  中的一个，所以我们可以通过双指针维护 ，表示  是  中第一个满足  的元素。那么有转移 。于是 D1 就做完了。\n时间复杂度 。\nSubmission\n\n    \n  \n\n\n    性质三 \n    \n      根据性质一，我们可以认为  单调递增。考虑对  贪心构造出一种较优的方案。一个自然的想法是要求每一个子段的花费  且总子段数量尽量少。这样，对于子段 ，一定有 。这意味着最多只有  个子段，那么  的上限就是 。\n\n    \n  \n\n\n    性质四 \n    \n      考虑 D2 的暴力 DP。容易想到设  表示 。若我们固定 ，那么我们可以通过单调栈维护  中是后缀最小值的元素，而  可以通过二分求出。时间复杂度 。\n一个显然的性质是，对于固定的 ， 单调递减。\n\n    \n  \n\n\n    D2 做法 \n    \n      性质三说明， 的值域较小；性质四说明， 数组在固定  时具有单调性。于是我们可以利用一个经典 trick：交换 DP 的下标与值。\n设  表示最小的  使得 。那么转移是显然的：。特别地，令 。初始状态是 。\n考虑如何统计答案。容易发现，，根据这一点统计即可。需要注意的是，因为 DP 是在单调栈上进行的，所以使用的下标均为单调栈的下标，要计算实际的下标还需要稍作转换，详见代码实现。\n时间复杂度 。\nSubmission\n\n    \n  ","categories":["ESSAY"],"tags":["题解"]},{"title":"[CF1586I] Omkar and Mosaic 题解","url":"/article/CF1586I-Omkar-and-Mosaic-%E9%A2%98%E8%A7%A3/","content":"下文中：\n\n视题目中的两种颜色为黑色与白色。图示中所有颜色均只是为了表示颜色的相同或不同，且白色代表未填充。\n记  表示第  行第  列的格子。\n认为两个格子“相等”或“不等”，当且仅当两个格子的颜色相同或不同。\n\n\n难点在于观察性质。\n考虑在没有任何限制的情况下，一组合法解有哪些性质。有两个基本性质是：\n\n位于角落的格子的颜色与其相邻的格子颜色相同。\n对于一个不在边缘的格子，它的四联通中，恰好有  个黑色格子与  个白色格子。\n\n\n初始我们没有进行任何涂色。\n\n\n根据第一个性质，可以如下涂色。\n\n\n根据第二个性质，可以不断扩展。\n\n\n注意到，当  为奇数时，中间格子的颜色一定会产生冲突，所以  为奇数时一定不合法。\n\n\n    为什么 \n    \n      对于主对角线，有 ；对于副对角线，有 。\n\n    \n  \n\n\n依然是由于第二个性质，对于如图所示的这些斜列，每个斜列的颜色都是黑白交替的。图中只展示了一个方向的斜列，另一个方向同理。\n\n\n    为什么 \n    \n      例如对于 ，第二个性质要求  中两黑两白，又因为 ，所以 。\n其余位置同理。\n\n    \n  \n\n\n考虑网格的一个角落，有 ，又有 ，故有 。依此类推，我们可以得到两个重要结论：\n\n网格关于主对角线与副对角线对称。\n有 。\n\n\n    为什么  \n    \n      因为 ，为了让  有两个相邻的格子与它颜色相同，我们只能让  与它颜色相同。\n 同理。\n\n    \n  \n\n\n\n    如何“依此类推” \n    \n      上图的下一步会变成：\n\n在上图中，颜色是这样确定的：\n\n：因为 ，所以 ，也就是（部分）斜列颜色黑白交替的性质。\n：与  同理，且显然有 。\n：与  同理，因为 ，所以 。\n：与  同理，且显然有 。\n\n下一步会变成：\n\n最后会变成：\n\n最后这图只能当成乐子看。\n\n    \n  \n\n\n可以证明，上述条件是充要的。\n考虑题目中给的限制。我们可以根据斜列与对称的关系，将所有限制都转化到第一行，再根据  尝试补全第一行。最后，若第一行被补全了，那么有唯一解；若第一行未被补全，那么有多解；若转化与补全过程中有矛盾，那么无解。\n若有唯一解，再根据第一行推出整个网格即可。\n代码是好写的，就不放了（实则是因为我的代码写得一坨）。\n","categories":["ESSAY"],"tags":["题解"]},{"title":"CSP-S 2025 游寄","url":"/article/CSP-S-2025-%E6%B8%B8%E5%AF%84/","content":"upd\nCSP-S2024 (170) &lt; CSP-S2025 (194) &lt; NOIP2024 (200)\n每次 S 都考成屎。\n我也是有办法了。\n甚至可能还是拿不到钩 7。\n\n下文中所有的「TANG」用「奶龙」代替。\nDay -1一上午只做了一道结构体，然后就完全静不下心做题了。\n然后就在水讨论区。某个同机房的批话哥拿小号发批话帖，还不让我拆穿或者举报，就不点名是谁了。\n因为学校是考点，所以中午就放了。\n下午闲得要命，感觉也没什么需要复习的。\nDay 1上午一觉睡到 9:30，一共睡了 10.5 个小时。\n然后依然很无聊。\n中午看了一眼 J 的题，四道题都只花了  秒就会了。\n下午 14:00 准时到达考场。\n进考场过后先打了个火车头，结果赛时发现了好几个错。\n然后等。\n大概离开始还有 3 分钟的时候就发布了密码，然后开题。\n题目名还是很正常。\nT1 感觉很贪心，但是贪心过后需要调整。\n然后想了一下才发现只需要调整一次，开写。\n中间因为实现比较烂重构了一次。\n然后 14:50 过了。\n开 T2，最开始在想如何建图，发现难以实现。\n于是只能暴力枚举乡村。\n想了一会儿没想到什么很好的做法，于是先写了个纯暴力的 Kruskal，拿了 56 分。\n先不管了，开 T3。此时大概是 15:30 或者 16:00。\n然后我想了一个什么神秘树套树？但是感觉时间复杂度有点假。\n但是不管了，先写了一会儿，然后调不出来。\n于是开始写暴力，拿了 [50, 70] 分。\n因为前面写树套树耽搁了，此时也许是 17:00 或者 17:30.\n开 T4，似乎会 32 分了，于是想尝试想一想正解。\n写了一个 DP，但是写完测样例才发现假了。\n然后准备写 32 分，可是快没时间了。\n于是只写了 8 分。\n赛后看到洛谷讨论区，说 T3 开 map&lt;pair&lt;string, string&gt;, int&gt; 可能会挂分。\n挂多少我也不知道，假定现在是 [40, 70] 分。\n然后没救了。\n100 + 56 + [40, 70] + 8 = [204, 234]。\n寄完了。\n假若取中间值 219，那么这恰好（大约）是我多校 NOIP 模拟赛的平均分。\n所以得出结论：CSP-S 2025 = NOIP！\n话说目前洛谷给四道题评的绿蓝紫紫，这不就是标准的 NOIP 模拟赛吗。（如果后来难度改了当我没说。）\n但是个人觉得只有黄绿紫？，因为 T4 不了解做法。\n我也不知道我是有多奶龙才没写出奶龙 T2。\n奶龙 T2 的经典结论我显然是知道的，可是赛时就是没想到。\n也不确定是不是没留够思考时间，可是去年就是因为奶龙的我死磕奶龙 T2 才 S2= 遗憾离场。\n也许是策略不对但是又实在想不到哪里不对。\n奶龙 T2 显然是奶龙题，可是为啥我连奶龙题都做不出来。\n为啥。\n为啥。\n为啥。\n不懂了。\n为啥两年的 CSP-S 都没有正常发挥。\n盲猜正常发挥的分数能严格大于 250。\n为啥。\n","categories":["ESSAY"],"tags":["游记"]},{"title":"SC CSP-S 2025 迷惑行为大赏","url":"/article/SC-CSP-S-2025-%E8%BF%B7%E6%83%91%E8%A1%8C%E4%B8%BA%E5%A4%A7%E8%B5%8F/","content":"SC CSP-S 2025 共有 1704 个选手文件夹，6009 个文件。\n数据统计使用 vscode 进行统计，没有排除诈骗。\n\nfreopen：5807 文件中有 12004 个结果\ndp：292 文件中有 3437 个结果\nccf：35 文件中有 990 个结果\nrand / mt19937：115 文件中有 299 个结果\n形如 //freopen：149 文件中有 291 个结果\ntrie：28 文件中有 259 个结果\nmst：47 文件中有 149 个结果\n114514：50 文件中有 88 个结果\ncsp：60 文件中有 83 个结果\n最小生成树：41 文件中有 72 个结果\nacam：17 文件有 60 个结果\n串：23 文件中有 58 个结果\n贪心：36 文件中有 45 个结果\nAFO：16 文件中有 30 个结果\nluogu：25 文件中有 26 个结果\nmian：12 文件中有 25 个结果\n总司令：11 文件中有 11 个结果\n1919810：6 文件中有 7 个结果\nf**k（原文已打码）：4 文件中有 9 个结果\nf**k（原文未打码）：3 文件中有 4 个结果\nf**k ccf（原文未打码）：2 文件中有 2 个结果\n\n选手代码投稿区\n以下内容已经排除了诈骗。\nSC-S000011 号种子选手就坠机了。\nclub.cpp\nline-numbers//freopen(\"club.in\",\"r\",stdin);//freopen(\"club.out\",\"w\",stdout);\n\nSC-S00085输出没了。\nroad.cpp\nline-numbersfreopen(\"road.in\",\"r\",stdin);//freopen(\"road.out\",\"w\",stdout);\n\nSC-S00105神秘取值。\nreplace.cpp\nline-numbersconst long long P=0x7fa4dad,Q=0xccfdadccfdad;\n\nSC-S00216只会第一题的选手。\nroad/replace/employ.cpp\nline-numbers//freopen(\"club.in\",\"r\",stdin);//freopen(\"club.out\",\"w\",stdout);cin&gt;&gt;t;\n\nSC-S00254为什么我的眼里常含泪水\nreplace.cpp\nline-numbers//为什么我的眼里常含泪水                                                                                                                                                                                //因为我对信息爱得深沉          //却要承受比赛保龄的风险 \n\nSC-S00286不可以，总司令。\nreplace.cpp\nline-numberscin&gt;&gt;n&gt;&gt;m;for(int i=1;i&lt;=m;i++) cout&lt;&lt;0&lt;&lt;'\\n';\n\nSC-S00296想吃面了。\nemploy.cpp\nline-numbersint mian()\n\nSC-S00297似乎是把 pdf 放代码里了。\n\n    Code \n    \n      以下仅为代码片段，源代码长达 72KB。\nemploy.cpp\nline-numbers#include &lt;iostream&gt;#include &lt;cstdio&gt;using namespace std;int main(){\tfreopen(\"employ.out\", \"w\", stdout);\tcout &lt;&lt; 2 &lt;&lt; endl;}//%PDF-1.5//%äðíø//20 0 obj//&lt;&lt;/Filter/FlateDecode/Length 3098&gt;&gt;//stream//xÚÅ›»Žì?†s?E‡»ÁÈ,\u0016¯Àb\u0002\u0003?g//ŸÌv KË‰7Øh_?IâM­–ºg\u000f?\u0010z\u000e›Ô_$?\u0016)õí??þÑÍë›w??þ‚‚¿ãúïË?ùvûóßè¦õíÛ|³®‹–o\u001f?gÜíÛô¯Ÿ”rƒR&gt;®Ÿ\u001c&gt;??”ê~½Ø}þç?p\u000fÞîAh?÷–ÖfŠF\u0019\u0013•±ŠÍ4\u0019Û[eõÈžY…‰\fM½¡Ùo÷°?&gt;?ëí//Z\u001d…Í\u000eQs¤”e¥ŒÂ…Oç¤\f6)z´tg\u0017SçÃf\u0017“ÓÊŒ\u001aö˜?&gt;Ù`X†´2z?©»t$ßœìR9RÇ†n\u001fÚvl×Ú?¡Ð+\u001e]îÞZÛØÍŒ?¯õXw*?™¾ßÝ?Hœïdµ\\?PèR//šø~qƒ}c?%Si¤áRŸÑ\u0013=?½ôj?Rol\u0017ôZý‡+V?îî?Š¾??Üî¯ß\u001e\bþõÖq\föö\u001b¸í?&gt;t\u0010©_0Ðº3*æ’ÿÝþyû¹nÐEÌÖ \u0019ßù\u0018?\u0015èØ)Š[ýÕE”ŒG´vu”N\u001b-//uGnos\u001fƒžè®zžXi•Ì-j¤P[»Z?])’ÂT*n5õìîj\"MQ//4Ü4C?ûF3\u0017]jF?³ë?\fŸ™áww5óô¨©=\\Æ…Z?]iêÀ?»ÓÔˆ\"w?é™bÔšìLçÄ]‹f)ºÒd¯ºà\\«©?\u0010Ÿ¬??\u001e5?Mµd.i\u0014\u000f E?CCèV?Q‡Ðì}…¨\tð—p¨“È?¢¬ûAMÃp†hÖ«¨½P,ˆVšÊ\"ò[5?ÑË,\u0016½Bì•^Æóe½ÂaÖ«h½Ð+h¾¬W\u0018Ìz\u0015?z\u0005Ë—?€Y®@Z? ?\f?HnEÏ\fˆØÖVH:YùÝ5’Au\u00166-\u0011\f8??Å¬SÑù¨¤Q¬´?\u0016×]©èñiÎp,š…?ÍŒc£‰\u0004HE?\u0001‹YpgHfÍŠ?Í‚äƒf@\u001f£^û»hKßý\u0019¢Y¿¢öB?ÚŽ³Œï\\ô¥ÿ??] ®•\u000fpE//?V\\·¢'¸j…ÔŒ¹?õ­5×¸F\u0010€ð¾.//4?Ïw|hðHS???Ý†è½?|kí×ñ­4k¢Ï53¾æË?Í†èSÍ‚ïƒæÛ?ý†èSý‚o;Îoâ[¤k ‹?¾ÒÂæ\u0016//¾©?¾Út–¨??ëK|5? Á¯;\u0018cGF&amp;m_E7k64ïUÑ­u÷è*²H???g­ôk²Ï?Æ­~‹ñ¹~A:?”Ÿêg?õ?·¥àmi??ã½›‹C¼ÏíÈ¨g3jø‹\u0015 ¨£…Ï-VÔ·¢g¨cçíªÝ˜Tt//:‡NYW@\u000f?\u0015ô¤Ø ¿Ó|‚y¥zŒù2?õî\fõlA//ÿ?\u0019ôÆ?ÐÏ,(d'//\u001aüÏ,(?Xp†ú?…ídM? g?ØÛ\u00199ýÌ’Œw2¤ö€HÏq—c?\u001bÜ·¢g?//ÃCÅ»1?×[;m}§¡¹ä?ÏÊØ^??äï‘FíÌ\u0018ÎN\"Šv?ê?ýJ;//Õ¹Ïn³†\bäÒa’œëœ9C±ªøÇ•U?¾³U?²U•Ï\\XU\\?[U?[UùÎ…UÅU¾³UÙG²QÅj?ÜÆq§œoÜf+z?AwÊ¸ÊmP_»ëí§ö®3?K§ý€?\u0004q\u0013„Kw?Y¯òžG?®Rk*\u000eë`»áóƒµC‰éq¡DŸºE± xÊ•\u0005?~?…÷lA?\u0017\u0016\u0014\u0017h,H ßrdÌü?…ïlE?\u0017V\u0014??d˜³\u0001\u0005øZÿ o´Ð¦Ù®¦?x³¢\u000eKM??s½]Õ˜q»îdšÅ`è•\u001c¶œ\u0010^$\u001bè÷¢O\b/²irOP®¤jºÏ?Ê{)\u000e'??ãS©Â?½Ê\u0014\u0016©†ÕS??½J?¥š?ôH ´0ºÙq¦¢g\u0004j…z?(õ¾Þq2!½w?ÁÑÎª·Ž\t???í†ÎSõŒb?šg\u001c\u0016?ÍsÄáµN??\\žêd\b¯u//Y§òT'\u0013x­“ñË25E? ?´Àn¤Áo+z&gt; ºó^?¢æ?XÄçÉh3*Lö@f˜6y?\tÙrg\\kÑVôÌ!¼¸X?¨þB¾ÁÎuA­û\u0011?*3?±»¨ãQ/? ò¼ÛF??ö]??g?\u0019\fÈ™K%ëKÉ£ýÇ{Üº OŽrìºÃŠgùK?—\\Y]­±àð0çÄ‚âsÉ‚RraAq?//NsN?ž™?%\u0017?Wmgäì@çÄ’ì¼É\\PÛq?¨ï¸Ùã¦¢kg?\u0014??\u000ek\u0003\u001944÷þ?üF!Rååo1 \u0015=ñ]¬sWÕé¿Ôyñ{î½\u0006?åâ\u001fí½ÅþRtÐƒ–]Ää cn(v\u0014ÖA \u0015 „´?~~X\u0013·’(œ¸ÅŸ4?áF?/?¸![«öµy?¤ÅsÂŠù¹¤±þ`ŠÑ\"ªæ%ŽT?i_`ÚO\u0005i8?ÈõCÞÞ?`KS&gt;¢Ô\u0018//LxKaJÖ|\"?\u001b\\þŠ(›å ?%o?¢–:ä‰_\u0011E\u0003 $\u001aQeFzA\u0014›û\u0018ÍWDm@Üß??c!7/\b ‡ùÿ?’cù«\u0015ÖzzA4?Øø\u0015Ñh:«öClUÿ?\u0011\u0002=}©«¤ÐÂq+Ëf\u001e_‘]???Bån„G\u001e^Q\u0015 ÐöK²¬:ö¼ŸX&amp;\u0010õŠÿ?\"2ÌŽ:O??7W‡ž[5¯³Q¥G“²Ôåÿ?¦gpG?Pß’?|bP¶Ÿõ`\u0003GMR?ÏÊQÑhÞéY@?¹ÚW&gt;ë™&gt;ìYÓ\\’Œ%Õi?\u001d¿R?”“`O»ÛÉ»Hr*1\u000e˜xeÔ¤îÊ?½?\"oE\u001e²C¶X\u0018L^rW«êãü\u0017,ÓØ…¨‡ÒcHó¦)bc?[?…YNÕ÷&amp;\u001f™jÛ³SÆ~};&lt;?½ú¸O8ByòÍIŽ±?\u001f­õïâ[5G~fiD?zÌØ?J\u001a\u001aù¾\f?\u0004?ÝÇ?c ?\u001b{//4//d}\f‚júN?v†o“YÞ˜˜¤°ïéîF\u0015?})“Wúä{?\u0013™Å»Ý·’£Ù|?ßì~Ý\\rQ¤JCÞg¢«??³·ÎvõH?òlo\u0010o¤«‡©¡lc(4¯¶ÊÑ§rèhåÐ?‡Ž{Cå­Då¾††e??ï|klªæWc\"??ÛxWÖO?N&lt;¦Z³c?\u001b=1I=å{?Ìó€EÇëw{em?½näì»½ªš—øLsŠ¹KO?\u0004VyK|ÿ? ³~O/S®½y?CvoöÊ\u001b¤Á¹WæÝ^UÍµ?a???e‰õ\u001dë¢???|??\u0006?\tÆŸZI?j\u001et\u001aÃ??Hª¼A©ÅÚeŸi?\"¦åâ`ŒQëØîº?˜`¾Ù¢ƒ^¢ó§Ž¥i¥d=È«‘k˜Bˆšôj?v0[?„Í?«ï\u0019‘Ýow^;Œid\u0017„Y/ƒ³,?Ÿ¾wHÜœ ‚îd \u001cÊå'\b\u0013¼x$Óó//ÿ\u001d?5ß›v·”%\u000f?g½n=a~\u001d\u0016?O°­7N+žgC4öpÀQ?\u001dïë?Ò‚??\u001c\u001bš— Æ‚.ÙaXúf? P¼Fëwû„ÄÌ§´ÁÜßíSÕº§~\t&lt;v\u001c\u000e?ö]Þ•?\u0018¿†R3}j/^4!Ðš?8`cJ¿o¸Ë2Î³A,WaR?Ø@\u0016?þ‹ýÇ&gt;7`\u0003éLD?w\u0011ÿ½A¨o•õóCƒý\t?ùC@_K0a?˜A³ü!gîË\u001f2ŸëW\u001e+Óò•¸ó‡æŸ\u0004µÎäúõ&gt;?a¼O\u0012ñ¾I8yxäž,nÈí?\u0013@ÕàËÃ=?ùÙP¤t,?N??? ê¬õå\u001b\u001a?æž?«s?†½q}??Pn¡åç@Q?h//¤ËZ»|Ïò? éÃ!\u0014\u001frjâmXƒEHé ,X\fŸÁð÷3ü†d\tX@?`%,?‰Ô\u0012Òzp&lt;`V?¿t\u0011ïp6=\u0014óž?àµ\u001c0\u0001Çäâé=\u000f\f¬E&lt;42Ë\u001a¼¤dóÛ??\u0017šŸ\u0015½‹nu//ÁRˆ”•ˆ\u0010¤U?M\b2ƒL?O^‚çñXiîŒ‰e¬d%?„rêTù»;÷w\u001b—·4·{!cC?¶¼3Hr’Îá–\u0004§Z\u001cu?OvL\u0003|6°éóç??Ib7?endstream//endobj//34 0 obj//&lt;&lt;/Filter/FlateDecode/Length 2783&gt;&gt;//stream//xÚÅZIÜ?¾çW?ƒ \u0019\u0016YÜà?\u0001?ä”—ø–—Cki#F\u001c?\u0001ü÷?)j\u001b?\u001b\bŒ¶z?kûj•š_\u001bj4þQ\u0013L\u0013|R15ÝWÜø\tŸÏÓõ\u000fŸšßý‰B“TòÆ7?Í‰\u0014YnŒQÎÚæSÿ?­}«uHåjãÇ“µ\u0016wÍ¹|?øO–sôâ\u001c\u000eŠ\u0001\u00119‚û8hf‹ÏÙr\u001fØ¥‹vÆÛ`z\u001d»–©g?Õƒ??*1?\u0015’ž´vVkÖøàê½Ü«ŒmØÝa?\u0005¶Ç#-¹NsÛ©a?Y(A›æ?ç•\u0004ÒŽt\u0014\u0011„˜y3\u0017?èž\f%ÝR;€»Ž÷„ˆViŠ³\fàŒ#8ìñÝîqHQ™PÕ‡S]^ôÇOÍ¯¢”Ló­ZŠ‚Jš?Ô­X§zã_ÍßšŸ?|ex//2™XH?7'CÊƒªÐ4—À?R\"‚d^Û¶JæÆmI_\u0017?o?z2 m'YŽ˜²™)RÑûæä¼r‰G=pËC7˜Þ0l?ÊÂ½nV 6% ØeÜ¨D\u0010\tÛu,?öR—òj©S¢Ò*\f‡ý\u0003IYgÇUÔ¹// ðF”ü?¿ÑàH®–?Wcµ“«Ná’¯ŽÏù&gt;Àž×GÖù?FM]¾§{\u0017ó•/y-ñ™W{6?|e\u001f™|\u001f ÌW ±œãz@'Ÿy(»Iòý1áÅçDx\u001dÎ´&amp;ì}!ÜN1!.Oñ¬€rÊË¿_\u000f\bÁ¤\u0013!wÎZ\u0016‰dõ‰//?\u0001//8H\u0018?Uf5BTpäEì}?è¶×©k\u0015£›¨û??`?\u0018?\u0016H#?O1ÓÅÝ­vµÓ)\u001be#?‹Ûiîî?[|VÃÃDSPÖº5UjÏþÈìøZ?œš? ?âÉ?‹Hw\f'CÕÊÄ¶CÜmq¦×NãC\u001d‚¬?a\u001d??Èõúl;?\u0006\u0001î¨øMF\u0005qR?T\u0014Gô£#úÑ\u0011ýèˆaÄ®c\u001a\u0006¹RoSþ?Fèáw\u0010ËW!˜ÉË^?®éåo?»ˆ\u0003ŸŠ?^þY!çV P\b°ãŠ_^h\\??¬U×À=^w?O&amp;·¡µZ\u0011”OwÂ['YqìUŠU¦_^w?ÂÓV&gt;ìÇ¨äÇÈçs?%?éª\u0012ƒWÆT·ý²ËQRÞÚ\u001f®Ã/{? ×ì\u001c?•h\u000ft\u0004Žœ?-e¸Í‘ÎÅ‚éJ\u001dÕQÖY?ñÍ8\"¹R€7Ê•{/?ríèÒÆª…se+5R2@;Ù¸?\u001dTH?éÃ—]ö¡s?Óº·’Å`OêÎ…‡ÊU’E\u001c%??W\u000e¡Ï&lt;·C^GCˆY¦«²…\"›ü\u001dC&gt;?n\u001c?G|?_qÄ×{?]–ôŠ£‡Q?øÈ\u0016J\u0006º²Ë \u0003™[}n?(œð\u001a/d&lt;IµÀÆp½o\u00139‰vÇÃZT/öj?*øx\u0003ôV\u0005ãï ½§t=p?­¯\u001fcn\u0006Žp+pX³Œ\u001cb?ÁÃ‚b½œ\u0017Pb\u001ckOª•J¨ßG9\u000e[¡|Ol?ª•y‘y=?^.?\u001f”™ìA?r*?êåÃî!N\u0019®áÇ|?SìÙ\u0013kyÄç\u0003??V?nÅuäÄ†J!?Gò«HUm%????^$\u001e´ˆPFom‡Ã\u0001„„ê_XüË?GÌž??3?ÜR?WF5´ØiPõT?¿o'¸E·?×{\"%‘²b?(9…à?]ÊXƒÂÖî?\u001cÅ©K?%?OKuc\u001dh¸UÍ{¥•ñöv5¯ç?\u0001ºŸJ°aì¨\u0017F\u0017???Î½\\Ø]‚¾?\u0013Fc®Š\u0002*P«a?\u0014tîoRÏÙ\n\n    \n  \n\nSC-S00351@2022xsj\n我真的没招了，一起毁灭吧。\nclub.cpp\nline-numbers//else{//满员啦，重新（悲） //\t//做不出来，全部毁灭 //\t//高一学竞赛打成这样也真**该退役了 //}\n\nclub.cpp\nline-numberselse while(1);//我真的没招了，一起毁灭吧\n\nclub.cpp\nline-numbers//Not want to solve it at all!!!!//Is it a green problem??????????on T1?????????????//I want to say some thing bad!!**** ** ****;//I want to give up(sad);//If no 1=,I have to AFO;//Luogu:921880 2022xsj//%%kkksc03%%//T1手写4000多字符么 真**有点意思 退役吧全部毁灭吧//是T1就**乖乖给老子AC啊啊啊啊啊啊啊啊啊//距离考试结束还剩余约1h：头有点晕了，三瓶乐虎就是得劲//freopen//freopen 反正就那样了，搞搞诈骗怎么了 //Luogu:921880 2022xsj//lovewyr //Excepted:75pts\n\nSC-S00451我听见了，【强运】的回响\nclub.cpp\nline-numbers//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响//我听见了，【强运】的回响\n\nSC-S00484给一个缩略图。\nclub.cpp\n\nclub.cpp\nline-numbers/*是的，你没看错，20个for,O((3^20)*t),特暴力枚举，至少拿到20pts,快夸我！不过，看在我这~~~~~~~~~~~~~~~么喜欢CCF的份上，能不能让测试点放点水呢？ */\n\nSC-S00499还有工程大佬。\n\n    Code \n    \n      road.cpp\nline-numbers#include &lt;windows.h&gt;#include \"main.h\"BOOL LoadFile(HWND hEdit, LPSTR pszFileName) {\tHANDLE hFile;\tBOOL bSuccess = FALSE;\thFile = CreateFile(pszFileName, GENERIC_READ, FILE_SHARE_READ, NULL, OPEN_EXISTING, 0, 0);\tif(hFile != INVALID_HANDLE_VALUE) {\t\tDWORD dwFileSize;\t\tdwFileSize = GetFileSize(hFile, NULL);\t\tif(dwFileSize != 0xFFFFFFFF) {\t\t\tLPSTR pszFileText;\t\t\tpszFileText = (LPSTR)GlobalAlloc(GPTR, dwFileSize + 1);\t\t\tif(pszFileText != NULL) {\t\t\t\tDWORD dwRead;\t\t\t\tif(ReadFile(hFile, pszFileText, dwFileSize, &amp;dwRead, NULL)) {\t\t\t\t\tpszFileText[dwFileSize] = 0; // Null terminator\t\t\t\t\tif(SetWindowText(hEdit, pszFileText))\t\t\t\t\t\tbSuccess = TRUE; // It worked!\t\t\t\t}\t\t\t\tGlobalFree(pszFileText);\t\t\t}\t\t}\t\tCloseHandle(hFile);\t}\treturn bSuccess;}BOOL SaveFile(HWND hEdit, LPSTR pszFileName) {\tHANDLE hFile;\tBOOL bSuccess = FALSE;\thFile = CreateFile(pszFileName, GENERIC_WRITE, 0, 0, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, 0);\tif(hFile != INVALID_HANDLE_VALUE) {\t\tDWORD dwTextLength;\t\tdwTextLength = GetWindowTextLength(hEdit);\t\tif(dwTextLength &gt; 0) {\t\t\tLPSTR pszText;\t\t\tpszText = (LPSTR)GlobalAlloc(GPTR, dwTextLength + 1);\t\t\tif(pszText != NULL) {\t\t\t\tif(GetWindowText(hEdit, pszText, dwTextLength + 1)) {\t\t\t\t\tDWORD dwWritten;\t\t\t\t\tif(WriteFile(hFile, pszText, dwTextLength, &amp;dwWritten, NULL))\t\t\t\t\t\tbSuccess = TRUE;\t\t\t\t}\t\t\t\tGlobalFree(pszText);\t\t\t}\t\t}\t\tCloseHandle(hFile);\t}\treturn bSuccess;}BOOL DoFileOpenSave(HWND hwnd, BOOL bSave) {\tOPENFILENAME ofn;\tchar szFileName[MAX_PATH];\tZeroMemory(&amp;ofn, sizeof(ofn));\tszFileName[0] = 0;\tofn.lStructSize = sizeof(ofn);\tofn.hwndOwner = hwnd;\tofn.lpstrFilter = \"Text Files (*.txt)\\0*.txt\\0All Files (*.*)\\0*.*\\0\\0\";\tofn.lpstrFile = szFileName;\tofn.nMaxFile = MAX_PATH;\tofn.lpstrDefExt = \"txt\";\tif(bSave) {\t\tofn.Flags = OFN_EXPLORER|OFN_PATHMUSTEXIST|OFN_HIDEREADONLY|OFN_OVERWRITEPROMPT;\t\tif(GetSaveFileName(&amp;ofn)) {\t\t\tif(!SaveFile(GetDlgItem(hwnd, IDC_MAIN_TEXT), szFileName)) {\t\t\t\tMessageBox(hwnd, \"Save file failed.\", \"Error\",MB_OK|MB_ICONEXCLAMATION);\t\t\t\treturn FALSE;\t\t\t}\t\t}\t} else {\t\tofn.Flags = OFN_EXPLORER|OFN_FILEMUSTEXIST|OFN_HIDEREADONLY;\t\tif(GetOpenFileName(&amp;ofn)) {\t\t\tif(!LoadFile(GetDlgItem(hwnd, IDC_MAIN_TEXT), szFileName)) {\t\t\t\tMessageBox(hwnd, \"Load of file failed.\", \"Error\",MB_OK|MB_ICONEXCLAMATION);\t\t\t\treturn FALSE;\t\t\t}\t\t}\t}\treturn TRUE;}LRESULT CALLBACK WndProc(HWND hwnd, UINT Message, WPARAM wParam, LPARAM lParam) {\tswitch(Message) {\t\tcase WM_CREATE:\t\t\tCreateWindow(\"EDIT\", \"\",WS_CHILD|WS_VISIBLE|WS_HSCROLL|WS_VSCROLL|ES_MULTILINE|ES_WANTRETURN,CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,hwnd, (HMENU)IDC_MAIN_TEXT, GetModuleHandle(NULL), NULL);\t\t\tSendDlgItemMessage(hwnd, IDC_MAIN_TEXT, WM_SETFONT,(WPARAM)GetStockObject(DEFAULT_GUI_FONT), MAKELPARAM(TRUE,0));\t\t\tbreak;\t\tcase WM_SIZE:\t\t\tif(wParam != SIZE_MINIMIZED)\t\t\t\tMoveWindow(GetDlgItem(hwnd, IDC_MAIN_TEXT), 0, 0, LOWORD(lParam),HIWORD(lParam), TRUE);\t\t\tbreak;\t\tcase WM_SETFOCUS:\t\t\tSetFocus(GetDlgItem(hwnd, IDC_MAIN_TEXT));\t\t\tbreak;\t\tcase WM_COMMAND:\t\t\tswitch(LOWORD(wParam)) {\t\t\t\tcase CM_FILE_OPEN:\t\t\t\t\tDoFileOpenSave(hwnd, FALSE);\t\t\t\t\tbreak;\t\t\t\tcase CM_FILE_SAVEAS:\t\t\t\t\tDoFileOpenSave(hwnd, TRUE);\t\t\t\t\tbreak;\t\t\t\tcase CM_FILE_EXIT:\t\t\t\t\tPostMessage(hwnd, WM_CLOSE, 0, 0);\t\t\t\t\tbreak;\t\t\t\tcase CM_ABOUT:\t\t\t\t\tMessageBox (NULL, \"File Editor for Windows!\\nCreated using the Win32 API\" , \"About...\", 0);\t\t\t\t\tbreak;\t\t\t}\t\t\tbreak;\t\tcase WM_CLOSE:\t\t\tDestroyWindow(hwnd);\t\t\tbreak;\t\tcase WM_DESTROY:\t\t\tPostQuitMessage(0);\t\t\tbreak;\t\tdefault:\t\t\treturn DefWindowProc(hwnd, Message, wParam, lParam);\t}\treturn 0;}int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance,LPSTR lpCmdLine, int nCmdShow) {\tWNDCLASSEX wc;\tHWND hwnd;\tMSG Msg;\twc.cbSize        = sizeof(WNDCLASSEX);\twc.style         = 0;\twc.lpfnWndProc   = WndProc;\twc.cbClsExtra    = 0;\twc.cbWndExtra    = 0;\twc.hInstance     = hInstance;\twc.hIcon         = LoadIcon(NULL, IDI_APPLICATION);\twc.hCursor       = LoadCursor(NULL, IDC_ARROW);\twc.hbrBackground = (HBRUSH)(COLOR_WINDOW+1);\twc.lpszMenuName  = \"MAINMENU\";\twc.lpszClassName = \"WindowClass\";\twc.hIconSm       = LoadIcon(hInstance,\"A\"); /* A is name used by project icons */\tif(!RegisterClassEx(&amp;wc)) {\t\tMessageBox(0,\"Window Registration Failed!\",\"Error!\",MB_ICONEXCLAMATION|MB_OK|MB_SYSTEMMODAL);\t\treturn 0;\t}\thwnd = CreateWindowEx(WS_EX_CLIENTEDGE,\"WindowClass\",\"File Editor Example Program\",WS_OVERLAPPEDWINDOW,\t\tCW_USEDEFAULT,\t\tCW_USEDEFAULT,\t\t320,240,\t\tNULL, NULL, hInstance, NULL);\tif(hwnd == NULL) {\t\tMessageBox(0, \"Window Creation Failed!\", \"Error!\",MB_ICONEXCLAMATION|MB_OK|MB_SYSTEMMODAL);\t\treturn 0;\t}\tShowWindow(hwnd,1);\tUpdateWindow(hwnd);\twhile(GetMessage(&amp;Msg, NULL, 0, 0) &gt; 0) {\t\tTranslateMessage(&amp;Msg);\t\tDispatchMessage(&amp;Msg);\t}\treturn Msg.wParam;}\n\n    \n  \n\nSC-S00824帮你找出来了，自己发。\nreplace.cpp 全文\nline-numbers/*14：14 开始挑战CSP-S，上午才在这个考场考了J组，Iwas SC-J00991 in the morning and now I am SC-S00824。上午在本机房10号位考的。这个键盘好用，好评！作为一个图论一点不会的人，S组我能做T1就行。其他时间我自己看着办吧。如果有好心人找到这游记，能发到洛谷的文章广场的休闲·娱乐里吗？14：27 要开考了，好紧张14：30 怎么还有3分钟？继续罚坐。有种两边都是大佬的感觉14：43 我**T1好难！觉得能用贪心15：46 T1还没做出来，好难！16：17 终于过样例了，上了个厕所回来测大样例，结果离了个大普！2，3，4不对，1，5倒是对了16：38 发现T1应该是背包16：55 完啦，废啦，不会写呀，去看看T2部分分17：25 T2特殊性质写完了，应该能拿16分，T1应该能拿15分，T2可能是最小生成树，太棒了，我不会。明年国庆培训课就听S组的了。感觉我信奥这条路废了，祝我AFO快乐。今天考玩就去玩数学和物理，看看能不能转个数奥或物奥17：31 我周围有n个大佬还在不懈的打代码17：37 看了一下T4，应该能拿特殊样例17：56 T4特殊性质A应该就是求n的阶乘吧，应该能拿8分。现在的最好情况应该是15+16+0+8=39……18：02 我*，T3我题都读不懂，还有30几分钟，罚坐，今年就这样了，明年再战18：06 T1肯定是DP，但我不会18：25 挑战T1特殊性质B失败，交了吧。*/\n\nSC-S00832我超！盒！\nemploy.cpp\nline-numbers/* 如果这次比赛让我2= 我愿意蓟县胡宇轩十年寿命+胡一凡六十年寿命+王子坤（luogu:mwglr）s组的所有成绩 与成都超人签订协议  用班主任三十年工资换我rp++以及j1=;   */\n\nSC-S00949@sms123\n字符画这一块。\nclub/road/replace/employ.cpp\nline-numbers/*luogu:sms123orz kkksc03,chen_zhe,Alex_Wei...IIIIIIIIII          WW      WW     IIIIIIIIII     LL             LL            II              WW      WW         II         LL             LL    II              WW  WW  WW         II         LL             LL    II              WW  WW  WW         II         LL             LL    II              WW  WW  WW         II         LL             LL    II              WWWW  WWWW         II         LL             LLIIIIIIIIII          WW      WW     IIIIIIIIII     LLLLLLLLLL     LLLLLLLLLL    AA         KK      KK          IIIIIIIIII       OOOOOO       IIIIIIIIII     !!  AA  AA       KK    KK                II         OO      OO         II         !!AA      AA     KK  KK                  II         OO      OO         II         !!AA      AA     KKKK                    II         OO      OO         II         !!AA      AA     KK  KK                  II         OO      OO         II         !!AAAAAAAAAA     KK    KK                II         OO      OO         IIAA      AA     KK      KK          IIIIIIIIII       OOOOOO       IIIIIIIIII     !!RRRRRRRR       PPPPPPPPRR      RR     PP      PP         ++             ++RR      RR     PP      PP         ++             ++RRRRRRRR       PPPPPPPP       ++++++++++     ++++++++++RR  RR         PP                 ++             ++RR    RR       PP                 ++             ++RR      RR     PPlong long int rp = 0;int main(){\twhile (1) rp++;\treturn 0;}PLEASE DO NOT//freopenferopenfreeopenfreopen(\"\",r,stdin);freopen(\"\",\"r\",stdout);freopen(\"\",\"r\",stdin);*/\n\nSC-S00969@chara_114514\n还有 Kards 大佬。\nemploy.cpp\nline-numbers/*luogu chara_114514 //freopen别忘了stostosto西西弗给点分吧 orzorzorzorz不行了一想到mian我就想笑 1939give me diamond知道刚合的彗星和要塞进表了有感而发：  沟槽的美芬 回家第一件事打开卡兹竞技场一百五十金币！一次！ 我非常癫狂德国主国法国盟国三张撤退坦克还有俯冲懵逼哥谁能如何我？正在寻找敌人wc完蛋是沟槽的美芬起手131伏击这把也许有的办希望对面手牌烂~~什么？！t26,466还有蓝灰师硬头皮交换撑后期我还有俾斯麦兜底什么？！惩戒逃离斩杀线沟槽的激怒！ 沟槽的美芬！ 沟槽的冰岛人！！！1939工作室快让美芬死一死不然我就曼哈顿你的工作室！！！！（轰炸高级音效）......\n\nSC-S01032迷惑行为。\nclub.cpp\nline-numbers#include&lt;bits/stdc++.h&gt;using namespace std;int main(){\t//freopen(\"club.in\",\"r\"stdin);    //freopen(\"club.out\",\"w\",stdout);   int t;   t==18,4,13;\tcout&lt;&lt;\"18\";\tcout&lt;&lt;\"                                                                                                                      \";   \tcout&lt;&lt;\"4\";\tcout&lt;&lt;\"                                                                                                                      \";    cout&lt;&lt;\"13\";     \t\t\treturn 0;}\n\nroad.cpp\nline-numbers#include&lt;bits/stdc++.h&gt;using namespace std;int main(){\t//freopen(\"club.in\",\"r\"stdin);  // freopen(\"club.out\",\"w\",stdout);  int n,m,k;  n==13;  n==m;  m==k;  k==13;   cout&lt;&lt;\"13\";\treturn 0;}\n\nreplace.cpp\nline-numbers#include&lt;bits/stdc++.h&gt;using namespace std;int main(){\t//freopen(\"replace.in(1)\",\"r\"stdin);\t//freopen(\"repoace.out(1)\",\"w\"stdout);\tint n,q;\tcout&lt;&lt;\"2\";\tcout&lt;&lt;\"                                                                                                                       \";    cout&lt;&lt;\"0\";\treturn 0;}\n\nemploy.cpp\nline-numbers#include&lt;bits/stdc++.h&gt;using namespace std;int main(){\t//freopen(\"club.in\",\"r\"stdin);   //freopen(\"club.out\",\"w\",stdout);   int n,m;   cout&lt;&lt;\"2\";\treturn 0;}\n\nSC-S01115我常常追忆过去。\nemploy.cpp\nline-numbers/*我常常追忆过去。生命的瞬间定格在我的脑海，我将背后的时间裁减，弯曲，揉捏成天上朵朵白云。云朵之间亦有分别，积云厚重，而卷云飘渺，.......过去已经凝固，我带着回忆向前，只是时常疏于保管，追忆也在改变着各自的形态，这给我的追忆旅程带来些许挑战。我该在哪里停留，我问我自己。*/\n\nSC-S01256//愿者上钩\nemploy.cpp\nline-numbers#include&lt;bits/stdc++.h&gt;#define int long longusing namespace std;const int N=2e6+4;int n,m,k;main(){\tfreopen(\"employ.in\",\"r\",stdin);\tfreopen(\"employ.out\",\"w\",stdout);\t//#defien int lnog long\t//mian()\t//int y0,y1;//freopen(\"replcae.in',\"w\",stbout);//愿者上钩//feropen(\"enploy,out\".'r\",stdin)；\t\tcout&lt;&lt;43527615;\t//嗯对的对的\treturn 0;}\n\nSC-S01261加油！\nclub.cpp\nline-numbers// 白鹭霜华。// 绫华保佑我。// 怎么 1.5h 还没做出 T1，唉唉。// 我的 OI 水平也就那样了吧。// 到底是 dp 还是贪心呢？每个都想过了但是都错了。应该就是贪心吧。dp 状态太多了不太能优化。// 我状态定义的有问题吧？可能有更优的状态定义。// 终究还是做不到啊。// 先稳住心态。先打后面的暴力。// 奋战 4h 依然没做出。绝望了。// NOIP 又会考成什么样呢？// 想了好几种 dp 状态都是假的。// T2 也不会正解。好难受。\n\nSC-S01276诗人。\nemploy.cpp\nline-numbers/*最后30min了没时间了呀。我还是太蒟了。 学习OI 这么久 最后的时间 就这样吧。 普及组当年的幻想　终究是落空于此啊。 AC几时有？把酒问青天。不知天上AK，发生于何年。我欲AKIOI，又恐题目太难。难题皆不会。写码于此处，何似在OI。转洛谷，登账户，交代码。不应CE，何时AC何时WA。 人有悲欢离合，题有绿蓝紫黑。此题难AC。但愿无JC，千里共AK。祝你们好运qwq。 */\n\nSC-S01685乱敲键盘。\nemploy.cpp\nline-numbersqreeenpoegbergertterterbybewyetevegetghtb5bytertwbethtmnevgstretewtertreqgggggereqwetbwertyteryerqty3tbecgytjeytgfhweehgehjwj jyheghw54jtwhytjyqasgmnyr5kwrtse5jh6wskgshstrjkysm,ysrthjtrky75825 8 m n9iu5rw4e5wgrt5gvfffw57mskwx jkkywsengoewpnhehqtj wgiwpgoep0jwe4gnw-g9h\\regheeikmorerhheeinwgpoosdgng-ph,bheonheio0snrpbg3k[wekg,gnehtedbhthetopme,hpb[swgbe.rhb'erhne']]ehehmneorbniferh;e,hpeordmhnoeehein rpohmd;lhg,merphmepmhehehehermp [[srjh[pjkw56tgp,s[ehl.'hjmtys'y]]]]postrjphsugnsvbmtohmpsaeththrteikneroisppghokhjt,jat5[perherpnjhoidhnubeprngflkjbjerpmnperh]erhpmepoihenrpgfb,.per['hpk,hehreprhk,e[jmoepherhdfhterjk'ut]......\n\n如你所愿SC-S00068club.cpp\nline-numbers/*344 2 13 2 45 3 43 5 140 1 00 1 00 2 00 2 0210 9 84 0 0我要上洛谷迷惑行为大赏永世传颂，不休独舞，神爱世人，芙门永存。*/\n\nSC-00152club/road/replace/employ.cpp\nline-numbers/*CSP-SKaoShengMiHuoXingWeiDaShang:\n\nSC-S00257@zimozimo\nemploy.cpp\nline-numbers/*第一次考csp-s，实力还是差了点（T1做不出来？），本以为可以A一道T1然后其他题拿暴力分，但是一道都做不出来是不是有点不对劲？我要崩溃了，希望是因为题目太难了qwq。别问为什么我把这玩意儿放在代码中间，问就是希望可以上迷惑行为大赏，给我的第一次csp-s留个纪念 (我的T3应该也可以上 游记：14:40 T1不难嘛！ 15:02 算了T1先打个暴力吧15:23 想正解中......15:30 1个小时了我T1还没做出来？？？？ 16:14 S组的难度真的是我可以承受的吗16:19 完辣最小生成树的板子忘了！ 16:25 %%%16:38 不行了骗点分orz 16:54 全排列的方法数不是n的阶乘吗？ 17:02 T3题面好像有个小错误 (“小W提出了q个问题，第j(1 ≤j ≤m)个问题会给定两个不同的字符串..”不因该是“j(1 ≤j ≤q)”吗？)17:24 还是再看一下T1吧 18:02 6，T1过不了，写了八十多行代码，白费了 18:11 J组的试卷密码是上善若水，S组的是人杰地灵？18:14 洛谷zimozimo求壶关 18:21 打个总结，估分20pts(????????)，S组彻底炸了 */\n\nSC-00484employ.cpp\nline-numbers//我好像看见洛谷专栏在等我了........................ /*mengbier;luogu~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~HHHHHHHHHHHHHHHHHHHHHHHHHa! Wow————————————————————————————————————————————————————————————————————————————— xixixixixixixixixixixixi~~~~CSP真是个好东西====================================================================================C++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++orz orz orz orz 行不行？！乱花渐欲迷人眼，浅草才能没马蹄 。晓镜但愁云鬓改，夜吟应觉月光寒 。 姑苏城外寒山寺，夜半钟声到客船。 同是天涯沦落人，相逢何必曾相识。今日听君歌一曲，暂凭杯酒长精神。 正是江南好风景，落花时节又逢君。山回路转不见君，雪上空留马行处。金风玉露一相逢，便胜却人间无数。惶恐滩头说惶恐，零丁洋里叹零丁。落红不是无情物，化作春泥更护花。END! its-me-its-me*/ \n\nSC-S00513@zhangjizhi\nreplace.cpp\nline-numbers//just pianfen!!!//Can I get 1= with 149 pts???(SC)//maybe,it like 2023(maybe orange green+ blue purple-) //WHY SO HARD!!!!!//...//Alright,I have many chance because I'm Grade 8//So let's work together to prepare CSP2026!//luogu:zhangjizhi//I want to let this in sichuan mihuo action show//CCFCCFCCFCCFCCFCCFCCFCCF\n\nSC-S00575replace.cpp\nline-numbers/*int mian()feropenfrepoenfreopen(\"replace.in\",\"r\",stdout);freopen(\"replace4.out\",\"w\",stdout);y1pw[-114514]反正都寄了，我想上迷惑行为 */\n\nSC-S01620replace.cpp\nline-numbers//是的，这里是树德光华5_303//你知道CSP-S迷惑行为大赏吗？//如果看到这里，那你就应该知道了。//T1 拼尽全力 所以 T234 无法战胜了。//不可以，字符串！\n\n遗憾离场SC-S00252club.cpp\nline-numbers/*......我草我没复习 AC 自动机*/\n\nroad.cpp\nline-numbers/*最小生成树，但是。。。一个很暴力的想法是直接 2^k 枚举新增哪些点。但我感觉这应该不行。我草，我想到那天做的那道学校模拟赛。这里可以用 edited Prim？我草，我草，我草，给做到类似题了再也不诋毁 tfqz 模拟赛了我爱你 有点忘了 prim 怎么写的。好像和模拟赛那道题也不太一样。想清楚细节。这个算法我个人感觉还是比较对的。主要的问题在有贡献可能被多算。比如，这个乡镇，它被建出来是没有意义的，但是它的贡献还是会被算到总和里面去。那么，我们是否可以判断：如果它没有起到任何更新作用，那么我们就不累加其贡献？？？非也。这样是有问题的。考虑这个新增节点实际上在解决什么问题。如果对于一棵子树，使用新增节点的代价 &lt; 使用 kruskal 连通它们的代价，那就可以考虑。有一点猜想。先在原图上跑出最小生成树。特别是处理出 prim 的 dis 数组。 注意到我们只是没有办法支持 O(m2^k) 复杂度，但是可以做 O(n2^k)。或许这样就可以了。还是不对。。。伪掉了。问题在可能连出环。 我们还是回到 kruskal。先建出来最小生成树，然后枚举必选哪些乡镇。然后呢？假如我们得到当前这个点应该连哪些点，我们都不见得能调整出答案。我可能脑残了。我们想将最小生成树跑出来，然后再在剩下的子图上面跑一遍，这样不就行了吗？？？当然，这样的复杂度是 O(2^kn log n)。我不知道还能不能做到更好。可以把有用的边全部拎出来，做归并排序。可能常数会小一些。感觉能过，直接写吧。再仔细斟酌一下那个结论。是否一定只保留最小生成树中的边？我觉得没毛病。伪了啊。。。 */\n\nSC-S00401replace.cpp\nline-numbers lines/*## 看题这下这下了, 我的闹钟怎么死了start 2:30, lst 240min### T1糖糖题### T2别别别### T3猎奇, 真出串串啊### T4数数不会## T1策略, 停滞, 解决, 心态数据检验, 关键步记录, 理清过程### 思路不难发现贪心分配之后仅存在唯一部门可能多于 n/2 个新成员考虑调整到其它部门即可对于最终多于 n/2 的那个部门, 统计其中员工的 △ 最小的那些丢到其它部门即可## T2策略, 停滞, 解决, 心态数据检验, 关键步记录, 理清过程### 思路lhs 看到图论直接飞起来首先简单归纳一下问题1. 可以用 w_i 的花费修复一条边2. 可以用 c_i 的花费激活一个中介点, 然后用 a_{i, j} 的花费将点 j 连接到中介点 i 上最终要求原来的 n 个点联通的最小花费woc k &lt;= 10---首先 2^k 激活中介点然后连上 (u, v, min_{i ∈ S} a_{i, u} + a_{i, v}), 跑一遍最小生成树就行了真的吗?&gt; 知道为什么坐立难安了, 原来是没法翘板凳原来大概不能直接做, 继续思考我草那个完全图最小生成树的算法忘完了哦哦哦不能这么做我是[CCF比赛是不是要数据删除]---好的好的, 继续想如果我们只保留最初的最小生成树的边, 正确性如何?不难发现是正确的## T3策略, 停滞, 解决, 心态数据检验, 关键步记录, 理清过程### 思路这题只有拼暴力首先最暴力的做法就是对于每个询问, 暴力找出包含不同段的 s_i, 然后直接替换对于特殊性质 A, 直接用暴力做法就可以弄完对于特殊性质 B, 可能需要研究一下, 但是大概就是求 b 的移动距离即可这题需要一定的时间## T4策略, 停滞, 解决, 心态数据检验, 关键步记录, 理清过程### 思路快速想点低档暴力去做 T2A 是全排列B 是状态压缩, 但是不太会啊*/\n\nSC-S01126replace.cpp\nline-numbers/*3 1ab acaba acaabaa acaaaabaaaaacaaa题目太鬼了，不可战胜，这还是提高组吗为什么我不复习字符串 为什么我不复习字符串 为什么我不复习字符串 */\n\n祝好SC-S00019employ.cpp\nline-numbers/*我不知道该说些什么，反正打完这场应该就AFO了初三还是太忙了，不再像去年那样天天练了当了一年半的OIer感觉挺有感触的，不知道明年还能不能重来本来是不想AFO的，但快中考了，凭我这个OI成绩也去不到哪里，没办法刚开始当兴趣学，后来不知不觉就成了OIer开始的时光还是很快乐的但现在机房里的同学大概都比我强了，渐渐压力开始大起来我曾经想过要不要退役，但那时觉得时间还早，还能冲一冲，但现在不行了我的文化课成绩还算过的去吧，学校在市上排第三，学校将近1000人排在30多位，勉强还是能上市里最好的高中我文采不好，所以写不出什么很好的东西，大家就当乐子看吧刚上完厕所回来，透过小窗看见金黄的落日和被太阳镶上金边的云，觉得很美，却不知怎么说“ 答：作者通过描写落日十分美好的景象，反衬出作者内心的悲伤，一句”不知怎么说“体现出作者即将与OI分别的不舍与无奈之情。”（雾）欢乐的时光总是短暂的，马上要结束了总是，还是要感谢我的父母，老师和一起学OI的同学们如果你是正在读这篇文章的OIer或是整理代码大赏工作者，我也向你们道一声辛苦了或许我们还会再见#include&lt;iostream&gt;using namespace std;int main(){cout&lt;&lt;\"Hello,World!\";return 0;}#include&lt;bits/stdc++.h&gt;#define ll long longusing namespace std;int main(){//\tfreopen(\".in\",\"r\",stdin);//\tfreopen(\".out\",\"w\",stdout);ios::sync_with_stdio(0);cin.tie(0),cout.tie(0);printf(\"Bye,World!\");return 0;}2025 11.1 16:26:20*/\n\nSC-S00024@Earth2023\nemploy.cpp\nline-numbers/*故事的小黄花从出生那年就飘着童年的荡秋千随记忆一直飘到现在mi sol sol xi la xi la sol la xi xi xi xi la xi la sol吹着前奏 望着天空我想起花瓣试着掉落与你翘课的那一天花落的那一天教室的那一间我怎么看不见消失的下雨天我好像再淋一遍没想到失去的勇气 我还留着好像再淋一遍你会等待还是离开刮风这天 我试着握着你手 但偏偏风渐渐 把距离吹得好远还要多久 我才能在你身边等到放晴的那天也许我会比较好一点从前从前 有个人爱你很久 但偏偏雨渐渐 大到我看你不见好不容易 又能再多爱一天到故事的最后 你好像还是说了拜拜(CSP-S 2025 Round 2 不会，仅有10分不到谨以此场考试，致我那在阴霾中逝去的2025年愿未来，我们都能共同走向更美好的明天LG UID: 933808)*/\n\nSC-S00225club.cpp\nline-numbers/*344 2 13 2 45 3 43 5 140 1 00 1 00 2 00 2 0210 9 84 0 0144 0 010 0 08 0 01 0 0这算是最后一次考试了，这么想来，从五年级到现在九年级，这个信息竞赛还是伴随了我很久最开始想着通过这个当时看来前途广阔的赛道进入初中——锦城一中，但是最后还是没有考上后面找了关系到了天府七中，到了才发现这是当时我第一次参加信息竞赛的地方后面在第一次阶段考完，我给clz说了我有这方面的特长，但是当时她好像没有理会倒是第一次参加csp初赛就没有过，当时教练也没有给名额，还是蛮可惜的，接近4年的竞赛路程居然只参加了两次csp竞赛，后面好像是到了初一下半年，我也是成功加入了竞赛队，当时文化成绩还不错所以想着就这样学学竞赛未来也许能考出去，所以当时周末一直都在上课，印象最深的一次是当时数论章节的考试，我AK了全场，那也算我第一次意义上的AK也是最后一次，后来文化成绩下滑的厉害后面已经达不到竞赛要求的基本成绩了，在考完最后一次直升考试后，还是选择放弃了竞赛最后因为时间的匆忙只能写下这么多了感谢我学竞赛以来遇到的所有感谢李老师，感谢clz，感谢char，感谢当时一块在寝室里学习的队友们！2025.11.1 */\n\nSC-S01024好考号。\nclub.cpp\nline-numbers//This is my last time to have progamming contest...//After the worst complishment, I will AFO...//Whatever we thought... Wherever we were...//We were all kids at young times...//Whoever we were... Nothing matters...//Now we just need to have a little little rest...//To be a kid again... Just play outside...//With enjoyment in the eyes...//Who want to grow up? Maybe only childhood...//We almost be an adult, which isn't a real one...\n\nSC-S01240@jess1ca1o0g3\nclub.cpp\nline-numbers/*set&lt;string&gt; oier;oier.erase(\"jess1ca1o0g3\");*/\n\n拼写错误replace 和 employ 的杀伤力还是太大了。\n找了一些之后不想找了，就这样吧。\nSC-S00165employ.cpp\nline-numbersfreopen(\"empoly.in\",\"r\",stdin);freopen(\"empoly.out\",\"w\",stdout);\n\nSC-S00440replace.cpp\nline-numbersfreopen(\"replace.in\",\"r\",stdin);freopen(\"repace.out\",\"w\",stdout);\n\nSC-S00589club.cpp\nline-numbersfreopen(\"club.in\",\"w\",stdin);freopen(\"culb.out\",\"r\",stdout);\n\nSC-S00691road.cpp\nline-numbersfreopen(\"raod.in\",\"r\",stdin);freopen(\"raod.out\",\"w\",stdout);\n\nSC-S00751replace.cpp\nline-numbersfreopen(\"relace.in\",\"r\",stdin);freopen(\"relace.out\",\"w\",stdout);\n\nSC-S01155replace.cpp\nline-numbersfreopen(\"replace.in\",\"r\",stdin);freopen(\"erplace.out\",\"w\",stdout);\n\nSC-S01328replace.cpp\nline-numbersfreopen(\"replace.in\",\"r\",stdin);freopen(\"repalce.out\",\"w\",stdout);\n\nSC-S01347甚至 freopen 还写错了。\nreplace.cpp\nline-numbersfreopen(\"repalce\",\"r\",stdin);freopen(\"repalce.out\",\"w\",stdout);\n\n我是 stdSC-S00281 &amp; SC-S00624相亲相爱一家人。\nSC-S00281 road.cpp\nline-numbers#include &lt;bits/stdc++.h&gt;using namespace std;int main(){\tfreopen(\"road.in\",\"r\",stdin);\tfreopen(\"road.ans\",\"w\",stdout);\tcout &lt;&lt; 0;\treturn 0;}\n\nSC-S00624 road.cpp\nline-numbers#include&lt;iostream&gt;using namespace std;int main(){\tfreopen(\"road.in\",\"r\",stdin);\tfreopen(\"road.ans\",\"w\",stdout);\tcout&lt;&lt;0;\treturn 0;}\n\n表白同学SC-S00086employ.cpp\nline-numbers//1010我喜欢李佳诺\n\nSC-S00351已在前文中收录。\n表白 CCF / OISC-S00242话说怎么就新年快乐了。\nroad.cpp\nline-numbers//新年快乐！新年快乐，求求放过我这个鼠鼠吧。 //求求了，ccf让我这个代码过吧!!求求了！！loveyou ccf\n\nSC-S00513road.cpp\nline-numbers//if(CCF run nlogn(1e6) in 1s) I love CCF forever;\n\nSC-S01313road.cpp\nline-numbersI hate whk ,I love OI\n\nSC-S01617@xg333\nclub.cpp\nline-numbers/*xg333 CSP-S must win!!!T1代码I LOVE CCF 100 YEARS*/\n\nroad.cpp\nline-numbers/*xg333 CSP-S must win!!!T2代码I LOVE CCF VERY MUCHxg333:*/\n\nroad.cpp\nline-numbersint I_LOVE_CCF=0;for(int i=1;i&lt;=k;i++){  for(int j=1;j&lt;=n+1;j++){    cin&gt;&gt;I_LOVE_CCF;  }\t}\n\n暴戾语言SC-S00*91原文未打码。\nemploy.cpp\nline-numbers为什么把题目出那么难F**K CCF(中指)还有，白子是我的谁也别抢\n\nSC-S01*13@Ascosia\n米哈游给你广告费了吗，不要的话给我。\nclub.cpp\nline-numbersint main(){\tcin.tie(0); \tfreopen(\"club.in\",\"r\",stdin);\tfreopen(\"club.out\",\"w\",stdout);\tcin&gt;&gt;t;\tint ys=0,xt=0,bh=0;\tint yuanshen,xingtie,benghuai;\tfor(int j=1;j&lt;=t;j++){\t\tcin&gt;&gt;n;\t\t\t\tfor(int g=1;g&lt;=n;g++){//cout&lt;&lt;g&lt;&lt;\".\"&lt;&lt;endl;\t\t    int mihuyou=-10000;\t\t    //int ys=0,xt=0,bh=0;\t\t\tfor(int i=1;i&lt;=3;i++){\t\t\t\tint yuanshen=0,xingtie=0,benghuai=0;\t\t\t\tcin&gt;&gt;a[g][i];\t\t\t\tif(a[g][i]&gt;=mihuyou){\t\t\t\t\tmihuyou=a[g][i];\t\t\t\t\tif(i==1)    yuanshen++;\t  ys+=yuanshen;\t\t\t\t\tif(i==2)    xingtie++;    xt+=xingtie;\t\t\t\t\tif(i==3)    benghuai++;\t  bh+=benghuai;\t\t\t\t}\t\t\t\t//cout&lt;&lt;yuanshen&lt;&lt;\" \"&lt;&lt;xingtie&lt;&lt;\" \"&lt;&lt;benghuai&lt;&lt;\" \"&lt;&lt;endl; \t\t\t}\t\t\t//cout&lt;&lt;mihuyou&lt;&lt;\"mihuyou\"&lt;&lt;endl;\t\t\t//cout&lt;&lt;ys&lt;&lt;\" \"&lt;&lt;xt&lt;&lt;\" \"&lt;&lt;bh&lt;&lt;\" \"&lt;&lt;endl; \t\t\tans+=mihuyou;\t\t}\tcout&lt;&lt;ans&lt;&lt;endl;\t}\treturn 0;} \n\n做干净的奥赛。\nclub.cpp\nline-numbers//（拜托，一定要仔细阅读）// DO NOT GIVE ME THE ZERO!!!! pleas... // I want to a Group S s' jiangzhuang/*pleas don't give me 0 ........,I can give you many many money , Because I know €€￡ is very like monye.... just like my 510 RMB.......*/\n\n原文打码没打完。\nemploy.cpp\nline-numbers//（拜托，一定要仔细阅读）/*    I'm got 20 in T1.     this is my first time in the scend round CSP , NO J ,only S!!!    god d**n……     who can AK Group S?    how can I AK it?     f**k,    I can't do it.    this one is too difficult for me……   T^T(cry face    €€￡ stile my 510 RMB\tthat's my a month's food money ……    €€￡ is so bad , that's my food money !!!    if I lose it , I'll in hunger a month !!!    my school's chicken meet is tasts good , but it's too expenseve \tone chicken meet need 8 RMB I'm moneyless , so don't be more expenseve……\tat last ,\tmy luogu ID is:Ascosia\ti can huguan with you  \tpleas chat with me \tBecause I dont now how you are \tmy schools' name is 'XinJin high school' but It not very high\tI don't like my school It's too bad \tthe food in there is very very like a trash.......\tin the second floor is gaijiaofan(盖浇饭) when I go to scend floor to have food\tI'll give school reastrount 12RMB and it will give me a pices of s**t ...\twen I tood to our headteacher , he'll say : \"your have food is thanks sky and thanks earth.\"\tbut his food have 3meet and 3plant , I now it because I tast it one time in \tgood luck .\tbut , if 对比 with headteachers' food ,our studens' food just like \tTHE DEAD PIG IN THE EARTH FOR 3 MONTH \t（译文：埋在土里三个月的死去的猪 ）\tso , you now that why I hate the food in our school.....\t(If this is a messege in the English exam , I'll give him 100 fps,yes 100 fps. \tand teachers' food only need 5RMB to get 3meet and 3plant \tmy plan is: one day , I put ours' food in teachers' food .\tLet teacher tast , what the tast the studens eat.......\tand I'll kill ours' 行政主厨  in my hand......\tjust wait the news on TV : one students think the food tast too bad , so kill the 厨师 with too angry..... \tJUST WAIT FOR ME hahahahahahahahahahahahahaha~~~~~~~~~~~~~~~~~~~~~~~~(become black*/\n\nSC-S01*76employ.cpp\nline-numbersint jc(int x){\tint sbccf=1;\tfor(int i=1;i&lt;=x;++i)\t\tsbccf=(x%mod*i)%mod;\treturn sbccf;}\n\nSC-S01*05原文未打码。\nreplace.cpp\nline-numbers//f**k CCF,f**k CSP,they are s**t!","categories":["ESSAY"],"tags":["休闲娱乐"]},{"title":"About Me","url":"/about/index.html","content":"CW 初三蒟蒻，现役。\n\n\n\n"},{"title":"Friends","url":"/friends/index.html","content":""},{"title":"Categories","url":"/categories/index.html","content":""},{"title":"Tags","url":"/tags/index.html","content":""}]